;(function(global){var __wxConfig = global.WXConfig;var regeneratorRuntime,BabelRuntimeHelpers={};(()=>{var e={3473:(e,t,n)=>{"use strict";function i(e,t,n,i,a){var r={};return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}n.r(t),n.d(t,{default:()=>i})},676:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:()=>i})},9968:(e,t,n)=>{"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>i})},3349:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:()=>i})},2137:(e,t,n)=>{"use strict";function i(e,t,n,i,a,r,o){try{var s=e[r](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,c,"next",e)}function c(e){i(o,a,r,s,c,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,{default:()=>a})},6610:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:()=>i})},6481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(4665),a=n(1814);function r(e,t,n){return(r=(0,a.Z)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&(0,i.Z)(r,n.prototype),r}).apply(null,arguments)}},5991:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.r(t),n.d(t,{default:()=>a})},1965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(2961);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.Z)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}},446:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(7608),a=n(1814),r=n(6070);function o(e){var t=(0,a.Z)();return function(){var n,a=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,r.default)(this,n)}}},6156:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:()=>i})},6213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(7608);function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i.default)(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}},7608:(e,t,n)=>{"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,{default:()=>i})},379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(4665);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i.Z)(e,t)}},5770:(e,t,n)=>{"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}n.r(t),n.d(t,{default:()=>i})},906:(e,t,n)=>{"use strict";function i(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}n.r(t),n.d(t,{default:()=>i})},1814:(e,t,n)=>{"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:()=>i})},6410:(e,t,n)=>{"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>i})},8970:(e,t,n)=>{"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>i})},8991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(6156);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},7375:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t),n.d(t,{default:()=>i})},6070:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(8),a=n(3349);function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?(0,a.default)(e):t}},4665:(e,t,n)=>{"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:()=>i})},8481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(9968);var a=n(2961),r=n(8970);function o(e,t){return(0,i.Z)(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,a,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}}(e,t)||(0,a.Z)(e,t)||(0,r.Z)()}},9809:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(9968),a=n(6410),r=n(2961),o=n(8970);function s(e){return(0,i.Z)(e)||(0,a.Z)(e)||(0,r.Z)(e)||(0,o.Z)()}},5061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(676);var a=n(6410),r=n(2961);function o(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||(0,a.Z)(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:(e,t,n)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,{default:()=>i})},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(676);function a(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}},7869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(7608),a=n(4665);var r=n(6481);function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,r.default)(e,arguments,(0,i.default)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,a.Z)(o,e)})(e)}},8503:(e,t,n)=>{var i={"./applyDecoratedDescriptor":3473,"./assertThisInitialized":3349,"./asyncToGenerator":2137,"./classCallCheck":6610,"./construct":6481,"./createClass":5991,"./createForOfIteratorHelper":1965,"./createSuper":446,"./defineProperty":6156,"./get":6213,"./getPrototypeOf":7608,"./inherits":379,"./initializerDefineProperty":5770,"./initializerWarningHelper":906,"./objectSpread2":8991,"./objectWithoutProperties":7375,"./possibleConstructorReturn":6070,"./slicedToArray":8481,"./toArray":9809,"./toConsumableArray":5061,"./typeof":484,"./wrapNativeSuper":7869};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=8503},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},7757:(e,t,n)=>{n(5666)},2136:(e,t,n)=>{"use strict";n.r(t);n(7757);var i=n(8503);i.keys().forEach((e=>{BabelRuntimeHelpers[e.substr(2)]=i(e)}))},5269:(e,t,n)=>{"use strict";n.r(t);n(1817),n(2443),n(4944),n(6535),n(6992),n(5827),n(6644),n(5069),n(2707),n(3792),n(9244),n(8264),n(9575),n(5438),n(1874),n(9595),n(5500),n(8559),n(4869),n(3952),n(8674),n(7727),n(6528),n(3112),n(5306),n(3210),n(8702),n(5674),n(4197),n(6495),n(7145),n(5109),n(5125),n(2472),n(9743),n(8255),n(9135),n(8145),n(5206),n(8628),n(5743),n(7314),n(6290),n(3728),n(7207),n(3948);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))},7800:(e,t,n)=>{var i=n(6656),a=n(3157),r=n(4705),o=n(5465),s=r.data,c=r.normalize,l="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(a(e))for(var n=0;n<e.length;n++)s[c(e[n])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,r.NATIVE),d(e.usePolyfill,r.POLYFILL),d(e.useFeatureDetection,null),i(e,l)&&(o.USE_FUNCTION_CONSTRUCTOR=!!e.USE_FUNCTION_CONSTRUCTOR),i(e,u)&&(o.USE_FUNCTION_CONSTRUCTOR=e.AsyncIteratorPrototype))}},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var i=n(111);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var i=n(5112),a=n(30),r=n(3070),o=i("unscopables"),s=Array.prototype;null==s[o]&&r.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},1530:(e,t,n)=>{"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var i=n(111);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},4019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,n)=>{"use strict";var i,a=n(4019),r=n(9781),o=n(7854),s=n(111),c=n(6656),l=n(648),u=n(8880),d=n(1320),p=n(3070).f,f=n(9518),h=n(7674),v=n(5112),g=n(9711),y=o.Int8Array,m=y&&y.prototype,_=o.Uint8ClampedArray,w=_&&_.prototype,b=y&&f(y),I=m&&f(m),E=Object.prototype,T=E.isPrototypeOf,k=v("toStringTag"),A=g("TYPED_ARRAY_TAG"),C=a&&!!h&&"Opera"!==l(o.opera),S=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},D=function(e){if(!s(e))return!1;var t=l(e);return c(x,t)||c(P,t)};for(i in x)o[i]||(C=!1);if((!C||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},C))for(i in x)o[i]&&h(o[i],b);if((!C||!I||I===E)&&(I=b.prototype,C))for(i in x)o[i]&&h(o[i].prototype,I);if(C&&f(w)!==I&&h(w,I),r&&!c(I,k))for(i in S=!0,p(I,k,{get:function(){return s(this)?this[A]:void 0}}),x)o[i]&&u(o[i],A,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:S&&A,aTypedArray:function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(T.call(b,e))return e}else for(var t in x)if(c(x,i)){var n=o[t];if(n&&(e===n||T.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(r){if(n)for(var i in x){var a=o[i];a&&c(a.prototype,e)&&delete a.prototype[e]}I[e]&&!n||d(I,e,n?t:C&&m[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,a;if(r){if(h){if(n)for(i in x)(a=o[i])&&c(a,e)&&delete a[e];if(b[e]&&!n)return;try{return d(b,e,n?t:C&&y[e]||t)}catch(e){}}for(i in x)!(a=o[i])||a[e]&&!n||d(a,e,t)}},isView:function(e){if(!s(e))return!1;var t=l(e);return"DataView"===t||c(x,t)||c(P,t)},isTypedArray:D,TypedArray:b,TypedArrayPrototype:I}},3331:(e,t,n)=>{"use strict";var i=n(7854),a=n(9781),r=n(4019),o=n(8880),s=n(2248),c=n(7293),l=n(5787),u=n(9958),d=n(7466),p=n(7067),f=n(1179),h=n(9518),v=n(7674),g=n(8006).f,y=n(3070).f,m=n(1285),_=n(8003),w=n(9909),b=w.get,I=w.set,E="ArrayBuffer",T="DataView",k="Wrong index",A=i.ArrayBuffer,C=A,S=i.DataView,x=S&&S.prototype,P=Object.prototype,D=i.RangeError,R=f.pack,O=f.unpack,N=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},F=function(e){return R(e,23,4)},B=function(e){return R(e,52,8)},j=function(e,t){y(e.prototype,t,{get:function(){return b(this)[t]}})},U=function(e,t,n,i){var a=p(n),r=b(e);if(a+t>r.byteLength)throw D(k);var o=b(r.buffer).bytes,s=a+r.byteOffset,c=o.slice(s,s+t);return i?c:c.reverse()},G=function(e,t,n,i,a,r){var o=p(n),s=b(e);if(o+t>s.byteLength)throw D(k);for(var c=b(s.buffer).bytes,l=o+s.byteOffset,u=i(+a),d=0;d<t;d++)c[l+d]=u[r?d:t-d-1]};if(r){if(!c((function(){A(1)}))||!c((function(){new A(-1)}))||c((function(){return new A,new A(1.5),new A(NaN),A.name!=E}))){for(var V,Z=(C=function(e){return l(this,C),new A(p(e))}).prototype=A.prototype,H=g(A),Y=0;H.length>Y;)(V=H[Y++])in C||o(C,V,A[V]);Z.constructor=C}v&&h(x)!==P&&v(x,P);var z=new S(new C(2)),q=x.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(x,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){l(this,C,E);var t=p(e);I(this,{bytes:m.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},S=function(e,t,n){l(this,S,T),l(e,C,T);var i=b(e).byteLength,r=u(t);if(r<0||r>i)throw D("Wrong offset");if(r+(n=void 0===n?i-r:d(n))>i)throw D("Wrong length");I(this,{buffer:e,byteLength:n,byteOffset:r}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},a&&(j(C,"byteLength"),j(S,"buffer"),j(S,"byteLength"),j(S,"byteOffset")),s(S.prototype,{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(U(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(U(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(U(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(U(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){G(this,1,e,N,t)},setUint8:function(e,t){G(this,1,e,N,t)},setInt16:function(e,t){G(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){G(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){G(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){G(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){G(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){G(this,8,e,B,t,arguments.length>2?arguments[2]:void 0)}});_(C,E),_(S,T),e.exports={ArrayBuffer:C,DataView:S}},1285:(e,t,n)=>{"use strict";var i=n(7908),a=n(1400),r=n(7466);e.exports=function(e){for(var t=i(this),n=r(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);l>s;)t[s++]=e;return t}},1318:(e,t,n)=>{var i=n(5656),a=n(7466),r=n(1400),o=function(e){return function(t,n,o){var s,c=i(t),l=a(c.length),u=r(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var i=n(9974),a=n(8361),r=n(7908),o=n(7466),s=n(5417),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,p=7==e,f=5==e||d;return function(h,v,g,y){for(var m,_,w=r(h),b=a(w),I=i(v,g,3),E=o(b.length),T=0,k=y||s,A=t?k(h,E):n||p?k(h,0):void 0;E>T;T++)if((f||T in b)&&(_=I(m=b[T],T,w),e))if(t)A[T]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:c.call(A,m)}else switch(e){case 4:return!1;case 7:c.call(A,m)}return d?-1:l||u?u:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},9341:(e,t,n)=>{"use strict";var i=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},3671:(e,t,n)=>{var i=n(3099),a=n(7908),r=n(8361),o=n(7466),s=function(e){return function(t,n,s,c){i(n);var l=a(t),u=r(l),d=o(l.length),p=e?d-1:0,f=e?-1:1;if(s<2)for(;;){if(p in u){c=u[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in u&&(c=n(c,u[p],p,l));return c}};e.exports={left:s(!1),right:s(!0)}},5417:(e,t,n)=>{var i=n(111),a=n(3157),r=n(5112)("species");e.exports=function(e,t){var n;return a(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},7072:(e,t,n)=>{var i=n(5112)("iterator"),a=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var i=n(1694),a=n(4326),r=n(5112)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?a(t):"Object"==(i=a(t))&&"function"==typeof t.callee?"Arguments":i}},9920:(e,t,n)=>{var i=n(6656),a=n(3887),r=n(1236),o=n(3070);e.exports=function(e,t){for(var n=a(t),s=o.f,c=r.f,l=0;l<n.length;l++){var u=n[l];i(e,u)||s(e,u,c(t,u))}}},8544:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var i=n(3383).IteratorPrototype,a=n(30),r=n(9114),o=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=a(i,{next:r(1,n)}),o(e,l,!1,!0),s[l]=c,e}},8880:(e,t,n)=>{var i=n(9781),a=n(3070),r=n(9114);e.exports=i?function(e,t,n){return a.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var i=n(7593),a=n(3070),r=n(9114);e.exports=function(e,t,n){var o=i(t);o in e?a.f(e,o,r(0,n)):e[o]=n}},654:(e,t,n)=>{"use strict";var i=n(2109),a=n(4994),r=n(9518),o=n(7674),s=n(8003),c=n(8880),l=n(1320),u=n(5112),d=n(1913),p=n(7497),f=n(3383),h=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,g=u("iterator"),y="keys",m="values",_="entries",w=function(){return this};e.exports=function(e,t,n,u,f,b,I){a(n,t,u);var E,T,k,A=function(e){if(e===f&&D)return D;if(!v&&e in x)return x[e];switch(e){case y:case m:case _:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",S=!1,x=e.prototype,P=x[g]||x["@@iterator"]||f&&x[f],D=!v&&P||A(f),R="Array"==t&&x.entries||P;if(R&&(E=r(R.call(new e)),h!==Object.prototype&&E.next&&(d||r(E)===h||(o?o(E,h):"function"!=typeof E[g]&&c(E,g,w)),s(E,C,!0,!0),d&&(p[C]=w))),f==m&&P&&P.name!==m&&(S=!0,D=function(){return P.call(this)}),d&&!I||x[g]===D||c(x,g,D),p[t]=D,f)if(T={values:A(m),keys:b?D:A(y),entries:A(_)},I)for(k in T)(v||S||!(k in x))&&l(x,k,T[k]);else i({target:t,proto:!0,forced:v||S},T);return T}},7235:(e,t,n)=>{var i=n(857),a=n(6656),r=n(6061),o=n(3070).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});a(t,e)||o(t,e,{value:r.f(e)})}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var i=n(7854),a=n(111),r=i.document,o=a(r)&&a(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(e,t,n)=>{var i=n(8113);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},5268:(e,t,n)=>{var i=n(4326),a=n(7854);e.exports="process"==i(a.process)},1036:(e,t,n)=>{var i=n(8113);e.exports=/web0s(?!.*chrome)/i.test(i)},8113:(e,t,n)=>{var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,n)=>{var i,a,r=n(7854),o=n(8113),s=r.process,c=s&&s.versions,l=c&&c.v8;l?a=(i=l.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(a=i[1]),e.exports=a&&+a},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),a=n(1236).f,r=n(8880),o=n(1320),s=n(3505),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,d,p,f,h=e.target,v=e.global,g=e.stat;if(n=v?i:g?i[h]||s(h,{}):(i[h]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(f=a(n,u))&&f.value:n[u],!l(v?u:h+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&r(p,"sham",!0),o(n,u,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var i=n(1320),a=n(7293),r=n(5112),o=n(8880),s=r("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),u=r("replace"),d=!!/./[u]&&""===/./[u]("a","$0"),p=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var f=r(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),v=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!v||"replace"===e&&(!c||!l||d)||"split"===e&&!p){var g=/./[f],y=n(f,""[e],(function(e,t,n,i,a){return t.exec===RegExp.prototype.exec?h&&!a?{done:!0,value:g.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),m=y[0],_=y[1];i(String.prototype,e,m),i(RegExp.prototype,f,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}u&&o(RegExp.prototype[f],"sham",!0)}},6790:(e,t,n)=>{"use strict";var i=n(3157),a=n(7466),r=n(9974),o=function(e,t,n,s,c,l,u,d){for(var p,f=c,h=0,v=!!u&&r(u,d,3);h<s;){if(h in n){if(p=v?v(n[h],h,t):n[h],l>0&&i(p))f=o(e,t,p,a(p.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=p}f++}h++}return f};e.exports=o},9974:(e,t,n)=>{var i=n(3099);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var i=n(857),a=n(7854),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(a[e]):i[e]&&i[e][t]||a[e]&&a[e][t]}},1246:(e,t,n)=>{var i=n(648),a=n(7497),r=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||a[i(e)]}},647:(e,t,n)=>{var i=n(7908),a=Math.floor,r="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,c,l,u){var d=n+e.length,p=c.length,f=s;return void 0!==l&&(l=i(l),f=o),r.call(u,f,(function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":o=l[r.slice(1,-1)];break;default:var s=+r;if(0===s)return i;if(s>p){var u=a(s/10);return 0===u?i:u<=p?void 0===c[u-1]?r.charAt(1):c[u-1]+r.charAt(1):i}o=c[s-1]}return void 0===o?"":o}))}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var i=n(7854);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),a=n(7293),r=n(317);e.exports=!i&&!a((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},1179:e=>{var t=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,r=Math.LN2;e.exports={pack:function(e,o,s){var c,l,u,d=new Array(s),p=8*s-o-1,f=(1<<p)-1,h=f>>1,v=23===o?n(2,-24)-n(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=t(e))!=e||e===1/0?(l=e!=e?1:0,c=f):(c=i(a(e)/r),e*(u=n(2,-c))<1&&(c--,u*=2),(e+=c+h>=1?v/u:v*n(2,1-h))*u>=2&&(c++,u/=2),c+h>=f?(l=0,c=f):c+h>=1?(l=(e*u-1)*n(2,o),c+=h):(l=e*n(2,h-1)*n(2,o),c=0));o>=8;d[y++]=255&l,l/=256,o-=8);for(c=c<<o|l,p+=o;p>0;d[y++]=255&c,c/=256,p-=8);return d[--y]|=128*g,d},unpack:function(e,t){var i,a=e.length,r=8*a-t-1,o=(1<<r)-1,s=o>>1,c=r-7,l=a-1,u=e[l--],d=127&u;for(u>>=7;c>0;d=256*d+e[l],l--,c-=8);for(i=d&(1<<-c)-1,d>>=-c,c+=t;c>0;i=256*i+e[l],l--,c-=8);if(0===d)d=1-s;else{if(d===o)return i?NaN:u?-1/0:1/0;i+=n(2,t),d-=s}return(u?-1:1)*i*n(2,d-t)}}},8361:(e,t,n)=>{var i=n(7293),a=n(4326),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?r.call(e,""):Object(e)}:Object},9587:(e,t,n)=>{var i=n(111),a=n(7674);e.exports=function(e,t,n){var r,o;return a&&"function"==typeof(r=t.constructor)&&r!==n&&i(o=r.prototype)&&o!==n.prototype&&a(e,o),e}},2788:(e,t,n)=>{var i=n(5465),a=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return a.call(e)}),e.exports=i.inspectSource},9909:(e,t,n)=>{var i,a,r,o=n(8536),s=n(7854),c=n(111),l=n(8880),u=n(6656),d=n(5465),p=n(6200),f=n(3501),h="Object already initialized",v=s.WeakMap;if(o){var g=d.state||(d.state=new v),y=g.get,m=g.has,_=g.set;i=function(e,t){if(m.call(g,e))throw new TypeError(h);return t.facade=e,_.call(g,e,t),t},a=function(e){return y.call(g,e)||{}},r=function(e){return m.call(g,e)}}else{var w=p("state");f[w]=!0,i=function(e,t){if(u(e,w))throw new TypeError(h);return t.facade=e,l(e,w,t),t},a=function(e){return u(e,w)?e[w]:{}},r=function(e){return u(e,w)}}e.exports={set:i,get:a,has:r,enforce:function(e){return r(e)?a(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var i=n(5112),a=n(7497),r=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[r]===e)}},3157:(e,t,n)=>{var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},4705:(e,t,n)=>{var i=n(7293),a=/#|\.prototype\./,r=function(e,t){var n=s[o(e)];return n==l||n!=c&&("function"==typeof t?i(t):!!t)},o=r.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var i=n(111),a=n(4326),r=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},408:(e,t,n)=>{var i=n(9670),a=n(7659),r=n(7466),o=n(9974),s=n(1246),c=n(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,p,f,h,v,g,y=n&&n.that,m=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),b=o(t,y,1+m+w),I=function(e){return u&&c(u),new l(!0,e)},E=function(e){return m?(i(e),w?b(e[0],e[1],I):b(e[0],e[1])):w?b(e,I):b(e)};if(_)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(a(d)){for(p=0,f=r(e.length);f>p;p++)if((h=E(e[p]))&&h instanceof l)return h;return new l(!1)}u=d.call(e)}for(v=u.next;!(g=v.call(u)).done;){try{h=E(g.value)}catch(e){throw c(u),e}if("object"==typeof h&&h&&h instanceof l)return h}return new l(!1)}},9212:(e,t,n)=>{var i=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},3383:(e,t,n)=>{"use strict";var i,a,r,o=n(7293),s=n(9518),c=n(8880),l=n(6656),u=n(5112),d=n(1913),p=u("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(a=s(s(r)))!==Object.prototype&&(i=a):f=!0);var h=null==i||o((function(){var e={};return i[p].call(e)!==e}));h&&(i={}),d&&!h||l(i,p)||c(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var i,a,r,o,s,c,l,u,d=n(7854),p=n(1236).f,f=n(261).set,h=n(6833),v=n(1036),g=n(5268),y=d.MutationObserver||d.WebKitMutationObserver,m=d.document,_=d.process,w=d.Promise,b=p(d,"queueMicrotask"),I=b&&b.value;I||(i=function(){var e,t;for(g&&(e=_.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():r=void 0,e}}r=void 0,e&&e.enter()},h||g||v||!y||!m?w&&w.resolve?(l=w.resolve(void 0),u=l.then,o=function(){u.call(l,i)}):o=g?function(){_.nextTick(i)}:function(){f.call(d,i)}:(s=!0,c=m.createTextNode(""),new y(i).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};r&&(r.next=t),a||(a=t,o()),r=t}},3366:(e,t,n)=>{var i=n(7854);e.exports=i.Promise},133:(e,t,n)=>{var i=n(5268),a=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!Symbol.sham&&(i?38===a:a>37&&a<41)}))},8536:(e,t,n)=>{var i=n(7854),a=n(2788),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(a(r))},8523:(e,t,n)=>{"use strict";var i=n(3099),a=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new a(e)}},2814:(e,t,n)=>{var i=n(7854),a=n(3111).trim,r=n(1361),o=i.parseFloat,s=1/o(r+"-0")!=-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},30:(e,t,n)=>{var i,a=n(9670),r=n(6048),o=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200),d=u("IE_PROTO"),p=function(){},f=function(e){return"<script>"+e+"</"+"script>"},h=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=i?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete h.prototype[o[n]];return h()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=a(e),n=new p,p.prototype=null,n[d]=e):n=h(),void 0===t?n:r(n,t)}},6048:(e,t,n)=>{var i=n(9781),a=n(3070),r=n(9670),o=n(1956);e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=o(t),s=i.length,c=0;s>c;)a.f(e,n=i[c++],t[n]);return e}},3070:(e,t,n)=>{var i=n(9781),a=n(4664),r=n(9670),o=n(7593),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),a=n(5296),r=n(9114),o=n(5656),s=n(7593),c=n(6656),l=n(4664),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return r(!a.f.call(e,t),e[t])}},8006:(e,t,n)=>{var i=n(6324),a=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,a)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var i=n(6656),a=n(7908),r=n(6200),o=n(8544),s=r("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},6324:(e,t,n)=>{var i=n(6656),a=n(5656),r=n(1318).indexOf,o=n(3501);e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)!i(o,n)&&i(s,n)&&l.push(n);for(;t.length>c;)i(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var i=n(6324),a=n(748);e.exports=Object.keys||function(e){return i(e,a)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},9026:(e,t,n)=>{"use strict";var i=n(1913),a=n(7854),r=n(7293);e.exports=i||!r((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete a[e]}))},7674:(e,t,n)=>{var i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),a(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},3887:(e,t,n)=>{var i=n(5005),a=n(8006),r=n(5181),o=n(9670);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var i=n(7854);e.exports=i},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var i=n(9670),a=n(111),r=n(8523);e.exports=function(e,t){if(i(e),a(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var i=n(1320);e.exports=function(e,t,n){for(var a in t)i(e,a,t[a],n);return e}},1320:(e,t,n)=>{var i=n(7854),a=n(8880),r=n(6656),o=n(3505),s=n(2788),c=n(9909),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var c,l=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||a(n,"name",t),(c=u(n)).source||(c.source=d.join("string"==typeof t?t:""))),e!==i?(l?!f&&e[t]&&(p=!0):delete e[t],p?e[t]=n:a(e,t,n)):p?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},7651:(e,t,n)=>{var i=n(4326),a=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},2261:(e,t,n)=>{"use strict";var i,a,r=n(7066),o=n(2999),s=n(2309),c=RegExp.prototype.exec,l=s("native-string-replace",String.prototype.replace),u=c,d=(i=/a/,a=/b*/g,c.call(i,"a"),c.call(a,"a"),0!==i.lastIndex||0!==a.lastIndex),p=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(d||f||p)&&(u=function(e){var t,n,i,a,o=this,s=p&&o.sticky,u=r.call(o),h=o.source,v=0,g=e;return s&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),g=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),n=new RegExp("^(?:"+h+")",u)),f&&(n=new RegExp("^"+h+"$(?!\\s)",u)),d&&(t=o.lastIndex),i=c.call(s?n:o,g),s?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:d&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),f&&i&&i.length>1&&l.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=u},7066:(e,t,n)=>{"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{"use strict";var i=n(7293);function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var i=n(7854),a=n(8880);e.exports=function(e,t){try{a(i,e,t)}catch(n){i[e]=t}return t}},6340:(e,t,n)=>{"use strict";var i=n(5005),a=n(3070),r=n(5112),o=n(9781),s=r("species");e.exports=function(e){var t=i(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var i=n(3070).f,a=n(6656),r=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},6200:(e,t,n)=>{var i=n(2309),a=n(9711),r=i("keys");e.exports=function(e){return r[e]||(r[e]=a(e))}},5465:(e,t,n)=>{var i=n(7854),a=n(3505),r="__core-js_shared__",o=i[r]||a(r,{});e.exports=o},2309:(e,t,n)=>{var i=n(1913),a=n(5465);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.10.2",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var i=n(9670),a=n(3099),r=n(5112)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[r])?t:a(n)}},8710:(e,t,n)=>{var i=n(9958),a=n(4488),r=function(e){return function(t,n){var r,o,s=String(a(t)),c=i(n),l=s.length;return c<0||c>=l?e?"":void 0:(r=s.charCodeAt(c))<55296||r>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):r:e?s.slice(c,c+2):o-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},4986:(e,t,n)=>{var i=n(8113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},6650:(e,t,n)=>{var i=n(7466),a=n(8415),r=n(4488),o=Math.ceil,s=function(e){return function(t,n,s){var c,l,u=String(r(t)),d=u.length,p=void 0===s?" ":String(s),f=i(n);return f<=d||""==p?u:(c=f-d,(l=a.call(p,o(c/p.length))).length>c&&(l=l.slice(0,c)),e?u+l:l+u)}};e.exports={start:s(!1),end:s(!0)}},8415:(e,t,n)=>{"use strict";var i=n(9958),a=n(4488);e.exports=function(e){var t=String(a(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},6091:(e,t,n)=>{var i=n(7293),a=n(1361);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},3111:(e,t,n)=>{var i=n(4488),a="["+n(1361)+"]",r=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},261:(e,t,n)=>{var i,a,r,o=n(7854),s=n(7293),c=n(9974),l=n(490),u=n(317),d=n(6833),p=n(5268),f=o.location,h=o.setImmediate,v=o.clearImmediate,g=o.process,y=o.MessageChannel,m=o.Dispatch,_=0,w={},b="onreadystatechange",I=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},E=function(e){return function(){I(e)}},T=function(e){I(e.data)},k=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};h&&v||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return w[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(_),_},v=function(e){delete w[e]},p?i=function(e){g.nextTick(E(e))}:m&&m.now?i=function(e){m.now(E(e))}:y&&!d?(r=(a=new y).port2,a.port1.onmessage=T,i=c(r.postMessage,r,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&f&&"file:"!==f.protocol&&!s(k)?(i=k,o.addEventListener("message",T,!1)):i=b in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),I(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:h,clear:v}},1400:(e,t,n)=>{var i=n(9958),a=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?a(n+t,0):r(n,t)}},7067:(e,t,n)=>{var i=n(9958),a=n(7466);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=a(t);if(t!==n)throw RangeError("Wrong length or index");return n}},5656:(e,t,n)=>{var i=n(8361),a=n(4488);e.exports=function(e){return i(a(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var i=n(9958),a=Math.min;e.exports=function(e){return e>0?a(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(4488);e.exports=function(e){return Object(i(e))}},4590:(e,t,n)=>{var i=n(3002);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},3002:(e,t,n)=>{var i=n(9958);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:(e,t,n)=>{var i=n(111);e.exports=function(e,t){if(!i(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!i(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},1694:(e,t,n)=>{var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},9843:(e,t,n)=>{"use strict";var i=n(2109),a=n(7854),r=n(9781),o=n(3832),s=n(260),c=n(3331),l=n(5787),u=n(9114),d=n(8880),p=n(7466),f=n(7067),h=n(4590),v=n(7593),g=n(6656),y=n(648),m=n(111),_=n(30),w=n(7674),b=n(8006).f,I=n(7321),E=n(2092).forEach,T=n(6340),k=n(3070),A=n(1236),C=n(9909),S=n(9587),x=C.get,P=C.set,D=k.f,R=A.f,O=Math.round,N=a.RangeError,M=c.ArrayBuffer,L=c.DataView,W=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,B=s.TypedArray,j=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,G=s.isTypedArray,V="BYTES_PER_ELEMENT",Z="Wrong length",H=function(e,t){for(var n=0,i=t.length,a=new(U(e))(i);i>n;)a[n]=t[n++];return a},Y=function(e,t){D(e,t,{get:function(){return x(this)[t]}})},z=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},q=function(e,t){return G(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return q(e,t=v(t,!0))?u(2,e[t]):R(e,t)},X=function(e,t,n){return!(q(e,t=v(t,!0))&&m(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};r?(W||(A.f=K,k.f=X,Y(j,"buffer"),Y(j,"byteOffset"),Y(j,"byteLength"),Y(j,"length")),i({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:K,defineProperty:X}),e.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,u="set"+e,v=a[s],g=v,y=g&&g.prototype,k={},A=function(e,t){D(e,t,{get:function(){return function(e,t){var n=x(e);return n.view[c](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var a=x(e);n&&(i=(i=O(i))<0?0:i>255?255:255&i),a.view[u](t*r+a.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};W?o&&(g=t((function(e,t,n,i){return l(e,g,s),S(m(t)?z(t)?void 0!==i?new v(t,h(n,r),i):void 0!==n?new v(t,h(n,r)):new v(t):G(t)?H(g,t):I.call(g,t):new v(f(t)),e,g)})),w&&w(g,B),E(b(v),(function(e){e in g||d(g,e,v[e])})),g.prototype=y):(g=t((function(e,t,n,i){l(e,g,s);var a,o,c,u=0,d=0;if(m(t)){if(!z(t))return G(t)?H(g,t):I.call(g,t);a=t,d=h(n,r);var v=t.byteLength;if(void 0===i){if(v%r)throw N(Z);if((o=v-d)<0)throw N(Z)}else if((o=p(i)*r)+d>v)throw N(Z);c=o/r}else c=f(t),a=new M(o=c*r);for(P(e,{buffer:a,byteOffset:d,byteLength:o,length:c,view:new L(a)});u<c;)A(e,u++)})),w&&w(g,B),y=g.prototype=_(j)),y.constructor!==g&&d(y,"constructor",g),F&&d(y,F,s),k[s]=g,i({global:!0,forced:g!=v,sham:!W},k),V in g||d(g,V,r),V in y||d(y,V,r),T(s)}):e.exports=function(){}},3832:(e,t,n)=>{var i=n(7854),a=n(7293),r=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,c=i.Int8Array;e.exports=!o||!a((function(){c(1)}))||!a((function(){new c(-1)}))||!r((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||a((function(){return 1!==new c(new s(2),1,void 0).length}))},7321:(e,t,n)=>{var i=n(7908),a=n(7466),r=n(1246),o=n(7659),s=n(9974),c=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,l,u,d,p,f=i(e),h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=r(f);if(null!=y&&!o(y))for(p=(d=y.call(f)).next,f=[];!(u=p.call(d)).done;)f.push(u.value);for(g&&h>2&&(v=s(v,arguments[2],2)),n=a(f.length),l=new(c(this))(n),t=0;n>t;t++)l[t]=g?v(f[t],t):f[t];return l}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var i=n(5112);t.f=i},5112:(e,t,n)=>{var i=n(7854),a=n(2309),r=n(6656),o=n(9711),s=n(133),c=n(3307),l=a("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||o;e.exports=function(e){return r(l,e)&&(s||"string"==typeof l[e])||(s&&r(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9170:(e,t,n)=>{"use strict";var i=n(2109),a=n(9518),r=n(7674),o=n(30),s=n(8880),c=n(9114),l=n(408),u=function(e,t){var n=this;if(!(n instanceof u))return new u(e,t);r&&(n=r(new Error(void 0),a(n))),void 0!==t&&s(n,"message",String(t));var i=[];return l(e,i.push,{that:i}),s(n,"errors",i),n};u.prototype=o(Error.prototype,{constructor:c(5,u),message:c(5,""),name:c(5,"AggregateError")}),i({global:!0},{AggregateError:u})},8264:(e,t,n)=>{"use strict";var i=n(2109),a=n(7854),r=n(3331),o=n(6340),s="ArrayBuffer",c=r.ArrayBuffer;i({global:!0,forced:a.ArrayBuffer!==c},{ArrayBuffer:c}),o(s)},9575:(e,t,n)=>{"use strict";var i=n(2109),a=n(7293),r=n(3331),o=n(9670),s=n(1400),c=n(7466),l=n(6707),u=r.ArrayBuffer,d=r.DataView,p=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var n=o(this).byteLength,i=s(e,n),a=s(void 0===t?n:t,n),r=new(l(this,u))(c(a-i)),f=new d(this),h=new d(r),v=0;i<a;)h.setUint8(v++,f.getUint8(i++));return r}})},6535:(e,t,n)=>{"use strict";var i=n(2109),a=n(6790),r=n(7908),o=n(7466),s=n(3099),c=n(5417);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=r(this),i=o(n.length);return s(e),(t=c(n,0)).length=a(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},4944:(e,t,n)=>{"use strict";var i=n(2109),a=n(6790),r=n(7908),o=n(7466),s=n(9958),c=n(5417);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=r(this),n=o(t.length),i=c(t,0);return i.length=a(i,t,t,n,0,void 0===e?1:s(e)),i}})},6992:(e,t,n)=>{"use strict";var i=n(5656),a=n(1223),r=n(7497),o=n(9909),s=n(654),c="Array Iterator",l=o.set,u=o.getterFor(c);e.exports=s(Array,"Array",(function(e,t){l(this,{type:c,target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},6644:(e,t,n)=>{"use strict";var i=n(2109),a=n(3671).right,r=n(9341),o=n(7392),s=n(5268);i({target:"Array",proto:!0,forced:!r("reduceRight")||!s&&o>79&&o<83},{reduceRight:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var i=n(2109),a=n(3671).left,r=n(9341),o=n(7392),s=n(5268);i({target:"Array",proto:!0,forced:!r("reduce")||!s&&o>79&&o<83},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var i=n(2109),a=n(3157),r=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),r.call(this)}})},2707:(e,t,n)=>{"use strict";var i=n(2109),a=n(3099),r=n(7908),o=n(7293),s=n(9341),c=[],l=c.sort,u=o((function(){c.sort(void 0)})),d=o((function(){c.sort(null)})),p=s("sort");i({target:"Array",proto:!0,forced:u||!d||!p},{sort:function(e){return void 0===e?l.call(r(this)):l.call(r(this),a(e))}})},9244:(e,t,n)=>{n(1223)("flatMap")},3792:(e,t,n)=>{n(1223)("flat")},5837:(e,t,n)=>{n(2109)({global:!0},{globalThis:n(7854)})},5438:(e,t,n)=>{var i=n(2109),a=Math.hypot,r=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!a&&a(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,i,a=0,s=0,c=arguments.length,l=0;s<c;)l<(n=r(arguments[s++]))?(a=a*(i=l/n)*i+1,l=n):a+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*o(a)}})},1874:(e,t,n)=>{var i=n(2109),a=n(2814);i({target:"Number",stat:!0,forced:Number.parseFloat!=a},{parseFloat:a})},9595:(e,t,n)=>{"use strict";var i=n(2109),a=n(9781),r=n(9026),o=n(7908),s=n(3099),c=n(3070);a&&i({target:"Object",proto:!0,forced:r},{__defineGetter__:function(e,t){c.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},5500:(e,t,n)=>{"use strict";var i=n(2109),a=n(9781),r=n(9026),o=n(7908),s=n(3099),c=n(3070);a&&i({target:"Object",proto:!0,forced:r},{__defineSetter__:function(e,t){c.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},8559:(e,t,n)=>{var i=n(2109),a=n(408),r=n(6135);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,n){r(t,e,n)}),{AS_ENTRIES:!0}),t}})},4869:(e,t,n)=>{"use strict";var i=n(2109),a=n(9781),r=n(9026),o=n(7908),s=n(7593),c=n(9518),l=n(1236).f;a&&i({target:"Object",proto:!0,forced:r},{__lookupGetter__:function(e){var t,n=o(this),i=s(e,!0);do{if(t=l(n,i))return t.get}while(n=c(n))}})},3952:(e,t,n)=>{"use strict";var i=n(2109),a=n(9781),r=n(9026),o=n(7908),s=n(7593),c=n(9518),l=n(1236).f;a&&i({target:"Object",proto:!0,forced:r},{__lookupSetter__:function(e){var t,n=o(this),i=s(e,!0);do{if(t=l(n,i))return t.set}while(n=c(n))}})},7922:(e,t,n)=>{"use strict";var i=n(2109),a=n(3099),r=n(8523),o=n(2534),s=n(408);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),i=n.resolve,c=n.reject,l=o((function(){var n=a(t.resolve),r=[],o=0,c=1;s(e,(function(e){var a=o++,s=!1;r.push(void 0),c++,n.call(t,e).then((function(e){s||(s=!0,r[a]={status:"fulfilled",value:e},--c||i(r))}),(function(e){s||(s=!0,r[a]={status:"rejected",reason:e},--c||i(r))}))})),--c||i(r)}));return l.error&&c(l.value),n.promise}})},4668:(e,t,n)=>{"use strict";var i=n(2109),a=n(3099),r=n(5005),o=n(8523),s=n(2534),c=n(408),l="No one promise resolved";i({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),i=n.resolve,u=n.reject,d=s((function(){var n=a(t.resolve),o=[],s=0,d=1,p=!1;c(e,(function(e){var a=s++,c=!1;o.push(void 0),d++,n.call(t,e).then((function(e){c||p||(p=!0,i(e))}),(function(e){c||p||(c=!0,o[a]=e,--d||u(new(r("AggregateError"))(o,l)))}))})),--d||u(new(r("AggregateError"))(o,l))}));return d.error&&u(d.value),n.promise}})},7727:(e,t,n)=>{"use strict";var i=n(2109),a=n(1913),r=n(3366),o=n(7293),s=n(5005),c=n(6707),l=n(9478),u=n(1320);i({target:"Promise",proto:!0,real:!0,forced:!!r&&o((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||"function"!=typeof r||r.prototype.finally||u(r.prototype,"finally",s("Promise").prototype.finally)},8674:(e,t,n)=>{"use strict";var i,a,r,o,s=n(2109),c=n(1913),l=n(7854),u=n(5005),d=n(3366),p=n(1320),f=n(2248),h=n(8003),v=n(6340),g=n(111),y=n(3099),m=n(5787),_=n(2788),w=n(408),b=n(7072),I=n(6707),E=n(261).set,T=n(5948),k=n(9478),A=n(842),C=n(8523),S=n(2534),x=n(9909),P=n(4705),D=n(5112),R=n(5268),O=n(7392),N=D("species"),M="Promise",L=x.get,W=x.set,F=x.getterFor(M),B=d,j=l.TypeError,U=l.document,G=l.process,V=u("fetch"),Z=C.f,H=Z,Y=!!(U&&U.createEvent&&l.dispatchEvent),z="function"==typeof PromiseRejectionEvent,q="unhandledrejection",K=P(M,(function(){if(!(_(B)!==String(B))){if(66===O)return!0;if(!R&&!z)return!0}if(c&&!B.prototype.finally)return!0;if(O>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),X=K||!b((function(e){B.all(e).catch((function(){}))})),J=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){for(var i=e.value,a=1==e.state,r=0;n.length>r;){var o,s,c,l=n[r++],u=a?l.ok:l.fail,d=l.resolve,p=l.reject,f=l.domain;try{u?(a||(2===e.rejection&&ne(e),e.rejection=1),!0===u?o=i:(f&&f.enter(),o=u(i),f&&(f.exit(),c=!0)),o===l.promise?p(j("Promise-chain cycle")):(s=J(o))?s.call(o,d,p):d(o)):p(i)}catch(e){f&&!c&&f.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,n){var i,a;Y?((i=U.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},!z&&(a=l["on"+e])?a(i):e===q&&A("Unhandled promise rejection",n)},ee=function(e){E.call(l,(function(){var t,n=e.facade,i=e.value;if(te(e)&&(t=S((function(){R?G.emit("unhandledRejection",i,n):Q(q,n,i)})),e.rejection=R||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){E.call(l,(function(){var t=e.facade;R?G.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},ie=function(e,t,n){return function(i){e(t,i,n)}},ae=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,$(e,!0))},re=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw j("Promise can't be resolved itself");var i=J(t);i?T((function(){var n={done:!1};try{i.call(t,ie(re,n,e),ie(ae,n,e))}catch(t){ae(n,t,e)}})):(e.value=t,e.state=1,$(e,!1))}catch(t){ae({done:!1},t,e)}}};K&&(B=function(e){m(this,B,M),y(e),i.call(this);var t=L(this);try{e(ie(re,t),ie(ae,t))}catch(e){ae(t,e)}},(i=function(e){W(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(B.prototype,{then:function(e,t){var n=F(this),i=Z(I(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=R?G.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&$(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i,t=L(e);this.promise=e,this.resolve=ie(re,t),this.reject=ie(ae,t)},C.f=Z=function(e){return e===B||e===r?new a(e):H(e)},c||"function"!=typeof d||(o=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(B,V.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:B}),h(B,M,!1,!0),v(M),r=u(M),s({target:M,stat:!0,forced:K},{reject:function(e){var t=Z(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:c||K},{resolve:function(e){return k(c&&this===r?B:this,e)}}),s({target:M,stat:!0,forced:X},{all:function(e){var t=this,n=Z(t),i=n.resolve,a=n.reject,r=S((function(){var n=y(t.resolve),r=[],o=0,s=1;w(e,(function(e){var c=o++,l=!1;r.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,r[c]=e,--s||i(r))}),a)})),--s||i(r)}));return r.error&&a(r.value),n.promise},race:function(e){var t=this,n=Z(t),i=n.reject,a=S((function(){var a=y(t.resolve);w(e,(function(e){a.call(t,e).then(n.resolve,i)}))}));return a.error&&i(a.value),n.promise}})},4916:(e,t,n)=>{"use strict";var i=n(2109),a=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},6373:(e,t,n)=>{"use strict";var i=n(2109),a=n(4994),r=n(4488),o=n(7466),s=n(3099),c=n(9670),l=n(4326),u=n(7850),d=n(7066),p=n(8880),f=n(7293),h=n(5112),v=n(6707),g=n(1530),y=n(9909),m=n(1913),_=h("matchAll"),w="RegExp String",b="RegExp String Iterator",I=y.set,E=y.getterFor(b),T=RegExp.prototype,k=T.exec,A="".matchAll,C=!!A&&!f((function(){"a".matchAll(/./)})),S=a((function(e,t,n,i){I(this,{type:b,regexp:e,string:t,global:n,unicode:i,done:!1})}),w,(function(){var e=E(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=function(e,t){var n,i=e.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(e,t)))throw TypeError("Incorrect exec result");return n}return k.call(e,t)}(t,n);return null===i?{value:void 0,done:e.done=!0}:e.global?(""==String(i[0])&&(t.lastIndex=g(n,o(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),x=function(e){var t,n,i,a,r,s,l=c(this),u=String(e);return t=v(l,RegExp),void 0===(n=l.flags)&&l instanceof RegExp&&!("flags"in T)&&(n=d.call(l)),i=void 0===n?"":String(n),a=new t(t===RegExp?l.source:l,i),r=!!~i.indexOf("g"),s=!!~i.indexOf("u"),a.lastIndex=o(l.lastIndex),new S(a,u,r,s)};i({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,n,i,a=r(this);if(null!=e){if(u(e)&&!~String(r("flags"in T?e.flags:d.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(C)return A.apply(a,arguments);if(void 0===(n=e[_])&&m&&"RegExp"==l(e)&&(n=x),null!=n)return s(n).call(e,a)}else if(C)return A.apply(a,arguments);return t=String(a),i=new RegExp(e,"g"),m?x.call(i,t):i[_](t)}}),m||_ in T||p(T,_,x)},6528:(e,t,n)=>{"use strict";var i=n(2109),a=n(6650).end;i({target:"String",proto:!0,forced:n(4986)},{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},3112:(e,t,n)=>{"use strict";var i=n(2109),a=n(6650).start;i({target:"String",proto:!0,forced:n(4986)},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},8757:(e,t,n)=>{"use strict";var i=n(2109),a=n(4488),r=n(7850),o=n(7066),s=n(647),c=n(5112),l=n(1913),u=c("replace"),d=RegExp.prototype,p=Math.max,f=function(e,t,n){return n>e.length?-1:""===t?n:e.indexOf(t,n)};i({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,c,h,v,g,y,m,_=a(this),w=0,b=0,I="";if(null!=e){if((n=r(e))&&!~String(a("flags"in d?e.flags:o.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(i=e[u]))return i.call(e,_,t);if(l&&n)return String(_).replace(e,t)}for(c=String(_),h=String(e),(v="function"==typeof t)||(t=String(t)),g=h.length,y=p(1,g),w=f(c,h,0);-1!==w;)m=v?String(t(h,w,c)):s(h,c,w,[],void 0,t),I+=c.slice(b,w)+m,b=w+g,w=f(c,h,w+y);return b<c.length&&(I+=c.slice(b)),I}})},5306:(e,t,n)=>{"use strict";var i=n(7007),a=n(9670),r=n(7466),o=n(9958),s=n(4488),c=n(1530),l=n(647),u=n(7651),d=Math.max,p=Math.min;i("replace",2,(function(e,t,n,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=i.REPLACE_KEEPS_$0,v=f?"$":"$0";return[function(n,i){var a=s(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,a,i):t.call(String(a),n,i)},function(e,i){if(!f&&h||"string"==typeof i&&-1===i.indexOf(v)){var s=n(t,e,this,i);if(s.done)return s.value}var g=a(e),y=String(this),m="function"==typeof i;m||(i=String(i));var _=g.global;if(_){var w=g.unicode;g.lastIndex=0}for(var b=[];;){var I=u(g,y);if(null===I)break;if(b.push(I),!_)break;""===String(I[0])&&(g.lastIndex=c(y,r(g.lastIndex),w))}for(var E,T="",k=0,A=0;A<b.length;A++){I=b[A];for(var C=String(I[0]),S=d(p(o(I.index),y.length),0),x=[],P=1;P<I.length;P++)x.push(void 0===(E=I[P])?E:String(E));var D=I.groups;if(m){var R=[C].concat(x,S,y);void 0!==D&&R.push(D);var O=String(i.apply(void 0,R))}else O=l(C,y,S,x,D,i);S>=k&&(T+=y.slice(k,S)+O,k=S+C.length)}return T+y.slice(k)}]}))},8702:(e,t,n)=>{"use strict";var i=n(2109),a=n(3111).end,r=n(6091)("trimEnd"),o=r?function(){return a(this)}:"".trimEnd;i({target:"String",proto:!0,forced:r},{trimEnd:o,trimRight:o})},5674:(e,t,n)=>{"use strict";var i=n(2109),a=n(3111).start,r=n(6091)("trimStart"),o=r?function(){return a(this)}:"".trimStart;i({target:"String",proto:!0,forced:r},{trimStart:o,trimLeft:o})},3210:(e,t,n)=>{"use strict";var i=n(2109),a=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return a(this)}})},2443:(e,t,n)=>{n(7235)("asyncIterator")},1817:(e,t,n)=>{"use strict";var i=n(2109),a=n(9781),r=n(7854),o=n(6656),s=n(111),c=n(3070).f,l=n(9920),u=r.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var h=f.toString,v="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(o(d,e))return"";var n=v?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:p})}},4197:(e,t,n)=>{n(9843)("Float32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},6495:(e,t,n)=>{n(9843)("Float64",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},8145:(e,t,n)=>{"use strict";var i=n(3832);(0,n(260).exportTypedArrayStaticMethod)("from",n(7321),i)},5109:(e,t,n)=>{n(9843)("Int16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},5125:(e,t,n)=>{n(9843)("Int32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},7145:(e,t,n)=>{n(9843)("Int8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},5206:(e,t,n)=>{"use strict";var i=n(260),a=n(3832),r=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(r(this))(t);t>e;)n[e]=arguments[e++];return n}),a)},8255:(e,t,n)=>{n(9843)("Uint16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},9135:(e,t,n)=>{n(9843)("Uint32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},2472:(e,t,n)=>{n(9843)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},9743:(e,t,n)=>{n(9843)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}),!0)},8628:(e,t,n)=>{n(9170)},5743:(e,t,n)=>{n(5837)},7314:(e,t,n)=>{n(7922)},6290:(e,t,n)=>{n(4668)},3728:(e,t,n)=>{n(6373)},7207:(e,t,n)=>{n(8757)},3948:(e,t,n)=>{var i=n(7854),a=n(8324),r=n(6992),o=n(8880),s=n(5112),c=s("iterator"),l=s("toStringTag"),u=r.values;for(var d in a){var p=i[d],f=p&&p.prototype;if(f){if(f[c]!==u)try{o(f,c,u)}catch(e){f[c]=u}if(f[l]||o(f,l,d),a[d])for(var h in r)if(f[h]!==r[h])try{o(f,h,r[h])}catch(e){f[h]=r[h]}}}},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(e,t,n){var i=d;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw r;return P()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?h:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",v={};function g(){}function y(){}function m(){}var _={};_[r]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(x([])));b&&b!==n&&i.call(b,r)&&(_=b);var I=m.prototype=g.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,r,o,s){var c=u(e[a],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;this._invoke=function(e,i){function r(){return new t((function(t,a){n(e,i,t,a)}))}return a=a?a.then(r,r):r()}}function k(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var r=a.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function x(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(i.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=I.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,i,a,r){void 0===r&&(r=Promise);var o=new T(l(t,n,i,a),r);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(I),c(I,s,"Generator"),I[r]=function(){return this},I.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(i,a){return s.type="throw",s.arg=e,n.next=i,a&&(n.method="next",n.arg=t),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=!1;if(n.g.__wxConfig&&"string"==typeof n.g.__wxConfig.platform)"ios"===n.g.__wxConfig.platform.toLowerCase()&&(e=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var t=navigator.userAgent.toLowerCase();(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&(e=!0)}var i=[];e&&(n.g.Promise=void 0,i.push("Promise")),n(7800)({usePolyfill:i,useNative:["WeakMap"]}),n(5269),n(2136)})()})(),(()=>{var e={9954:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});n(8947);var i=n(8392),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.IN)("getABTestConfig",e)}},3477:(e,t,n)=>{"use strict";n.d(t,{r3:()=>i.r3,FE:()=>i.FE,YG:()=>i.YG,IN:()=>i.IN,bb:()=>i.bb,jQ:()=>i.jQ,kV:()=>a,Ld:()=>i.Ld});n(8676),n(9947),n(2363),n(1484);n(8947),n(968);var i=n(8392);n(2984);function a(e){"tap"===e}},6788:(e,t,n)=>{"use strict";n.d(t,{w$:()=>i});var i={FORE_GROUND:0,BACK_GROUND:1,LOCK:2}},3638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={lastRoute:"",lastOpenType:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:n(6788).w$.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:""}},4531:(e,t,n)=>{"use strict";n.d(t,{dq:()=>o});var i=n(6326),a=n(8392),r=(n(9947),new i.Z);(0,a.jQ)("onPageReload",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,r.emit("onPageReload",e)}));var o=function(e,t){r.once("onBeforeUnloadPage_".concat(e),(function(e){"function"==typeof t&&t(e)}))}},9947:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>m,Em:()=>h.Em,sd:()=>_,S0:()=>w,p9:()=>b,HR:()=>I,cE:()=>E,mQ:()=>T,Pp:()=>k,Z8:()=>A,l0:()=>C,iZ:()=>S,l7:()=>x,Nf:()=>D,M8:()=>R,yC:()=>O,AK:()=>N,El:()=>M,Ky:()=>L});var i=n(7163),a=n.n(i),r=n(4742),o=n.n(r),s=n(7541),c=n.n(s),l=n(3087),u=n.n(l),d=n(8676),p=n.n(d),f=n(8947),h=n(9267),v=(n(2363),n(4547)),g=/^[-+a-zA-Z0-9]+:\/\//,y=/^__[-+a-zA-Z0-9]+__\//;function m(e,t){return __errorTracer__.wrapSystemFunction("appServiceSDKScriptError",t,e)}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("[getRealRoute] lastRoute=".concat(e,", relativeRoute=").concat(t,", needTrans=").concat(n),n&&(t=k(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return _(e,t.substr(2),!1);var i,a,r=t.split("/");for(i=0,a=r.length;i<a&&".."===r[i];i++);r.splice(0,i);var o=e.length>0?e.split("/"):[];o.splice(o.length-i-1,i+1);var s=o.concat(r),c=s.join("/");return"[getRealRoute] finalRoute=".concat(c),c}function w(e){var t=e.match(g);if(!t)return e;var n=t[0];if("plugin://"===n){var i=n.length,a=e.indexOf("/",i);if(a>=0){var r=e.slice(i,a),o=f.Z.plugins&&f.Z.plugins[r]?f.Z.plugins[r].provider:r;e=e.slice(0,i)+o+e.slice(a)}var s=e.indexOf("?");s<0&&(s=e.length);var c=e.slice(0,s),l=exparser.Component._list[c];if(!l)throw new C('Page "'.concat(c,'" is not found'));e=l.is+e.slice(s)}else if("plugin-private://"===n){var u=e.indexOf("?");u<0&&(u=e.length);var d=e.slice(0,u);e="/"+__appServiceEngine__.convertComponentAliasToRoute(d)+e.slice(u)}else{if("wx://"!==n)throw new C('Unknown URL protocol "'.concat(n,'"'));e="/__wx__/"+e.slice(5)}return e}function b(e){var t=e.match(g),n=e.match(y),i="";if(t){var a=t[0];if("plugin://"===a){var r=a.length,o=e.indexOf("/",r);if(o>=0){var s=e.slice(r,o);i=f.Z.plugins&&f.Z.plugins[s]?f.Z.plugins[s].provider:s}}else if("plugin-private://"===a){var c=a.length,l=e.indexOf("/",c);if(l>=0)i=e.slice(c,l)}else"wx://"===a&&(i="//")}if(n){var u=n[0];if("__plugin__/"===u){var d=u.length,p=e.indexOf("/",d);if(p>=0)i=e.slice(d,p)}else"__wx__/"===u&&(i="//")}return i}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!==p()(e))return e;var n=[];for(var i in e)if((0,v.n)(e,i))if(t)try{n.push("".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(e[i])))}catch(t){n.push("".concat(i,"=").concat(e[i]))}else n.push("".concat(i,"=").concat(e[i]));return n.join("&")}function E(e,t){if("string"==typeof e&&"object"===p()(t)&&null!==t&&Object.keys(t).length>0){var n=e.split("?");return n[0]+"?"+I(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}((n[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("="),i=n[0],a=n[1];e[i]=a}return e}),{}),Object.keys(t).reduce((function(e,n){return"object"===p()(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{})))}return e}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function k(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?"".concat(t,"?").concat(n):t}function A(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var C=function(e){o()(n,e);var t=c()(n);function n(e){var i;return a()(this,n),(i=t.call(this,"APP-SERVICE-SDK:".concat(e))).type="AppServiceSdkKnownError",i}return n}(u()(Error)),S=function(e){o()(n,e);var t=c()(n);function n(e){var i;return a()(this,n),(i=t.call(this,"".concat(e))).type="ThirdScriptError",i}return n}(u()(Error));function x(e,t){for(var n in t)e[n]=t[n];return e}var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";globalThis.btoa,globalThis.atob;function D(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=e[n]+"":t[n]=Object.prototype.toString.apply(e[n]),t}),{})}function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}f.Z.clientVersion;function O(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var i=0;i<n;i++){var a=parseInt(e[i],10),r=parseInt(t[i],10);if(a>r)return 1;if(a<r)return-1}return 0}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(n),"function"==typeof e.complete&&e.complete(n)}},3180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6326),a=n(3618),r=new i.Z;const o={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:a.Z,emitter:r}},2335:(e,t,n)=>{"use strict";n.d(t,{e4:()=>a,WZ:()=>o,R0:()=>s,LY:()=>c});var i=n(8392),a=["startPullDownRefresh"],r=[],o={appRoute:!1,appRouteDone:!1},s=function(){r.forEach((function(e){var t=e.name,n=e.args,a=e.option;(0,i.oQ)(t,n,a)})),r=[]},c=function(e,t,n){var a=o.appRoute,s=o.appRouteDone;!a&&s?(0,i.oQ)(e,t,n):r.push({name:e,args:t,option:n})}},8586:(e,t,n)=>{"use strict";n.d(t,{b:()=>T,H:()=>E});var i=n(8392),a=n(7264),r=n(6051),o=n(3180),s=n(9947),c=n(9307),l=n(8054),u=n(7587),d=Object.hasOwnProperty,p=(0,c.s)("AppRouteNotFound"),f=(p.onMethod,p.offMethod,p.emit),h=function(e,t){u.s.info("[rewriteRoute] (webviewId=".concat(t,") ").concat(e))},v={},g=function(e,t){var n=0;if(d.call(e,"originalWebviewId"))n=e.originalWebviewId,h("Found originalWebviewId=".concat(n),t);else{if(1!==Object.keys(v).length)return h("No originalWebviewId found and we have ".concat(Object.keys(v).length," backup data, guess failed, cleaning backups and giving up"),t),v={},e;n=Object.keys(v)[0],h("No originalWebviewId found and guess it=".concat(n),t)}var i=v[n];return delete v[n],["openType","wxMaterial","location","prerender"].forEach((function(t){e[t]=i[t]})),e},y=function(e,t){var n=t.needHtmlSuffix,i=e.replace(/\.html(\?|$)/i,(function(e){return e.slice(5)})),a=(0,s.S0)(i);if("/"===a[0]&&(a=a.slice(1)),!n)return a;var r=a.indexOf("?");return r<0&&(r=a.length),a.slice(0,r)+".html"+a.slice(r)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(["dismissPip","navigateBack"].includes(e.openType))return!1;if("rewriteRoute"===e.openType&&(e=g(e,t)),!e.notFound)return!1;for(var n=!1,i=e.rawPath;/^[-_+a-z]+:\/\//i.test(i);){h("".concat(i," has protocol, try rewriting"),t);try{i=y(i,{needHtmlSuffix:!0}),n=!0}catch(e){return"AppServiceSdkKnownError"===e.type&&console.error(e.message),(0,l.IN)("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),!1}}return n?(v[t]=e,h('rewriteRoute from "'.concat(e.rawPath,'" to "').concat(i,'"'),t),(0,l.IN)("rewriteRoute",{url:i,webviewId:t}),!0):(f(e,t),!1)},_=n(8947),w=n(3638),b=n(2335),I=(0,c.s)("AppRoute"),E=I.internalOnMethod,T=I.internalOffMethod,k=new Set;(0,a.n)("onAppRoute",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u.s.log("received onAppRoute, res=",JSON.stringify(e)),b.WZ.appRoute=!0,b.WZ.appRouteDone=!1;var n=m(e,t);if(!n){if(e.path=(0,s.Z8)(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==e.openType&&(w.Z.lastRoute=e.path||"",w.Z.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),w.Z.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&k.add(t),!k.has(t))for(var a in e.query)try{e.query[a]=decodeURIComponent(e.query[a])}catch(e){}if("dismissPip"!==e.openType&&(w.Z.query=e.query,w.Z.currentWebviewId=e.webviewId),"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage){var c=e.preloadRule||_.Z._preloadRule&&_.Z._preloadRule[e.path],l=e.page||_.Z._page&&_.Z._page[e.path+".html"];if(c&&(_.Z.updatePreloadRule(e.path,c),"onAppRoute update preloadRule".concat(e.preloadRule?"":" (mock)"),_.Z.preloadRule),l){var d=_.Z.global&&_.Z.global.window||{};l.window=Object.assign({},d,l.window),_.Z.updatePage(e.path,l),"onAppRoute update page".concat(e.page?"":" (mock)"),_.Z.page}}(0,i.nY)("onAppRoute",e,[]),(0,r._o)()&&o.Z.emitter.emit("onAppRoute"),I.emit(e)}}))},2675:(e,t,n)=>{"use strict";n.d(t,{hU:()=>h,fS:()=>A,yU:()=>S});var i=n(8947),a=n(8392),r=n(4531),o=n(4547),s=n(6809),c=(n(9947),n(3638)),l=n(3786),u=(n(6301),n(2363)),d=n(2701),p=u.wZ&&i.Z.useXWebCanvas,f=u.cj&&i.Z.useSkiaCanvas,h=(u.wZ&&i.Z.useNewXWebCanvasToTFP,p||f),v={},g={},y={},m={},_=0,w=0,b=4500,I=Date.now,E=((0,l.kR)("onCanvasMethodCallback"),(0,l.kR)("onDrawCanvas"));function T(e){var t=e.canvasId,n=e.pluginId,i=e.nodeId,a=e.viewId,r=e.webviewId,o=(0,l.yk)(r,t,n,i);y[o]&&delete y[o],h&&(0,d.OS)({webviewId:r,canvasId:t,pluginId:n,nodeId:i,viewId:a})}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(u.gm||u.qB||u.Mq||u.Ae){var c={actions:t,reserve:n,canvasId:e};E(c,(function(e){"function"==typeof s&&s({errMsg:e.errMsg})})),(0,a.nY)("canvasActionsChanged",c)}else(0,a.IN)("drawCanvas",{canvasId:e,reserve:n,useHardwareAccelerate:i,actions:t,success:r,fail:o,complete:s})}function A(e){var t=e.isWidgetCanvas,n=e.canvasId,i=e.actions,r=e.reserve,o=e.useHardwareAccelerate,s=e.success,u=e.fail,p=e.complete,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Z.currentWebviewId,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",E=I();if(Array.isArray(i)){if(t){if(E-_<b){var T={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return(w+=1)>500&&(w=0,console.warn(T.errMsg)),void("function"==typeof u&&u(T))}return _=E,void(0,a.IN)("drawCanvas",{canvasId:void 0,reserve:r,actions:i,success:s,fail:u,complete:p})}var A=(0,l.yk)(f,n,v,g);if(h){var C=(0,d.uy)(A);C.draw(i,r,p,f,g,v)}else if("number"==typeof y[A]){var S=y[A];k(S,i,r,o,s,u,p)}else m[A]=m[A]||[],m[A]=m[A].concat({actions:i,reserve:r,useHardwareAccelerate:o,success:s,fail:u,complete:p})}}"undefined"!=typeof __widgetConfig__&&(b="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),(0,a.Ld)("canvasInsert",(function(e,t){var n=e.canvasId,i=e.viewId,a=e.canvasNumber,o=e.pluginId,s=e.data,c=e.position,u=e.nodeId,p=e.compPath;h&&(0,d.mj)({canvasId:n,viewId:i,canvasNumber:a,pluginId:o,position:c,nodeId:u},t);var f=(0,l.yk)(t,n,o,u);v[a]={lastTouches:[],data:s,compPath:p},y[f]=a,g[a]=c,Array.isArray(m[f])&&(m[f].forEach((function(e){k(a,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)})),delete m[f]),(0,r.dq)(t,(function(){T({canvasId:n,pluginId:o,nodeId:u,viewId:i,webviewId:t})}))})),(0,a.Ld)("canvasUpdate",(function(e){var t=e.canvasNumber,n=e.position;(0,o.n)(g,t)&&(g[t]=n)})),(0,a.Ld)("canvasRemove",(function(e,t){T({canvasId:e.canvasId,pluginId:e.pluginId,nodeId:e.nodeId,viewId:e.viewId,webviewId:t})}));var C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new s._(e,t,n,i)},S=function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(c.Z.currentWebviewId)?t.__wxExparserNodeId__:"";return C(c.Z.currentWebviewId,e,n)}},6809:(e,t,n)=>{"use strict";n.d(t,{_:()=>A});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(8676),c=n.n(s),l=n(8392),u=n(9947),d=n(4547),p=n(2675),f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"},h=n(3638),v=n(3786),g=n(2363),y={},m={};function _(e){return"number"==typeof e}function w(e){var t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var n=t[1].slice(0,1),i=t[1].slice(1,2),a=t[1].slice(2,3);return[n=parseInt(n+n,16),i=parseInt(i+i,16),a=parseInt(a+a,16),255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e){return Math.min(255,parseInt(e.trim(),10))})).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e,t){return 3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))}));var r=e.toLowerCase();if((0,d.n)(f,r)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(f[r]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),c=parseInt(t[1].slice(4,6),16),l=parseInt(t[1].slice(6,8),16);return[o,s,c,l=l>=0?l:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function b(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push(b(e))})),t}if("object"===c()(e)){var n={};for(var i in e)n[i]=b(e[i]);return n}return e}function I(e,t){if(!(g.gm||g.DD||g.Ae||/wxfile:\/\//.test(t)))if(e.pluginId||e.nodeId){var n=e.pluginId.split("/")[0],i=__virtualDOM__.getNodeById(e.nodeId,e.webviewId),a=i&&i.is||"";t=n?0===t.indexOf("/")?__virtualDOM__.getPluginRoutePrefix(n)+(0,u.sd)(a,t,!1).replace(/\.html$/,""):(0,u.sd)(__virtualDOM__.convertComponentAliasToRoute(a),t,!1).replace(/\.html$/,""):(0,u.sd)(a,t,!1).replace(/\.html$/,"")}else t=(0,u.sd)(h.Z.lastRoute,t,!1).replace(/.html$/,"");return t}var E=function(){function e(t,n){a()(this,e),this.type=t,this.data=n,this.colorStop=[]}return o()(e,[{key:"addColorStop",value:function(e,t){p.hU?this.colorStop.push([e,t]):this.colorStop.push([e,w(t)])}}]),e}(),T=function e(t){a()(this,e),this.width=t},k=function e(t,n){a()(this,e),this.image=t,this.repetition=n},A=function(){function e(t,n,i,r){if(a()(this,e),this.actions=[],this.path=[],this.subpath=[],this.webviewId=t,this.canvasId=n,this.pluginId=r,this.useHardwareAccelerate=!0,this.nodeId=i,this._id=(0,v.yk)(t,n,r,i),this.drawingState=y[this._id]=y[this._id]||[],this.state=m[this._id]=m[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:p.hU?"#000000":g.cj?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},g.gm||g.DD){var o=document.createElement("canvas");this._context=o.getContext("2d")}}return o()(e,[{key:"getActions",value:function(){var e=b(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}},{key:"clearActions",value:function(){this.actions=[],this.path=[],this.subpath=[]}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.canvasId,i=b(this.actions),a=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?(0,p.fS)({isWidgetCanvas:!0,actions:i,reserve:e}):(0,p.fS)({canvasId:n,actions:i,reserve:e,useHardwareAccelerate:a,complete:t},this.webviewId,this.pluginId,this.nodeId)}},{key:"createLinearGradient",value:function(e,t,n,i){return new E("linear",[e,t,n,i])}},{key:"createCircularGradient",value:function(e,t,n){return new E("radial",[e,t,n])}},{key:"createPattern",value:function(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e._src?e._src:I(this,e),new k(e,t);console.error("Failed to execute 'createPattern' on 'CanvasContext': The provided type ('".concat(t,"') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'."))}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}},{key:"measureText",value:function(e){var t;return g.gm||g.DD?(this._context.font=this.state.font,t=this._context.measureText(e)):(0,l.IN)("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete:function(e){t={width:e.width||0}}}),new T(t.width||0)}},{key:"save",value:function(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}},{key:"restore",value:function(){this.actions.push({method:"restore",data:[]}),this.state=m[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:p.hU?"#000000":g.cj?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}},{key:"getLineDash",value:function(){return this.state.lineDash}},{key:"beginPath",value:function(){this.path=[],this.subpath=[],(g.gm||p.hU)&&this.path.push({method:"beginPath",data:[]})}},{key:"moveTo",value:function(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}},{key:"closePath",value:function(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}},{key:"lineTo",value:function(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}},{key:"quadraticCurveTo",value:function(e,t,n,i){this.path.push({method:"quadraticCurveTo",data:[e,t,n,i]}),this.subpath.push([n,i])}},{key:"bezierCurveTo",value:function(e,t,n,i,a,r){this.path.push({method:"bezierCurveTo",data:[e,t,n,i,a,r]}),this.subpath.push([a,r])}},{key:"arc",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!g.wZ||p.hU)return this.path.push({method:"arc",data:[e,t,n,i,a,r]}),void this.subpath.push([e,t]);var o=e+Math.cos(i)*n,s=t+Math.sin(i)*n;if(this.subpath.push([o,s]),r&&i-a>=2*Math.PI||!r&&a-i>=2*Math.PI)this.subpath.push([o,s]);else{var c=e+Math.cos(a)*n,l=t+Math.sin(a)*n;this.subpath.push([c,l])}this.path.push({method:"arc",data:[e,t,n,i,a,r]})}},{key:"rect",value:function(e,t,n,i){this.path.push({method:"rect",data:[e,t,n,i]}),this.subpath=[[e,t]],g.wZ&&!p.hU&&this.path.push({method:"closePath",data:[]})}},{key:"arcTo",value:function(e,t,n,i,a,r){if((!g.wZ||p.hU)&&!r)return this.path.push({method:"arcTo",data:[e,t,n,i,a]}),void this.subpath.push([n,i]);var o=this.subpath[this.subpath.length-1],s=o[0],c=o[1];if(s===e&&c===t||e===n&&t===i||0===a)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===n||c===t&&c===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var l,u,d,f,h,v,y=Math.sqrt,m=Math.acos,_=Math.sin,w=Math.tan,b=Math.atan,I=Math.PI,E=function(e){return Math.pow(e,2)},T=s-e,k=c-t,A=n-e,C=i-t,S=m((T*A+k*C)/(y(E(T)+E(k))*y(E(A)+E(C))))/2,x=Math.round(a/_(S)*1e6)/1e6,P=Math.round(a/w(S)*1e6)/1e6;if(s-e==0)l=e,u=c-t>0?t+P:t-P;else if(c-t==0)l=s-e>0?e+P:e-P,u=t;else{var D=(c-t)/(s-e),R=c-D*s;u=D*(l=(y(E(T)+E(k))*P+T*e+k*t-R*k)/(T+D*k))+R}if(n-e==0)d=e,f=i-t>0?t+P:t-P;else if(i-t==0)d=n-e>0?e+P:e-P,f=t;else{var O=(i-t)/(n-e),N=i-O*n;f=O*(d=(y(E(A)+E(A))*P+A*e+C*t-N*C)/(A+O*C))+N}var M=(l+d)/2-e,L=(u+f)/2-t;if(0===L)h=e,v=L>0?t+x:t-x;else{var W=L/M,F=t-W*e;v=W*(h=(y(E(M)+E(L))*x+e*M+t*L-F*L)/(M+W*L))+F}h=Math.round(1e6*h)/1e6;var B=u-(v=Math.round(1e6*v)/1e6),j=l-h,U=I-2*S,G=b(B/j);0===B&&j<0&&(G=Math.PI);var V=(l-h)*(f-v)-(u-v)*(d-h);this.path.push({method:"arc",data:[h,v,a,G,V>0?G+U:G-U,V<0]}),this.subpath.push([d,f])}},{key:"getTransform",value:function(){return this._transform}},{key:"clip",value:function(){this.actions.push({method:"clip",data:b(this.path)})}},{key:"lineDashOffset",set:function(e){if(g.gm||g.DD||g.Ae)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}},{key:"globalCompositeOperation",set:function(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}},{key:"shadowBlur",set:function(e){g.gm||g.DD||g.Ae?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}},{key:"shadowColor",set:function(e){var t;g.gm||g.DD||g.Ae?this.actions.push({method:"setShadowColor",data:[e]}):(t=p.hU?e:g.cj&&0===this.state.shadowBlur?[]:w(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}},{key:"shadowOffsetX",set:function(e){g.gm||g.DD||g.Ae?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}},{key:"shadowOffsetY",set:function(e){g.gm||g.DD||g.Ae?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}},{key:"font",get:function(){return this.state.font},set:function(e){var t=this;this.state.font=e;var n=e.match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(n){var i=n[1].trim().split(/\s/),a=parseFloat(n[3]),r=n[7],o=[],s="",c=this;if(i.forEach((function(e,n){["italic","oblique","normal"].indexOf(e)>-1?(o.push({method:"setFontStyle",data:[e]}),t.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(o.push({method:"setFontWeight",data:[e]}),t.state.fontWeight=e):0===n?(o.push({method:"setFontStyle",data:["normal"]}),c.state.fontStyle="normal"):1===n&&l()})),1===i.length&&l(),s=o.map((function(e){return e.data[0]})).join(" "),this.state.fontSize=a,this.state.fontFamily=r,g.gm||g.DD||g.Ae)return s="".concat(s," ").concat(a,"px ").concat(r),void this.actions.push({method:"setFont",data:[s]});this.actions.push.apply(this.actions,o),this.actions.push({method:"setFontSize",data:[a]},{method:"setFontFamily",data:[r]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function l(){o.push({method:"setFontWeight",data:["normal"]}),c.state.fontWeight="normal"}}},{key:"fillStyle",set:function(e){C(this,"setFillStyle",e)}},{key:"strokeStyle",set:function(e){C(this,"setStrokeStyle",e)}},{key:"globalAlpha",set:function(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}},{key:"textAlign",set:function(e){this.actions.push({method:"setTextAlign",data:[e]})}},{key:"lineCap",set:function(e){this.actions.push({method:"setLineCap",data:[e]})}},{key:"lineJoin",set:function(e){this.actions.push({method:"setLineJoin",data:[e]})}},{key:"lineWidth",set:function(e){this.actions.push({method:"setLineWidth",data:[e]})}},{key:"miterLimit",set:function(e){this.actions.push({method:"setMiterLimit",data:[e]})}},{key:"textBaseline",set:function(e){this.actions.push({method:"setTextBaseline",data:[e]})}}]),e}();function C(e,t,n){"string"==typeof n?p.hU?e.actions.push({method:t,data:["normal",n]}):e.actions.push({method:t,data:["normal",w(n)]}):"object"===c()(n)&&n instanceof E?e.actions.push({method:t,data:[n.type,n.data,n.colorStop]}):n instanceof k&&e.actions.push({method:t,data:["pattern",n.image,n.repetition]})}[].concat(["scale","rotate","translate","setTransform","transform"],["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"]).forEach((function(e){A.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:b(this.path)})}:"fillRect"===e?function(e,t,n,i){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,n,i]}]})}:"strokeRect"===e?function(e,t,n,i){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,n,i]}]})}:"fillText"===e||"strokeText"===e?function(t,n,i,a){var r=[t.toString(),n,i];"number"==typeof a&&r.push(a),this.actions.push({method:e,data:r})}:"drawImage"===e?function(t,n,i,a,r,o,s,c,l){var u;t=t._src?t._src:I(this,t),void 0===l&&(o=n,s=i,c=a,l=r,n=void 0,i=void 0,a=void 0,r=void 0),u=_(n)&&_(i)&&_(a)&&_(r)?[t,o,s,c,l,n,i,a,r]:_(c)&&_(l)?[t,o,s,c,l]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e||"setTransform"===e?function(t,n,i,a,r,o){this._transform={a:t,b:n,c:i,d:a,e:r,f:o},this.actions.push({method:e,data:[t,n,i,a,r,o]})}:function(){this._ignoreScale&&"scale"===e?this._ignoreScale=!1:this.actions.push({method:e,data:[].slice.apply(arguments)})}})),["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"].forEach((function(e){"setFillStyle"===e||"setStrokeStyle"===e?A.prototype[e]=function(){var t=arguments[0];C(this,e,t)}:"setGlobalAlpha"===e?A.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?A.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);p.hU||(t[3]=g.cj&&0===t[2]?[]:w(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?A.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?A.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:A.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}))},6928:(e,t,n)=>{"use strict";n.d(t,{y:()=>N});var i=n(4742),a=n.n(i),r=n(7541),o=n.n(r),s=n(1503),c=n.n(s),l=(n(8676),n(7163)),u=n.n(l),d=n(5843),p=n.n(d),f=n(6965),h=n(426),v=n(8392),g=(n(2363),n(3638)),y=n(3786),m=n(3646),_=n.n(m),w=n(862),b=n.n(w),I=n(2354),E=n(8457),T=n(4708),k=n(2780),A=n(8273),C=new WeakMap,S=function(e){a()(n,e);var t=o()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,n);var a=c()({id:-1,width:1,height:1,top:0,left:0,nodeId:"",pluginId:""},i),r=a.id,o=a.width,s=a.height,l=a.top,d=a.left,p=a.nodeId,f=a.pluginId;return(e=t.call(this)).id=r,e._top=l,e._left=d,e._width=o,e._height=s,e._nodeId=p,e._pluginId=f,e._onReady(),e}return p()(n,[{key:"_init",value:function(){if(this.id){var e=this._initCanvasInstance();e.width=this._width,e.height=this._height,C.set(this,e)}else console.error("Canvas node cannot be found")}},{key:"_onReady",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=function(){C.get(e)||e._init(),t()};n()}},{key:"getContext",value:function(e,t){if("2d"===e){var n=C.get(this);if(!n)return void console.error("Canvas getContext failed due to missing canvas instance");if(this._ctx)return this._ctx;var i=n.getContext("2d",t);return Object.defineProperty(this,"_ctx",{enumerable:!1,configurable:!1,writable:!1,value:i}),i}"webgl"===e?console.error("Canvas: current node only supports 2d context"):console.error("Invalid context type ["+e+"] for Canvas#getContext")}},{key:"width",get:function(){var e=C.get(this);return e&&e.width},set:function(e){var t=C.get(this);t&&(t.width=e)}},{key:"height",get:function(){var e=C.get(this);return e&&e.height},set:function(e){var t=C.get(this);t&&(t.height=e)}},{key:"createImage",value:function(){}},{key:"createImageData",value:function(){}}]),n}(A.c),x=function(e){a()(i,e);var t=o()(i);function i(){return u()(this,i),t.apply(this,arguments)}return p()(i,[{key:"_initCanvasInstance",value:function(){return I.w4.initialize(E.A),new n.g.Canvas(this.id)}},{key:"getContext",value:function(e,t){return(0,y.zG)(T.I,k.o)(_()(b()(i.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=new n.g.Image;return(0,y.K1)(e,{nodeId:this.nodeId,pluginId:this.pluginId,webviewId:""})}}]),i}(S),P=n(8450),D=function(e){a()(i,e);var t=o()(i);function i(){return u()(this,i),t.apply(this,arguments)}return p()(i,[{key:"_initCanvasInstance",value:function(){I.w4.initialize(P.B);var e=(f.Z.HTMLCanvasView||n.g.HTMLCanvasView).createView(this.id);return(f.Z.HTMLCanvasElement||n.g.HTMLCanvasElement).createElement(e)}},{key:"getContext",value:function(e,t){return(0,y.zG)(T.I,k.o)(_()(b()(i.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=new(f.Z.SkiaImages||SkiaImage),t=(0,y.K1)(e,{nodeId:this._nodeId,pluginId:this._pluginId,webviewId:""});return new T.e(t)}}]),i}(S),R=function(e){a()(n,e);var t=o()(n);function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"_initCanvasInstance",value:function(){var e=document.createElement("canvas");return e.style.position="absolute",e.style.top=this._top+"px",e.style.left=this._left+"px",e.style.width=this._width+"px",e.style.height=this._height+"px",e.width=this._width,e.height=this._height,e._canvasId=this.id,e}},{key:"getContext",value:function(e,t){return(0,y.zG)(T.I)(_()(b()(n.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=this;if("function"==typeof window.__global.createCustomImage)return window.__global.createCustomImage((function(t){return(0,y.rL)(t,e.nodeId,e.pluginId,g.Z.currentWebviewId)}),(function(e){return e.replace(/^\/__pageframe__\//,"")}));console.warn("开发工具暂不支持 createImage")}}]),n}(S),O=n(4269),N=function(){function e(t){var n=t.id,i=t.width,a=t.height,r=t.nodeId,o=t.pluginId;u()(this,e),this._id=n,this._width=i,this._height=a,this._nodeId=r,this._pluginId=o}return p()(e,[{key:"id",get:function(){return this._id}},{key:"_offscreenCanvasId",get:function(){return null}},{key:"createImage",value:function(){}},{key:"getContext",value:function(){}},{key:"width",get:function(){},set:function(e){}},{key:"height",get:function(){},set:function(e){}}]),e}();(function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;u()(this,n),(i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c})).__id=-g.Z.currentWebviewId||i.id,(0,v.IN)("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:i.__id,keepAlive:!0,fail:function(){}});var l=(0,h.t)();return i.canvas=l.createOffscreenCanvas(i.__id,r,o),i}p()(n,[{key:"getContext",value:function(e){var t;if("webgl"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}}},{key:"createImage",value:function(){var e=(0,h.t)().createImage(this.__id);return(0,y.K1)(e,{nodeId:this.nodeId,pluginId:this.pluginId})}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}},{key:"_offscreenCanvasId",get:function(){return this.canvas.__id}}])})(N),function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;return u()(this,n),(i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c})).canvas=(0,y.ci)()?new O.Q(g.Z.currentWebviewId,a):new x({id:a,width:r,height:o,nodeId:s,pluginId:c}),i}p()(n,[{key:"getContext",value:function(e){var t;if("2d"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}console.warn("can only create 2d context")}},{key:"createImage",value:function(){return this.canvas.createImage()}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}])}(N);(function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;return u()(this,n),(i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c})).canvas=new f.Z.OffscreenCanvas(r,o),i}p()(n,[{key:"getContext",value:function(e){var t;if("webgl"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}}},{key:"createImage",value:function(){var e=new f.Z.Image;return(0,y.K1)(e,{nodeId:this.nodeId,pluginId:this.pluginId})}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}},{key:"_offscreenCanvasId",get:function(){return this.canvas.__id}}])})(N),function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;return u()(this,n),(i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c})).canvas=(0,y.ci)()?new O.Q(g.Z.currentWebviewId,a):new D({id:a,width:r,height:o,nodeId:s,pluginId:c}),i}p()(n,[{key:"getContext",value:function(e){var t;if("2d"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}}},{key:"createImage",value:function(){return this.canvas.createImage()}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}])}(N);(function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;u()(this,n),i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c});var l=document.createElement("canvas");return l.width=r,l.height=o,i.canvas=l,i}p()(n,[{key:"getContext",value:function(e){var t;if("webgl"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}}},{key:"createImage",value:function(){var e=this;if("function"==typeof window.__global.createCustomImage)return window.__global.createCustomImage((function(t){return(0,y.rL)(t,e.nodeId,e.pluginId,g.Z.currentWebviewId)}),(function(e){return e.replace(/^\/__pageframe__\//,"")}));console.warn("开发工具暂不支持 createImage")}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}])})(N),function(e){a()(n,e);var t=o()(n);function n(e){var i,a=e.id,r=e.width,o=e.height,s=e.nodeId,c=e.pluginId;return u()(this,n),(i=t.call(this,{id:a,width:r,height:o,nodeId:s,pluginId:c})).canvas=new R({id:a,width:r,height:o,nodeId:s,pluginId:c}),i}p()(n,[{key:"getContext",value:function(e){var t;if("2d"===e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.canvas).getContext.apply(t,[e].concat(i))}}},{key:"createImage",value:function(){return this.canvas.createImage()}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}])}(N)},2701:(e,t,n)=>{"use strict";n.d(t,{mj:()=>y,OS:()=>m,uy:()=>_});var i=n(6885),a=n.n(i),r=n(572),o=n.n(r),s=n(7163),c=n.n(s),l=n(5843),u=n.n(l),d=n(8392),p=n(3786),f=n(9947),h=n(2363),v={},g={};function y(e,t){var n=e.canvasId,i=e.viewId,a=e.canvasNumber,r=e.pluginId,o=e.position,s=e.nodeId,c=(0,p.yk)(t,n,r,s),l=_(c);l.context&&(l=w(c)),l.context||l.init(a,o.width,o.height,i,t)}function m(e){var t=e.canvasId,n=e.pluginId,i=e.nodeId,a=e.viewId,r=e.webviewId,o=(0,p.yk)(r,t,n,i);delete v[o],delete g[a]}function _(e){return v[e]?v[e]:w(e)}function w(e){var t=new b(e);return v[e]=t,t}h.wZ&&(0,d.jQ)("onXWebCanvasSurfaceChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g[e.viewId];t&&"function"==typeof t.swapSurface&&t.swapSurface()})),(0,d.Ld)("skiaCanvasSizeChanged",(function(e,t){var n=e.canvasId,i=e.pluginId,a=e.nodeId,r=e.position,o=(0,p.yk)(t,n,i,a),s=v[o];0===r.width&&0===r.height||!s||s.width===r.width&&s.height===r.height||(s.width=r.width,s.height=r.height,s.canvas&&s.context&&(s.canvas.width=r.width,s.canvas.height=r.height,s.needsReplay()&&s.replayActions()))}));var b=function(){function e(t){var n=this;c()(this,e),this.id=t,this.width=0,this.height=0,this.context=null,this._actionsDefer=[],this._actionsWaiting=!1,this._images=[],this._actionsQueue=[],this._contextPromise=new Promise((function(e){n._resolveContext=e}))}return u()(e,[{key:"init",value:function(e,t,i,a){this.width=t,this.height=i,h.cj&&(this.canvas=new n.g.Canvas(e),this.context=this.canvas.getContext("2d")),h.wZ&&(this.canvasView=HTMLCanvasView.createView(a),g[a]=this.canvasView,this.canvas=HTMLCanvasElement.createElement(this.canvasView),this.context=this.canvas.getContext("2d")),this._resolveContext&&this._resolveContext(this.context)}},{key:"preloadImage",value:function(e){var t=this;e.forEach((function(e){var i="",a=e.method,r=e.data;"drawImage"===a?i=r[0]:"setFillStyle"===a&&"pattern"===r[0]&&(i=r[1]),i&&!t._images[i]&&(h.cj?(t._images[i]=new n.g.Image,t._images[i].onload=function(){t._images[i].ready=!0}):h.wZ&&(t._images[i]=new SkiaImage,t._images[i].onload=function(){t._images[i].ready=!0}),t._images[i].setSrc(i))}))}},{key:"checkImageLoaded",value:function(e,t,n){var i=this,a=this._images[e];return a.ready?(n(a),!0):(this._actionsDefer.unshift([t,!0]),this._actionsWaiting=!0,a.onload=function(){a.ready=!0,n(a),i._actionsWaiting=!1;var e=i._actionsDefer.slice(0);i._actionsDefer=[];for(var t=e.shift();t;)i.draw(t[0],t[1],t[2],i._webviewId,i._nodeId,i._pluginId),t=e.shift()},!1)}},{key:"draw",value:function(e,t,n,i,a,r){var o=this;this._webviewId=i,this._nodeId=a,this._pluginId=r,this.context?this._draw(e,t,n,i,a,r):this._contextPromise.then((function(){return o._draw(e,t,n,i,a,r),null})).catch((function(){}))}},{key:"_draw",value:function(e,t,n,i,r,s){var c=this,l=this.context;if(e)if(t||this._flushQueue(),this._enqueue({actions:e,reserve:t}),this._actionsWaiting)this._actionsDefer.push([e,t,n]);else{t||(l.fillStyle="#000000",l.strokeStyle="#000000",l.shadowColor="#000000",l.shadowBlur=0,l.shadowOffsetX=0,l.shadowOffsetY=0,l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,this.width,this.height)),this.preloadImage(e,i,r,s),l.save();for(var u=function(t){var n=e[t],i=n.method,r=n.data;if(/^set/.test(i)&&"setTransform"!==i){var s=i[3].toLowerCase()+i.slice(4),u=void 0;if("fillStyle"===s||"strokeStyle"===s){if("normal"===r[0])u=r[1];else if("linear"===r[0])u=l.createLinearGradient.apply(l,o()(r[1])),r[2].forEach((function(e){var t=e[0],n=e[1];u.addColorStop(t,n)}));else if("radial"===r[0]){var d=r[1][0],p=r[1][1],f=[d,p,0,d,p,r[1][2]];u=l.createRadialGradient.apply(l,f),r[2].forEach((function(e){var t=e[0],n=e[1];u.addColorStop(t,n)}))}else if("pattern"===r[0]){return c.checkImageLoaded(r[1],e.slice(t+1),(function(e){e&&(l[s]=l.createPattern(e,r[2]))}))?"continue":"break"}l[s]=u}else if("globalAlpha"===s)l[s]=r[0]/255;else if("shadow"===s){var h=["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"];r.forEach((function(e,t){l[h[t]]=e}))}else"fontSize"===s?l.font=l.font.replace(/\d+\.?\d*px/,r[0]+"px"):"lineDash"===s?(l.setLineDash(r[0]),l.lineDashOffset=r[1]||0):"textBaseline"===s?("normal"===r[0]&&(r[0]="alphabetic"),l[s]=r[0]):l[s]=r[0]}else if("fillPath"===i||"strokePath"===i)i=i.replace(/Path/,""),l.beginPath(),r.forEach((function(e){l[e.method].apply(l,o()(e.data))})),l[i]();else if("fillText"===i){var v=a()(r),g=v[0],y=v.slice(1);y&&y.map&&(y=y.map((function(e){return"string"==typeof e?parseFloat(e):e}))),l.fillText.apply(l,[g].concat(o()(y)))}else if("drawImage"===i){var m=a()(r),_=m[0],w=m.slice(1);if(c._images=c._images||{},w&&w.map&&(w=w.map((function(e){return"string"==typeof e?parseFloat(e):e}))),!c.checkImageLoaded(_,e.slice(t+1),(function(e){e&&l.drawImage.apply(l,[e].concat(o()(w.slice(4,8)),o()(w.slice(0,4))))})))return"break"}else if("clip"===i)r.forEach((function(e){l[e.method].apply(l,o()(e.data))})),l.clip();else if("arcTo"===i||"rotate"===i){var b=r;r&&r.map&&(b=r.map((function(e){return"string"==typeof e?parseFloat(e):e}))),l[i].apply(l,o()(b))}else if("strokeText"===i){var I=a()(r),E=I[0],T=I.slice(1);T&&T.map&&(T=T.map((function(e){return"string"==typeof e?parseFloat(e):e}))),l[i].apply(l,[E].concat(o()(T)))}else l[i].apply(l,o()(r))},d=0;d<e.length;d++){var p=u(d);if("break"===p)break}l.restore(),h.wZ&&this.canvasView.present(),this._actionsWaiting||"function"==typeof n&&n()}}},{key:"getImageData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.context?this._getImageData(t):this._contextPromise.then((function(){return e._getImageData(t),null})).catch((function(){}))}},{key:"_getImageData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var n=t||{},i=n.x,a=n.y,r=n.width,o=n.height;e=this.context.getImageData(i,a,r,o)}catch(e){return void(0,f.Ky)(t,e)}if(e){var s={width:e.width,height:e.height,data:e.data};(0,f.AK)(t,s)}else(0,f.Ky)("canvasGetImageData:fail")}},{key:"putImageData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.context?this._putImageData(t):this._contextPromise.then((function(){return e._putImageData(t),null})).catch((function(){}))}},{key:"_putImageData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,i=e||{},a=i.x,r=i.y,o=i.width,s=i.height,c=i.data;h.cj?t=new n.g.ImageData(c,o,s):h.wZ&&(t=new SkiaImageData(c,o,s)),h.wZ&&this.canvasView.prepareDraw(),this.context.putImageData(t,a,r),h.wZ&&this.canvasView.present()}catch(t){return void(0,f.Ky)(e,t)}(0,f.El)(e,"canvasPutImageData:ok")}},{key:"replayActions",value:function(){var e=this,t=function(){};this._actionsQueue.forEach((function(n){e.draw(n.actions,n.reserve,t,e._webviewId,e._nodeId,e._pluginId)}))}},{key:"needsReplay",value:function(){return this._actionsQueue.length>0}},{key:"_flushQueue",value:function(){this._actionsQueue=[]}},{key:"_enqueue",value:function(e){this._actionsQueue.push(e)}}]),e}()},426:(e,t,n)=>{"use strict";function i(){return n.g.WeixinCanvas}n.d(t,{t:()=>i})},8273:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=function(){function e(){a()(this,e)}return o()(e,[{key:"_init",value:function(){}},{key:"_onReady",value:function(){}},{key:"_initCanvasInstance",value:function(){}},{key:"getContext",value:function(){}},{key:"createImage",value:function(){}},{key:"requestAnimationFrame",value:function(){}},{key:"cancelAnimationFrame",value:function(){}},{key:"width",get:function(){},set:function(e){}},{key:"height",get:function(){},set:function(e){}}]),e}()},2354:(e,t,n)=>{"use strict";n.d(t,{nE:()=>E,TS:()=>T,y9:()=>A,mj:()=>S,OS:()=>x,w4:()=>P,gK:()=>D});var i=n(7615),a=n.n(i),r=n(4742),o=n.n(r),s=n(7541),c=n.n(s),l=n(3379),u=n.n(l),d=n(572),p=n.n(d),f=n(7163),h=n.n(f),v=n(5843),g=n.n(v),y=n(9307),m=n(3786),_=n(8273),w=n(4531),b=n(7136),I={},E={},T=new WeakMap,k={},A={},C=(0,y.s)("skiaCanvasLoadFontFace");function S(e,t){var n=(0,m.yk)(t,e.canvasNumber);E[n]={top:e.position.top,left:e.position.left,width:e.position.width,height:e.position.height,canvasNumber:e.canvasNumber,nodeId:e.nodeId,pluginId:e.pluginId,webviewId:t},k[e.canvasNumber]={lastTouches:[],data:e.data,compPath:e.compPath};var i=I[n];"function"==typeof i&&(i.call(),delete I[n]),(0,w.dq)(t,(function(){x(e,t)}))}function x(e,t){var n=(0,m.yk)(t,e.canvasNumber);delete I[n],delete E[n],delete A[n],delete k[e.canvasNumber]}var P=function(){function e(){h()(this,e),this._fontAssets=[],this.loadFontFace(b.X4),this.subscribeFontLoadEvent()}return g()(e,[{key:"loadFontFace",value:function(e){var t;(t=this._fontAssets).push.apply(t,p()(e))}},{key:"subscribeFontLoadEvent",value:function(){var e=this;C.internalOnMethod((function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.nativeFontAssets,a=[],r=u()(i);try{var o=function(){var n=t.value;e._fontAssets.find((function(e){return e.src===n.src||e.originalSrc===n.originalSrc}))||a.push(n)};for(r.s();!(t=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}a.length>0&&e.loadFontFace(a)}))}}],[{key:"initialize",value:function(e){this.fontManagerInstance||(this.fontManagerInstance=new e)}}]),e}();P.fontManagerInstance=null;var D=function(e){o()(n,e);var t=c()(n);function n(e,i,r,o){var s;return h()(this,n),(s=t.call(this))._webviewId=e,s._canvasId=(0,m.yk)(e,i),s._nodeId=o,s._nodeCanvasId=r,A[s._canvasId]=a()(s),s}return g()(n,[{key:"_init",value:function(){var e=E[this._canvasId];if(this.id=e.canvasNumber,this._top=e.top,this._left=e.left,this._width=e.width,this._height=e.height,this.id){var t=this._initCanvasInstance();t.width=300,t.height=150,T.set(this,t)}else console.error("Canvas node cannot be found")}},{key:"_onReady",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=function(){T.get(e)||e._init(),t()};E[this._canvasId]?n():I[this._canvasId]=n}},{key:"getContext",value:function(e,t){if("2d"===e){var n=T.get(this);if(!n)return void console.error("Canvas getContext failed due to missing canvas instance");if(this._ctx)return this._ctx;var i=n.getContext("2d",t);return Object.defineProperty(this,"_ctx",{enumerable:!1,configurable:!1,writable:!1,value:i}),i}"webgl"===e?console.error("Canvas: current node only supports 2d context"):console.error("Invalid context type ["+e+"] for Canvas#getContext")}},{key:"width",get:function(){var e=T.get(this);return e&&e.width},set:function(e){var t=T.get(this);t&&(t.width=e)}},{key:"height",get:function(){var e=T.get(this);return e&&e.height},set:function(e){var t=T.get(this);t&&(t.height=e)}},{key:"createImageData",value:function(){}},{key:"createPath2D",value:function(e){}},{key:"requestAnimationFrame",value:function(e){}},{key:"cancelAnimationFrame",value:function(){}},{key:"toDataURL",value:function(e,t){var n=T.get(this);return n?n.toDataURL(e,t):""}}]),n}(_.c)},8450:(e,t,n)=>{"use strict";n.d(t,{B:()=>D});var i=n(1279),a=n.n(i),r=n(3646),o=n.n(r),s=n(862),c=n.n(s),l=n(4742),u=n.n(l),d=n(7541),p=n.n(d),f=n(7163),h=n.n(f),v=n(5843),g=n.n(v),y=n(8947),m=n(6965),_=n(8392),w=n(2363),b=n(3786),I=n(2354),E=n(4708),T=n(2780),k=n(4531),A={};function C(e,t){var n=(0,b.yk)(t,e.canvasNumber),i=A[n];delete A[n],i&&i.dispose()}w.wZ&&((0,_.Ld)("skiaCanvasInsert",(function(e,t){(0,I.mj)(e,t),(0,k.dq)(t,(function(){C(e,t)}))})),(0,_.Ld)("skiaCanvasRemove",(function(e,t){(0,I.OS)(e,t),C(e,t),(0,_.nY)("skiaCanvasRemoved_"+e.canvasNumber)})),(0,_.Ld)("skiaCanvasSizeChangedBinding",(function(e,t){var n=(0,b.yk)(t,e.canvasNumber),i=I.y9[n];i&&(i._top=e.position.top,i._left=e.position.left,i._width=e.position.width,i._height=e.position.height)})),(0,_.jQ)("onXWebCanvasSurfaceChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,b.yk)(t,e.viewId),i=I.y9[n];i&&"function"==typeof i._swap&&i._swap()})));var S=function(){function e(){h()(this,e)}return g()(e,[{key:"sync",value:function(e){this.t=setInterval((function(){e()}),1e3/60)}},{key:"dispose",value:function(){clearInterval(this.t)}}]),e}(),x={offset:Date.now(),now:function(){return Date.now()-this.offset}},P=function(){function e(t){var n=this;h()(this,e),this.id=0,this.canvasView=t,this.callbacks=new Map,this.vSync=new S,this.vSync.sync((function(){var e=new Map(n.callbacks);n.callbacks.clear(),e.forEach((function(e){"function"==typeof e&&e.apply(null,[x.now()])})),n.canvasView.present()}))}return g()(e,[{key:"requestAnimationFrame",value:function(e){var t=this.id++;return this.callbacks.set(t,e),t}},{key:"cancelAnimationFrame",value:function(e){this.callbacks.delete(e)}},{key:"dispose",value:function(){this.vSync.dispose(),this.callbacks.clear()}}]),e}(),D=function(e){u()(i,e);var t=p()(i);function i(){return h()(this,i),t.apply(this,arguments)}return g()(i,[{key:"loadFontFace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o()(c()(i.prototype),"loadFontFace",this).call(this,e);var t=m.Z.SkiaCanvasLoadNewFont||n.g.SkiaCanvasLoadNewFont;if("function"==typeof t){var a=e.map((function(e){return e.src=e.src||"",e.family=e.family||"",e.style=e.style||"",e.weight=e.weight||"",e.variant=e.variant||"",e}));t(a)}}}]),i}(I.w4);!function(e){u()(i,e);var t=p()(i);function i(){return h()(this,i),t.apply(this,arguments)}g()(i,[{key:"_initCanvasInstance",value:function(){I.w4.initialize(D);var e=(m.Z.HTMLCanvasView||n.g.HTMLCanvasView).createView(this.id),t=(m.Z.HTMLCanvasElement||n.g.HTMLCanvasElement).createElement(e);return this._scheduler=new P(e),A[this._canvasId]=this._scheduler,this._swap=function(){e.swapSurface()},t}},{key:"getContext",value:function(e,t){return(0,b.zG)(E.I,T.o)(o()(c()(i.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=new(m.Z.SkiaImages||SkiaImage),t=(0,b.K1)(e,I.nE[this._canvasId]);return new E.e(t)}},{key:"createImageData",value:function(e,t,i){return e?(t=parseFloat(t),i=parseFloat(i),new(m.Z.SkiaImageData||n.g.SkiaImageData)(e,t,i)):null}},{key:"createPath2D",value:function(){for(var e=m.Z.SkiaPath2D||n.g.SkiaPath2D,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return 0===i.length?new e:1===i.length?a()(e,i):null}},{key:"requestAnimationFrame",value:function(e){return y.Z.useSkiaCanvasRaf?(m.Z.SkiaCanvasRequestAnimationFrame||n.g.SkiaCanvasRequestAnimationFrame)(e):this._scheduler.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){y.Z.useSkiaCanvasRaf?(m.Z.SkiaCanvasCancelAnimationFrame||n.g.SkiaCanvasCancelAnimationFrame)(e):this._scheduler.cancelAnimationFrame(e)}}])}(I.gK)},4269:(e,t,n)=>{"use strict";n.d(t,{Q:()=>A});var i=n(4742),a=n.n(i),r=n(7541),o=n.n(r),s=n(7163),c=n.n(s),l=n(5843),u=n.n(l),d=n(8392),p=n(3786),f=n(2354),h=n(4708),v=n(6809),g=n(4531),y=n(1754),m=n(8947),_={};function w(e,t){var n=(0,p.yk)(t,e.canvasNumber),i=_[n];delete _[n],i&&i.dispose()}m.Z.onReady((function(){(0,p.ci)()&&((0,d.Ld)("skiaCanvasInsert",(function(e,t){(0,f.mj)(e,t),(0,g.dq)(t,(function(){w(e,t)}))})),(0,d.Ld)("skiaCanvasRemove",(function(e,t){(0,f.OS)(e,t),w(e,t),(0,d.nY)("skiaCanvasRemoved_"+e.canvasNumber)})),(0,d.Ld)("skiaCanvasSizeChangedBinding",(function(e,t){var n=(0,p.yk)(t,e.canvasNumber),i=f.y9[n];i&&(i._top=e.position.top,i._left=e.position.left,i._width=e.position.width,i._height=e.position.height)})))}));var b=function(){function e(){c()(this,e)}return u()(e,[{key:"width",get:function(){return this._w},set:function(e){this._w=e}},{key:"height",get:function(){return this._h},set:function(e){this._h=e}}]),e}(),I=function(){function e(){c()(this,e),this._src=null,this._referrerPolicy=""}return u()(e,[{key:"setSrc",value:function(e){var t=this;this._src=e,/^(http|https):\/\//.test(e)?(0,y.o)({url:e,success:function(e){t._src=e.tempFilePath,"function"==typeof t.onload&&t.onload()},fail:this.onerror||function(){}}):"function"==typeof this.onload&&this.onload()}},{key:"getSrc",value:function(){return this._src}},{key:"getReferrerPolicy",value:function(){return this._referrerPolicy}},{key:"setReferrerPolicy",value:function(e){this._referrerPolicy=e}}]),e}(),E=function(){function e(){c()(this,e)}return u()(e,[{key:"sync",value:function(e){var t=this;this.t=setTimeout((function n(){e(),t.t=setTimeout(n,1e3/60)}),1e3/60)}},{key:"dispose",value:function(){clearInterval(this.t)}}]),e}(),T={offset:Date.now(),now:function(){return Date.now()-this.offset}},k=function(){function e(t){var n=this;c()(this,e),this.id=0,this.canvasView=t,this.callbacks=new Map,this.vSync=new E,this.vSync.sync((function(){var e=new Map(n.callbacks);if(n.callbacks.clear(),e.forEach((function(e){"function"==typeof e&&e.apply(null,[T.now()])})),n.canvasView.actions.length>0){for(var t=!0,i=n.canvasView.actions,a=0;a<i.length;a++)"clearRect"===i[a].method&&(t=!1);n.canvasView.draw(t)}}))}return u()(e,[{key:"requestAnimationFrame",value:function(e){var t=this.id++;return this.callbacks.set(t,e),t}},{key:"cancelAnimationFrame",value:function(e){this.callbacks.delete(e)}},{key:"dispose",value:function(){this.vSync.dispose(),this.callbacks.clear()}}]),e}(),A=function(e){a()(n,e);var t=o()(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_initCanvasInstance",value:function(){return this._context=new v._(this._webviewId,this._nodeCanvasId,this._nodeId,""),this._scheduler=new k(this._context),_[this._canvasId]=this._scheduler,new b}},{key:"getContext",value:function(){return(0,p.zG)(h.I)(this._context,this.id)}},{key:"width",get:function(){var e=f.TS.get(this);return e&&e.width},set:function(e){e!==this._width&&(this._context._ignoreScale=!0);var t=f.TS.get(this);t&&(t.width=e)}},{key:"height",get:function(){var e=f.TS.get(this);return e&&e.height},set:function(e){e!==this._height&&(this._context._ignoreScale=!0);var t=f.TS.get(this);t&&(t.height=e)}},{key:"createImage",value:function(){var e=new I,t=(0,p.K1)(e,f.nE[this._canvasId]);return new h.e(t)}},{key:"createImageData",value:function(){return null}},{key:"createPath2D",value:function(){return null}},{key:"requestAnimationFrame",value:function(e){return this._scheduler.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){this._scheduler.cancelAnimationFrame(e)}}]),n}(f.gK)},8457:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var i=n(1279),a=n.n(i),r=n(7163),o=n.n(r),s=n(5843),c=n.n(s),l=n(3646),u=n.n(l),d=n(862),p=n.n(d),f=n(4742),h=n.n(f),v=n(7541),g=n.n(v),y=n(8392),m=n(3786),_=n(2363),w=n(2354),b=n(4708),I=n(2780),E=n(426);_.cj&&((0,y.Ld)("skiaCanvasInsert",(function(e,t){(0,w.mj)(e,t)})),(0,y.Ld)("skiaCanvasRemove",(function(e,t){(0,w.OS)(e,t),(0,y.nY)("skiaCanvasRemoved_"+e.canvasNumber)})),(0,y.Ld)("skiaCanvasSizeChangedBinding",(function(e,t){var n=(0,m.yk)(t,e.canvasNumber),i=w.y9[n];i&&(i._top=e.position.top,i._left=e.position.left,i._width=e.position.width,i._height=e.position.height)})));var T=function(e){h()(i,e);var t=g()(i);function i(){return o()(this,i),t.apply(this,arguments)}return c()(i,[{key:"loadFontFace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u()(p()(i.prototype),"loadFontFace",this).call(this,e);var t=n.g.skiacanvasLoadNewFont;if("function"==typeof t){var a=e.map((function(e){return e.src=e.src||"",e.family=e.family||"",e.style=e.style||"",e.weight=e.weight||"",e.variant=e.variant||"",e}));t(a)}}}]),i}(w.w4);!function(e){h()(i,e);var t=g()(i);function i(){return o()(this,i),t.apply(this,arguments)}c()(i,[{key:"_initCanvasInstance",value:function(){return w.w4.initialize(T),new n.g.Canvas(this.id)}},{key:"getContext",value:function(e,t){return(0,m.zG)(b.I,I.o)(u()(p()(i.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=new n.g.Image,t=(0,m.K1)(e,w.nE[this._canvasId]);return new b.e(t)}},{key:"createImageData",value:function(e,t,i){return e?(t=parseFloat(t),i=parseFloat(i),new n.g.ImageData(e,t,i)):null}},{key:"createPath2D",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?new Path2D:1===t.length?a()(Path2D,t):null}},{key:"requestAnimationFrame",value:function(e){return(0,E.t)().requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return(0,E.t)().cancelAnimationFrame(e)}}])}(w.gK)},4708:(e,t,n)=>{"use strict";n.d(t,{e:()=>j,I:()=>Z});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(4742),c=n.n(s),l=n(7541),u=n.n(l),d=n(1503),p=n.n(d),f=n(6326),h=n(8392),v=n(9947),g=n(6788),y=n(4531),m=n(3638),_=n(8947),w=n(2363),b=w.gm||w.qB||w.Mq||w.Ae,I={},E={},T={},k=new f.y,A={},C=new WeakMap,S={},x={},P=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster"],D={},R={},O=_.Z.useXWebVideo,N=!0,M=Object.keys;function L(e){A[e]||(A[e]=!0,(0,y.dq)(e,(function(e){delete A[e],M(I).concat(M(E)).forEach((function(t){new RegExp("^"+e).test(t)&&delete I[t]})),M(S).forEach((function(t){(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete S[t]})),w.Ae&&(0,h.IN)("setKeepScreenOn",{keepScreenOn:!1},{})})))}(0,h.Ld)("updateVideoPictureInPicture",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;T.webviewId=t,T.playerId=e.playerId})),(0,h.Ld)("videoAdPlay",(function(e,t){var n=e.videoPlayerId,i=e.type,a="".concat(t,"_").concat(n);x[a]=i})),(0,h.Ld)("videoPlayerInsert",(function(e,t){var n=e.domId,i=e.videoPlayerId,a=e.pluginId,r=e.nodeId,o=e.nodeInfo,s=e.data,c="".concat(t,"_").concat(a,"_").concat(n,"_");r&&r!==__virtualDOM__.getRootNodeId(t)&&(c+=r),I[c]=i,function(e,t,n){if(!w.gm)return;var i=document.createElement("video");e.elem=i,E["".concat(n,"_").concat(t)]=e,i.controls=!1,i.preload="auto",i.muted=!0,i.autoplay=e.autoplay,i.style.width=e.width+"px",i.style.height=e.height+"px"}(o,i,t),k.emit("videoPlayerInsert"),L(t),R["".concat(t,"_").concat(i)]=s||{}})),(0,h.Ld)("xWebVideoInserted",(function(e,t){var n=e.domId,i=e.viewId,a=e.pluginId,r=e.nodeId,o=e.data,s="".concat(t,"_").concat(a,"_").concat(n,"_");r&&r!==__virtualDOM__.getRootNodeId(t)&&(s+=r),I[s]=i,R["".concat(t,"_").concat(i)]=o||{},k.emit("videoPlayerInsert"),L(t)})),(0,h.Ld)("videoPlayerUpdated",(function(e,t){var n=e.action,i=e.value;B({_videoId:e.videoPlayerId,_webviewId:t},n,i)})),(0,h.Ld)("videoPlayerRemoved",(function(e,t){var n=e.domId,i=e.videoPlayerId,a=e.pluginId,r=e.nodeId,o="".concat(t,"_").concat(a,"_").concat(n,"_");r&&r!==__virtualDOM__.getRootNodeId(t)&&(o+=r),delete I[o],function(e,t){delete E["".concat(t,"_").concat(e)]}(i,t);var s="api_".concat(t,"_").concat(a,"_").concat(n,"_");r&&r!==__virtualDOM__.getRootNodeId(t)&&(s+=r);var c="SQ_".concat(t,"_").concat(i);delete S[s],delete S[c],delete R["".concat(t,"_").concat(i)]})),(0,h.Ld)("xWebVideoRemoved",(function(e,t){var n=e.domId,i=e.pluginId,a=e.nodeId,r="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==__virtualDOM__.getRootNodeId(t)&&(r+=a);var o=I[r];delete I[r],delete R["".concat(t,"_").concat(o)]})),(0,h.Ld)("xWebVideoSupported",(function(e){var t=e.isXWebSupported;O=O&&t})),(0,h.Ld)("insertVideoToWebLayerStateChanged",(function(e,t){var n=e.viewId,i=e.inserted;D["".concat(t,"_").concat(n)]=i})),_.Z.onReady((function(){_.Z.global&&_.Z.global.window&&"seperated"===_.Z.global.window.renderingMode&&(N=!1,O=!1)}));var W=function e(){a()(this,e)},F=function(){function e(t,n){var i=this;a()(this,e);var r=this.exportContext=new W;P.forEach((function(e){r[e]=i[e].bind(i)})),r._videoId=t,r._webviewId=n}return o()(e,[{key:"play",value:function(){var e=this._getAppStatus();e===g.w$.BACK_GROUND||e===g.w$.LOCK||this._invokeMethod("play")}},{key:"pause",value:function(){this._invokeMethod("pause")}},{key:"stop",value:function(){this._invokeMethod("stop")}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"accurate";if("accurate"!==t&&"inaccurate"!==t)throw new v.iZ("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}},{key:"sendDanmu",value:function(e){var t=e.text,n=e.color;this._invokeMethod("sendDanmu",[t,n])}},{key:"playbackRate",value:function(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction;[0,90,-90].indexOf(t)>-1?this._invokeMethod("requestFullScreen",[t]):this._invokeMethod("requestFullScreen"),C.set(this,!0)}},{key:"exitFullScreen",value:function(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),C.set(this,!1)}},{key:"showStatusBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.IN)("showStatusBar",e)}},{key:"hideStatusBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w.wZ){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!C.get(this)){var n="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:n}),void("function"==typeof e.complete&&e.complete({errMsg:n}))}(0,h.IN)("hideStatusBar",e)}},{key:"exitPictureInPicture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(T){var t=T.playerId;w.cj?(0,h.IN)("operateVideoPlayer",p()(p()({},e),{},{videoPlayerId:t,type:"exitPictureInPicture"}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):w.wZ&&(0,h.IN)("operateXWebVideo",p()(p()({},e),{},{viewId:t,type:"exitPictureInPicture"}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}},{key:"requestBackgroundPlayback",value:function(){this._invokeMethod("requestBackgroundPlayback",[])}},{key:"exitBackgroundPlayback",value:function(){this._invokeMethod("exitBackgroundPlayback",[])}},{key:"hidePoster",value:function(){this._invokeMethod("hidePoster")}},{key:"_invokeMethodWithId",value:function(e,t,n){var i=this;"number"==typeof e?function(){if("begin"!==x["".concat(this.webviewId,"_").concat(e)])if(N&&(w.wZ&&O||w.cj&&D["".concat(this.webviewId,"_").concat(e)])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play"].indexOf(t)>-1)(0,h.nY)("video_".concat(this.webviewId,"_").concat(e,"_actionChanged"),{method:t,data:n},[this.webviewId]);else{var i=this._getAppStatus();if(!b&&i===g.w$.BACK_GROUND&&"stop"===t){var a="operateVideoPlayerBackground";return w.wZ&&O&&(a="operateXWebVideoBackground"),void(0,h.IN)(a,{viewId:e,videoPlayerId:e,type:t})}b?(this._sendAction(e,{method:t,data:n}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&B(this.exportContext,t,n&&n[0])):w.wZ&&O?(0,h.IN)("operateXWebVideo",{viewId:e,type:t,data:n}):(0,h.IN)("operateVideoPlayer",{data:n,videoPlayerId:e,type:t})}else console.error("".concat(t,":fail cannot operate video while ad playing."))}.apply(this):k.once("videoPlayerInsert",(function(){i._invokeMethod(t,n)}))}},{key:"_sendActionWithEvnetName",value:function(e,t){(0,h.nY)(e,t,[this.webviewId])}},{key:"_getAppStatus",value:function(){return m.Z.appStatus}},{key:"_getHanged",value:function(){return m.Z.hanged}}]),e}();(function(e){c()(n,e);var t=u()(n);function n(e,i,r,o){var s;if(a()(this,n),s=t.call(this),"string"!=typeof e)throw new v.iZ("Parameter 1 should be a string");return s.domId=e,s.webviewId=i,s.pluginId=o,s.nodeId=r,s}o()(n,[{key:"_invokeMethod",value:function(e,t){var n="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId),i=I[n];this._invokeMethodWithId(i,e,t)}},{key:"_sendAction",value:function(e,t){this._sendActionWithEvnetName("video_".concat(this.webviewId,"_").concat(e,"_actionChanged"),t)}}])})(F),function(e){c()(n,e);var t=u()(n);function n(e,i){var r;return a()(this,n),(r=t.call(this,e,i)).videoPlayerId=e,r.webviewId=i,r}o()(n,[{key:"_invokeMethod",value:function(e,t){var n=this.videoPlayerId;this._invokeMethodWithId(n,e,t)}},{key:"_sendAction",value:function(e,t){this._sendActionWithEvnetName("video_".concat(this.webviewId,"_").concat(e,"_actionChanged"),t)}}])}(F);function B(e,t,n){if(w.gm&&void 0!==e._webviewId){var i=E["".concat(e._webviewId,"_").concat(e._videoId)].elem;switch(t){case"setSrc":i.src=n;break;case"play":i.play();break;case"pause":case"stop":i.pause();break;case"seek":0===i.readyState||1===i.readyState?i.oncanplay=function(){i.currentTime=n,i.oncanplay=null}:i.currentTime=n;break;case"playbackRate":i.playbackRate=n}}}var j=function(){function e(t){a()(this,e),Object.defineProperty(this,"_ptr",{value:t,writable:!1,configurable:!1,enumerable:!1})}return o()(e,[{key:"src",get:function(){return this._ptr.src},set:function(e){var t=this;/^(http|https):\/\//.test(e)&&(e=encodeURI(e));var n=function(e){return function(){setTimeout((function(){e()}),0)}};this._ptr.onload=n((function(){"function"==typeof t.__onload&&t.__onload.apply(t)})),this._ptr.onerror=n((function(){"function"==typeof t.__onerror&&t.__onerror.apply(t)})),this._ptr.src=e}},{key:"referrerPolicy",get:function(){return this._ptr.referrerPolicy},set:function(e){"string"==typeof e&&(this._ptr.referrerPolicy=e)}},{key:"onload",get:function(){return this._ptr.onload},set:function(e){Object.defineProperty(this,"__onload",{value:e,writable:!1,configurable:!1,enumerable:!1})}},{key:"onerror",get:function(){return this.__onload},set:function(e){Object.defineProperty(this,"__onerror",{value:e,writable:!1,configurable:!1,enumerable:!1})}},{key:"complete",get:function(){return this._ptr.complete}},{key:"width",get:function(){return this._ptr.width}},{key:"height",get:function(){return this._ptr.height}}]),e}(),U=new WeakMap,G=n.g.SkiaCanvasExternalTexture;function V(e,t){return w.gm?E["".concat((n=e)._webviewId,"_").concat(n._videoId)].elem:new G(t,e._videoId,"video");var n}function Z(e,t){if(!e)return e;var n=e.drawImage.bind(e),i=e.createPattern.bind(e);return e.drawImage=function(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];if(e instanceof j)return n.apply(void 0,[e._ptr].concat(a));if(e instanceof W){var o=e,s=o._videoId;if("number"!=typeof s)throw new Error("Failed to execute 'drawImage' on 'CanvasRenderingContext2D': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.");var c=U.get(o)||{};c[t]?e=c[t]:(e=V(o,t),c[t]=e,U.set(o,c))}return n.apply(void 0,[e].concat(a))},e.createPattern=function(e,t){return i(e instanceof j?e._ptr:e,t)},e}delete n.g.SkiaCanvasExternalTexture},2780:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(8676),a=n.n(i);function r(e){if(!e)return e;var t=e.fill.bind(e),n=e.putImageData.bind(e);return e.fill=function(e){return e?t(e,e):t()},e.putImageData=function(e){if(0===e||"object"!==a()(e))return null;for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return n.apply(void 0,[e].concat(i))},e}},3786:(e,t,n)=>{"use strict";n.d(t,{yk:()=>l,kR:()=>u,rL:()=>h,K1:()=>v,VN:()=>g,zG:()=>y,ci:()=>_});var i=n(8392),a=n(9947),r=n(3638),o=n(8947),s=n(2363),c=n(968);void 0!==globalThis.ImageData&&globalThis.ImageData;function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a="canvas_".concat(e,"_").concat(t,"_").concat(n,"_");return i&&i!==__virtualDOM__.getRootNodeId(e)&&(a+=i),a}function u(e){var t=[],n=1;return(0,i.Ld)(e,(function(e){for(var n=-1,i=0;i<t.length;i++){var a=t[i],r=a[0],o=a[1];if(r.cid===e.cid&&r.canvasId===e.canvasId){n=i,o(e);break}}n>=0&&t.splice(n,1)})),function(e,i){e.cid=n++,t.push([e,i])}}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;"undefined"!=typeof window&&window.atob;function f(e,t,n,i){if(/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e)return e;if(!/wxfile:\/\//.test(e))if(n||t){n=n.split("/")[0];var o=__virtualDOM__.getNodeById(t,i),s=o&&o.is||"";e=n?0===e.indexOf("/")?__virtualDOM__.getPluginRoutePrefix(n)+(0,a.sd)(s,e,!1).replace(/\.html$/,""):(0,a.sd)(__virtualDOM__.convertComponentAliasToRoute(s),e,!1).replace(/\.html$/,""):(0,a.sd)(s,e,!1).replace(/\.html$/,"")}else e=(0,a.sd)(r.Z.lastRoute,e,!1).replace(/.html$/,"");return e}function h(e,t,n,i){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+f(e,t,n,i)}function v(e,t){var n=e.setSrc.bind(e),i=e.getSrc.bind(e),a=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):function(){},r=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):function(){};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set:function(e){var i=f(e,t.nodeId,t.pluginId,t.webviewId);n(i)},get:function(){return i()}}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set:function(e){r(e)},get:function(){return a()}}),e}function g(e){return e&&e.length>0&&e.forEach((function(e){e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var r=0;r<t.length;++r){var o=t[r];"function"==typeof o&&(e=0===r?o.apply(null,i):o.call(null,e))}return e}}var m=!1;function _(){if(s.cj&&(0,c.er)()){var e=255&Number(o.Z.host.version);if(e>=16&&e<=31)return!0}return o.Z.clientVersion>=385881088&&o.Z.clientVersion<=385881343&&m}o.Z.onReady((function(){(0,i.IN)("getPermissionBytes",{indexes:[977],success:function(e){e.permissionBytes&&1===e.permissionBytes[0]&&(m=!0)}})}))},4416:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var i,a,r=n(2984),o=(i="getCloudFileUrl",a="qbase_commapi",(0,r.Z)(i,a,{},{},(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:"".concat(+new Date,"_").concat(Math.random())}}),(function(e){return e})));var s=function(e,t,n){l({fileIds:e,type:t,success:n})},c=new Map,l=function(e){var t=e.fileIds,n=e.type,i=e.success,a=new Map,r=[],s=!1;if(t.forEach((function(e){var t=c.get(e);if(t){if(Date.now()<t.expireTime)return void(a.has(e)||(a.set(e,t.data),s||(s=!0)));c.delete(e)}/^(cloud):\/\//.test(e)&&r.push(e)})),0!==r.length){var l=0,d=function(e,t){for(var n=[],i=Math.ceil(e.length/t),a=0;a<i;a++)n.push(e.slice(a*t,(a+1)*t));return n}(t,50);Promise.all(d.map((function(e){return new Promise((function(t){o({data:{fileid_list:e,type:n},requestInQueue:!1,success:function(n){var i=JSON.parse(n.rawData);if(i.baseresponse&&0===i.baseresponse.errcode?i.download_list.forEach((function(e){a.set(e.fileid,e),!c.has(e.fileid)&&e.max_age&&c.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):i.baseresponse?e.forEach((function(e){a.set(e,{download_url:e,service_errcode:i.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+i.baseresponse.errcode}),c.has(e)&&c.delete(e)})):e.forEach((function(e){a.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),c.has(e)&&c.delete(e)})),i.baseresponse&&i.baseresponse.stat&&i.baseresponse.stat.qbase_cost_time){var r=i.baseresponse.stat.qbase_cost_time;r>l&&(l=r)}t()},fail:function(){t()},complete:function(e){}})}))}))).then((function(){u(t,a,l,i)})).catch((function(e){"function"==typeof i&&i({data:t.map((function(t){return{url:t,service_errcode:-1,errmsg:e+""}}))})}))}else s?u(t,a,0,i):"function"==typeof i&&i({data:t.map((function(e){return{url:e}}))})};function u(e,t,n,i){var a=[];e.forEach((function(e){if(/^(cloud):\/\//.test(e)){var n=t.get(e);n?0===n.service_errcode?a.push({url:n.download_url}):a.push({url:e,code:n.service_errcode,msg:n.errmsg}):a.push({url:e,code:-1,msg:"NO_RESULT"})}else a.push({url:e})})),"function"==typeof i&&i({data:a,cost:n})}},9567:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var i="undefined"==typeof __libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version},7587:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var i=n(8392),a=__wxConfig.platform,r=[],o=function(e){var t=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),r=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=("00"+e.getMilliseconds()).slice(-3),c="".concat(e.getFullYear(),"-").concat(t,"-").concat(n),l="".concat(i,":").concat(r,":").concat(o,".").concat(s);if("ios"===a){var u=(e.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-");return"".concat(c," ").concat(l,"000").concat(u)}var d=(e.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1");return"".concat(c," ").concat(d," ").concat(l)},s=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.map((function(e){switch(e){case null:return"null";case void 0:return"undefined";default:return e.toString()}})).join(" ");r.push({date:new Date,type:e,content:a})}};__wxConfig.onReady((function(){setTimeout((function e(){var t;(setTimeout(e,2e3),0!==r.length)&&(t=r.slice(),"ios"===a&&"function"==typeof systemLog?systemLog({dataArray:t.map((function(e){return"\n".concat(o(e.date)," [").concat(e.type[0].toUpperCase(),"][weapplib] ").concat(e.content)}))}):"ios"===a||"windows"===a?(0,i.IN)("systemLog",{dataArray:t.map((function(e){return{message:"\n".concat(o(e.date)," [").concat(e.type[0].toUpperCase(),"][weapplib] ").concat(e.content)}}))}):"android"===a&&(0,i.IN)("systemLog",{message:["\n"].concat(t.map((function(e){return"[".concat(e.type[0].toUpperCase(),"][").concat(o(e.date),"][weapplib] ").concat(e.content)}))).join("\n")}),r=[])}),2e3)}));var c={log:s("log"),debug:s("debug"),info:s("info"),warn:s("warn"),error:s("error")}},266:(e,t,n)=>{"use strict";n.d(t,{_V:()=>l,PQ:()=>u,PL:()=>d});var i=n(8392),a=n(9307),r=n(8947),o=n(3638),s="",c=(0,a.s)("networkstatusChange"),l=function(e){(0,i.IN)("getNetworkType",e)},u=c.onMethod,d=(c.offMethod,function(){return s});(0,i.jQ)("onNetworkStatusChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=e.networkType,o.Z.currentNetworkType=s,c.emit(e),(0,i.nY)("onNetworkStatusChange",e)})),r.Z.onReady((function(){l({success:function(e){s=e.networkType,o.Z.currentNetworkType=s}})}))},6301:(e,t,n)=>{"use strict";n.d(t,{xI:()=>p,Oo:()=>m,Ew:()=>_});var i=n(8392),a=n(7264),r=n(9567),o=n(8947),s=n(2363),c=n(968),l=(n(5322),null),u=function(e){var t=s.iw;s.cj&&(e.brand="iPhone"),s.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=r.c,e.enableDebug=Boolean(o.Z.debug),o.Z.devicePixelRatio&&(e.devicePixelRatio=o.Z.devicePixelRatio),o.Z.theme&&(e.theme=o.Z.theme),o.Z.host&&(e.host=o.Z.host),s.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),delete(l=Object.assign({},e)).errMsg,(0,c.Av)()&&4!==o.Z.appType&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),s.jP&&(e.renderer="h5")},d=function(){o.Z.isReady||(new Error).stack},p=function(){var e,t={};return e={success:function(e){delete e.errMsg,t=e,l=Object.assign({},t)}},d(),(0,i.IN)("getSystemInfo",e,{beforeSuccess:u}),t},f=function(){return l||p()},h=null,v=0,g=0,y=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];o.Z.onReady((function(){h={};for(var e=0;e<y.length;e++){if(!(y[e]in o.Z)){"[SystemInfo] stableSystemInfo not support (missing ".concat(y[e],"), falllback to JSAPI."),h=f();break}h[y[e]]=o.Z[y[e]]}if(o.Z.screenHeight&&o.Z.screenWidth)v=o.Z.screenWidth,g=o.Z.screenHeight;else{var t=f();v=t.screenWidth,g=t.screenHeight}}));var m=function(){return o.Z.isReady?Object.assign({},h):((new Error).stack,{})},_=function(){return o.Z.isReady?{screenWidth:v,screenHeight:g,deviceOrientation:v>g?"landscape":"portrait"}:((new Error).stack,{})},w=new Set;(0,a.n)("onAppRouteDone",(function(){!0,w.forEach((function(e){return e()})),w.clear()}));new Set},5322:(e,t,n)=>{"use strict";var i=n(8392),a=(n(9267),n(3638),[]);(0,i.Ld)("callbackWebviewMethod",(function(e){var t=e.res,n=e.callbackId,i=a[n];delete a[n],i&&i(t)}))},7136:(e,t,n)=>{"use strict";n.d(t,{X4:()=>s});n(1503);var i=n(9307),a=(n(2903),n(8392)),r=(n(3638),n(8947));n(266);r.Z.onReady((function(){r.Z.appType,r.Z.appLaunchInfo}));n(1754);var o=new Map;(0,a.Ld)("loadedFontFace",(function(e){var t=e.callbackId,n=e.errMsg,i=void 0===n?"":n;if(o.has(t)){var a=o.get(t);o.delete(t);var r=a.success,s=a.fail,c=a.complete,l=0===i.indexOf("loadFontFace:ok"),u={status:l?"loaded":"error",errMsg:i};l?"function"==typeof r&&r(u):"function"==typeof s&&s(u),"function"==typeof c&&c(u)}}));var s=[];(0,i.s)("skiaCanvasLoadFontFace")},1754:(e,t,n)=>{"use strict";n.d(t,{o:()=>O});var i=n(8392),a=n(6965),r=n(2363),o=n(8947),s=n(9954),c=n(8976),l=n(7163),u=n.n(l),d=n(4742),p=n.n(d),f=n(7541),h=n.n(f),v=n(1101);(0,v.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.Z.onReady((function(){try{"number"==typeof o.Z.wxAppInfo.maxDownloadConcurrent&&(0,v.b)("Download",{maxTaskCount:o.Z.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));const g=function(e){p()(n,e);var t=h()(n);function n(e){return u()(this,n),t.call(this,e,{taskType:"Download",beforeSend:function(t){return t.filePath=e.filePath,t},beforeSuccess:function(e){return delete e.timeInterval,e}})}return n}(v.o);var y=n(5843),m=n.n(y),_=n(6326),w=n(968),b=a.Z.Download,I=new WeakMap,E=new WeakMap,T=new WeakMap,k=[],A=0,C=10;function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(e&&(I.delete(e),E.delete(e),T.delete(e),A--);k.length>0&&A<C;){var t=k.shift(),n=I.get(t),i=E.get(t);n&&i&&(n.start(i),A++)}}o.Z.onReady((function(){o.Z.wxAppInfo&&o.Z.wxAppInfo.maxDownloadConcurrent&&(C=o.Z.wxAppInfo.maxDownloadConcurrent)}));var x=function(){function e(t){var n=this;u()(this,e);var a,r,o,s=new b,c=new _.Z;I.set(this,s),T.set(this,c),E.set(this,(0,w.v7)(t,["url","header","filePath","enableProfile"])),s.onfail=function(e){(0,i.YG)("downloadFile",t,e),S(!0)},s.onsuccess=function(e){(0,i.FE)({name:"downloadFile",args:t,res:e}),S(!0)},s.onheader=function(e){return c.emit("header",{header:e})},s.onprogress=function(e,t,n){return c.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:n})},(a={api:"downloadFile",url:t.url},r=a.api,o=a.url,(0,w.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise((function(e,t){(0,i.IN)("checkNetworkAPIURL",{api:r,url:o,success:e,fail:t})}))).then((function(e){t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost?(k.push(n),S()):(0,i.YG)("downloadFile",t,"invalid url")})).catch((function(){(0,i.YG)("downloadFile",t,"url validate error")}))}return m()(e,[{key:"abort",value:function(){var e=I.get(this);e&&e.abort()}},{key:"onHeadersReceived",value:function(e){var t=T.get(this);t&&t.on("header",e)}},{key:"onProgressUpdate",value:function(e){var t=T.get(this);t&&t.on("progress",e)}},{key:"offHeadersReceived",value:function(e){var t=T.get(this);t&&t.off("header",e)}},{key:"offProgressUpdate",value:function(e){var t=T.get(this);t&&t.off("progress",e)}}]),e}(),P=!1;function D(e){return P?new x(e):new g(e)}a.Z.Download&&o.Z.onReady((function(){var e=!1,t=r.cj?"clicfg_appbrand_ios_native_download":"clicfg_appbrand_native_download";(0,s.b)({experimentId:t,experimentType:"Expt",success:function(t){t&&1===Number(t.testConfig)&&(e=!0)},fail:function(e){}});var n=(0,c.J)("bindingDownload");"".concat((P=e||n)?"binding":"jsapi"," download, abtest: ").concat(e,", permission: ").concat(n)}));n(8325);var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{var n=new D(t);return n}catch(e){return void(0,i.YG)("downloadFile",t,e.message)}}}},O=(R(),R({__skipDomainCheck__:!0}))},1101:(e,t,n)=>{"use strict";n.d(t,{o:()=>Y,b:()=>te});var i=n(2208),a=n.n(i),r=n(8676),o=n.n(r),s=n(9727),c=n.n(s),l=n(7163),u=n.n(l),d=n(5843),p=n.n(d),f=n(3477),h=n(266),v=n(8392),g=n(968),y=n(4159),m=0,_=[],w=function(){var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:_,appType:Reporter.getAppType()},null,2);(0,v.IN)("reportRealtimeAction",{actionData:e}),_=[]},b=function(e){var t="";return Object.keys(e).forEach((function(n,i){try{var a="".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n]));0!==i&&(t+="&"),t+=a}catch(e){}})),t},I=n(4657),E=n(9267),T=n(8325),k=(n(4377),T.ZP.app),A=(k.saveFile,k.saveFileSync,k.getSavedFileList,k.getSavedFileInfo,k.removeSavedFile,k.getFileInfo,k.readFile,k.readFileSync,k.writeFile,k.writeFileSync,k.mkdir,k.mkdirSync,k.rmdir,k.rmdirSync,k.readdir,k.readdirSync,k.access,k.accessSync,k.unlink,k.unlinkSync,k.stat),C=(k.statSync,k.unzip,k.copyFile,k.copyFileSync,k.rename,k.renameSync,k.appendFile,k.appendFileSync,n(1445)),S=n(2363),x=n(3464),P=n(8947),D=(0,g.Fr)(A),R=0,O=new WeakMap,N=new WeakMap,M=new WeakMap,L=new WeakMap,W=new WeakMap,F=new WeakMap,B=new WeakMap,j=new WeakMap,U=new WeakMap,G=new WeakMap,V={},Z=new I.Q("Network",!0),H=wxNativeConsole.createLogger("NetworkTask"),Y=function(){function e(t,n){var i=this,a=n.taskType,r=n.beforeSend,o=n.beforeSuccess,s=n.beforeFail;u()(this,e);var c=R++;O.set(this,c),M.set(this,"waiting"),L.set(this,t),W.set(this,a),B.set(this,r),j.set(this,o),(0,E.mf)(s)&&U.set(this,s);var l=!1;S.jP&&(l=!0),S.wZ&&P.Z.clientVersion>=654315008&&("Download"!==a&&"Request"!==a||Object.keys(P.Z.gamePlugins||P.Z.plugins||{}).forEach((function(e){var t=(P.Z.gamePlugins||P.Z.plugins)[e];!t||"wx20afc706a711eefc"!==t.provider&&"wx4d5893418b75cb20"!==t.provider||(l=!0)}))),G.set(this,l),this.promise=new x.Q((function(e,t){i.resolve=e,i.reject=t}));var d=function(){Q.call(i)?V[a].taskQueue.push({id:c,item:i}):q.call(i)};(0,E.mf)(t.customCheck)?t.customCheck(t,(function(e){e?z(a,t,e):d()})):d()}return p()(e,[{key:"abort",value:function(){var e=this;if(H.info("[".concat(W.get(this),"][").concat(O.get(this),"]abort()")),"waiting"===M.get(this)){H.info("[".concat(W.get(this),"][").concat(O.get(this),"] waiting=true"));var t=V[W.get(this)].taskQueue.findIndex((function(t){return t.id===O.get(e)}));t>-1&&(V[W.get(this)].taskQueue.splice(t,1),(0,f.YG)(V[W.get(this)].functionName,L.get(this),"abort")),M.set(this,"done")}else this.promise.then((function(){var t;(0,f.IN)("operate".concat(W.get(e),"Task"),(t={},c()(t,"".concat(W.get(e).toLowerCase(),"TaskId"),N.get(e)),c()(t,"operationType","abort"),t))}))}},{key:"onProgressUpdate",value:function(e){var t=this;this.promise.then((function(){Z.on("".concat(W.get(t)).concat(N.get(t),"progressUpdate"),e)}))}},{key:"offProgressUpdate",value:function(e){var t=this;this.promise.then((function(){Z.off("".concat(W.get(t)).concat(N.get(t),"progressUpdate"),e)}))}},{key:"onHeadersReceived",value:function(e){var t=this;this.promise.then((function(){Z.on("".concat(W.get(t)).concat(N.get(t),"headersReceived"),e)}))}},{key:"offHeadersReceived",value:function(e){var t=this;this.promise.then((function(){Z.off("".concat(W.get(t)).concat(N.get(t),"headersReceived"),e)}))}}]),e}();function z(e,t,n){(0,f.FE)({name:V[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:n})}function q(){var e=this,t=L.get(this),n=W.get(this),i=G.get(this);M.set(this,"sending"),F.set(this,Date.now());var a=K.call(this);i?this.promise.then((function(){X.call(e)})).catch((function(e){z(n,t,e)})):a?z(n,t,a):X.call(this)}function K(){var e,t=this,n=W.get(this),i=L.get(this);V[n].currentTaskCount++;var a={data:i.data,url:i.url,header:i.header,method:i.method,timeout:(0,E.hj)(i.timeout)?i.timeout:0,enableHttp2:!!(0,E.jn)(i.enableHttp2)&&i.enableHttp2,enableQuic:!!(0,E.jn)(i.enableQuic)&&i.enableQuic,enableCache:!!(0,E.jn)(i.enableCache)&&i.enableCache,enableProfile:!(0,E.jn)(i.enableProfile)||i.enableProfile,ip:i.ip,port:i.port,forbidReuse:!!(0,E.jn)(i.forbidReuse)&&i.forbidReuse,host:i.host,__skipDomainCheck__:i.__skipDomainCheck__,success:function(e){var i=e["".concat(n.toLowerCase(),"TaskId")];N.set(t,i),V[n].taskIdMap[i]=t,t.resolve()},fail:function(a){V[n].currentTaskCount--;var r=a["".concat(n.toLowerCase(),"TaskId")];e=a.errMsg,J.call(t,{taskType:n,options:i,errMsg:e,success:!1}),t.reject(e),H.error("[".concat(n,"][createTask][Fail] taskId=").concat(r))},complete:function(){M.set(t,"done")}},r=G.get(this),o="create".concat(n,"Task").concat(r?"Async":"");return(0,f.IN)(o,B.get(this)(a)),e}function X(){var e=this,t=N.get(this),n=L.get(this),i=W.get(this),a=V[i].functionName;Z.on("".concat(i).concat(t,"success"),(function(t){j.get(e).call(e,t),(0,f.FE)({name:a,args:{success:n.success,fail:n.fail,complete:n.complete},res:t})})),Z.on("".concat(i).concat(t,"fail"),(function(t){var i=U.get(e);i&&i.call(e,t),(0,f.FE)({name:a,args:{success:n.success,fail:n.fail,complete:n.complete},success:!1,errMsg:t.errMsg})}))}function J(e){var t=e.taskType,n=e.options,i=e.errMsg,a=e.success,r=void 0===a||a,o=e.dataLength,s=void 0===o?0:o,c=e.statusCode,l=void 0===c?"":c,u=e.responseDataLength,d=void 0===u?0:u,p=e.profile,f=void 0===p?{}:p,v=n.url,I=r?1:2,E=Date.now()-F.get(this),T=n.__skipDomainCheck__;E>=6e4&&H.error("reportTask costTime too long: ".concat(E,"ms, taskId=").concat(N.get(this))),function(e,t,n,i,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},u="",d="";if((0,g.aI)()&&(d=b(y.Z.query)),"undefined"!=typeof __appServiceEngine__){var p=__appServiceEngine__.getCurrentPages();if(p&&p.length>0){var f=p[p.length-1];f&&(u=f.route,d=f.__displayReporter&&f.__displayReporter.showOptions&&f.__displayReporter.showOptions.query)}}var v=[e,t,n,i,a,Reporter.getAppType(),r,s,(0,h.PL)(),u,d,c,b(l)].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:v}),Reporter.reportIDKey({key:"".concat(e,"_").concat(1===n?"ok":"fail")}),_.push([e,t,n,r||"",i,a,(0,h.PL)(),o?"1":"0",Reporter.getAppType(),s].map((function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t})).join(",")),Date.now()-m>=6e4&&(m=Date.now(),setTimeout(w,6e4))}(V[t].functionName,v,I,E,i,l,T,s,d,f)}function $(e,t){var n="".concat(t.toLowerCase(),"TaskId"),i=e[n],r=e.state,s=e.header;if(delete e.state,delete e[n],e.cookies=s?(0,C.$)(s["Set-Cookie"]||s["set-cookie"]):[],Z.emit("".concat(t).concat(i).concat(r),e),"success"===r||"fail"===r){var c=V[t].taskIdMap[i],l=L.get(c);if(!c)return;V[t].currentTaskCount-=1,V[t].taskQueue.length>0&&q.call(V[t].taskQueue.shift().item);var u=Promise.resolve((0,g.Y6)(l.data));if("Upload"===t){var d=0;"object"===o()(l.formData)&&null!==l.formData&&(d=JSON.stringify(l.formData).length),u=D({path:l.filePath}).then((function(e){return d+e.stats.size})).catch((function(){return d}))}var p=Promise.resolve((0,g.Y6)(e.data));if("Download"===t){var f=e.dataLength;p="number"==typeof f?Promise.resolve(f):D({path:e.filePath||e.tempFilePath||""}).then((function(e){return e.stats.size})).catch((function(){return 0}))}Promise.all([u,p]).then((function(n){var i=a()(n,2),o=i[0],s=i[1];J.call(c,{taskType:t,options:l,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===r,dataLength:o,responseDataLength:s,profile:e.profile})})),ee.call(c)}}function Q(){var e=W.get(this);return V[e].currentTaskCount>=V[e].maxTaskCount}function ee(){var e=W.get(this),t=N.get(this);delete V[e].taskIdMap[t],Z.removeAllListeners("".concat(e).concat(t,"success")),Z.removeAllListeners("".concat(e).concat(t,"fail")),Z.removeAllListeners("".concat(e).concat(t,"complete"))}function te(e,t){var n=this,i=V[e]?V[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};(0,f.jQ)("on".concat(e,"TaskStateChange"),(function(t){$.call(n,t,e)})),V[e]=Object.assign(i,t)}},1445:(e,t,n)=>{"use strict";function i(e){return e?Array.isArray(e)?e:e.split(",").reduce((function(e,t){return/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e}),[]).map((function(e){return e.trim()})):[]}function a(e){var t={protocol:/^(.+)\:\/\//,host:/\:\/\/(.+?)[\?\#\s\/]/,path:/\w(\/.*?)[\?\#\s]/,query:/\?(.+?)[\#\/\s]/,hash:/\#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((function(n){var i=t[n];t[n]="query"===n?i.exec(e)&&i.exec(e)[1].split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}):i.exec(e)&&i.exec(e)[1]})),t}n.d(t,{$:()=>i,e:()=>a})},5770:(e,t,n)=>{"use strict";n.d(t,{JM:()=>o,Ce:()=>r});var i=n(8392),a=n(2363),r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.r3)("operateWXData",o,{apiName:""})){if("operateWXData"===t);var s={api_name:o.apiName,data:o.reqData||{},operate_directly:e};n&&(s.plugin_appid=o.pluginId);var c={data:s,isImportant:!0===r,requestInQueue:!o.hasOwnProperty("requestInQueue")||Boolean(o.requestInQueue)};(0,i.gM)(Object.assign({},c,o),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){a.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),e.respData=e.data,delete e.data}})}}},o=(r(!0),r(!1));r(!0,void 0,!0)},3618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9947),a={};const r={lastShareTicket:null,get:function(e){return a[e]},set:function(e,t){var n=(0,i.M8)();return a[n]={shareKey:e,shareName:t},n}}},6051:(e,t,n)=>{"use strict";n.d(t,{_o:()=>o,Ft:()=>s,LN:()=>c,Ks:()=>l});var i,a=n(8947),r=n(2363),o=(i=!1,(r.cj||r.wZ&&a.Z.clientVersion>=637865520)&&(i=!0),function(){return i}),s=function(){var e=!1;return r.cj&&a.Z.clientVersion>=385877248&&(e=!0),function(){return e}}(),c=function(){var e=!1;return r.cj&&a.Z.clientVersion>=385878314&&(e=!0),function(){return e}}(),l=function(){var e=!1;return r.cj&&a.Z.clientVersion>=402655232&&a.Z.clientVersion<=402655487&&(e=!0),function(){return e}}()},809:(e,t,n)=>{"use strict";n.d(t,{iy:()=>me,Hk:()=>Oe});var i,a=n(1503),r=n.n(a),o=n(3356),s=n.n(o),c=n(7015),l=n.n(c),u=n(3477),d=n(9947),p=(n(9727),n(8392)),f=n(3180),h=n(6051),v=n(8676),g=n.n(v),y=n(3638),m=n(8947),_=n(8976);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:y.Z.query)||{},e.path=t?(0,d.Z8)(e.path):(0,d.Z8)(y.Z.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?y.Z.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:y.Z.lastShareInfo=void 0),f.Z.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(f.Z.appId=e.referrerInfo.appId),"object"===g()(e.shareInfo)&&null!==e.shareInfo){var n=e.shareInfo;n.shareKey&&n.shareName&&((0,p.IN)("showUpdatableMessageSubscribeButton",{shareKey:n.shareKey}),e.shareTicket=f.Z.ShareInfoStorage.set(n.shareKey,n.shareName),f.Z.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;0===(e=Object.assign({},e)).scene?e.scene=i:i=e.scene;var n=e.scene;1103===n?n=1001:1104===n?n=1089:1131===n||1158!==n&&1159!==n&&1160!==n||!(0,_.J)("getGroupToolbarInfo")&&(n=1008),[1106,1005,1006,1027,1042].indexOf(n)>-1&&(e.referrerInfo.appId=null);var a=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{};if(e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId){e.referrerInfo.appId&&(a.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId;var r=Object.keys(e.referrerInfo.privateExtraData);0===r.length&&delete e.referrerInfo.privateExtraData}var o={path:e.path,query:e.query,scene:n,shareTicket:e.shareTicket,referrerInfo:a};e.chatroomUsername&&1156===n&&(o.chatroomUsername=e.chatroomUsername),e.chatType&&(o.chatType=e.chatType);var s=e.nativeExtraData||{};return s.location&&(o.locationInfo=s.location),7!==m.Z.appType&&10!==m.Z.appType||(e.nativeExtraData&&(o.nativeExtraData=e.nativeExtraData),o.sessionId=e.sessionid||e.sessionId,o.isLaunch=e.isLaunch,e.isLaunch&&(o.prerender=!!m.Z.prerender),o.clickTimestamp=e.clickTimestamp,o.preloadType=t),e.mode&&(o.mode=e.mode),1173===n&&(s.mimeType?o.forwardMaterials=[{type:s.mimeType,path:s.materialPath,name:s.materialName,size:s.materialSize}]:Array.isArray(s.materials)&&(o.forwardMaterials=s.materials)),o}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,d.p9)(e.path||"");if(n!==t){var i={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(i.mode=e.mode),10===m.Z.appType&&(e.nativeExtraData&&(i.nativeExtraData=e.nativeExtraData),i.sessionId=e.sessionId,i.isLaunch=e.isLaunch,e.isLaunch&&(i.prerender=e.prerender),i.clickTimestamp=e.clickTimestamp,i.preloadType=e.preloadType),i}return e}n(2626);var E={};function T(e){e}function k(e){E=e}(0,p.Ld)("getEnterAppInfo",(function(e,t){var n=e.callbackId;(0,p.nY)("appEnterInfoGot",{res:E,callbackId:n},[t])}));var A=n(9307),C=n(7264),S=n(968);m.Z.onReady((function(){y.Z.scene=m.Z.appLaunchInfo.scene}));var x=(0,A.s)("AppEnterForeground"),P=x.internalOnMethod;function D(e){if(!(0,S.aI)()){k(e=w(e,!1));var t=b(e);e.__public=I(t,""),T(t),x.emit(e),y.Z.scene=e.scene}}(0,C.n)("onAppEnterForeground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debugLaunchInfo||{};Object.assign(e,t),delete e.debugLaunchInfo,!(0,h._o)()||1!==e.reLaunch&&!0!==e.reLaunch?D(e):f.Z.emitter.once("onAppRoute",(function(){D(e)})),(0,p.nY)("onAppEnterForeground",e)}));var R,O,N=n(8586),M=(n(5322),n(2363));(0,p.Ld)("getLaunchAppInfo",(function(e,t){var n=e.callbackId;(0,p.nY)("appLaunchInfoGot",{res:{sceneHistory:f.Z.sceneHistory,appId:f.Z.appId},callbackId:n},[t])})),m.Z.onReady((function(){if(!(0,S.aI)()){var e=m.Z.appLaunchInfo||{};Object.assign(e,m.Z.debugLaunchInfo||{}),f.Z.appLaunchInfo=e,f.Z.appLaunchShareInfo=e.shareInfo,k(e),O=w(e,!0),R=b(O,m.Z.preloadType),O.__public=I(R,""),T(R)}}));var L=(0,A.s)("AppShow"),W=(L.onMethod,L.offMethod,L.internalOnMethod);P((function(e){L.emitInternal(e)})),(0,N.H)((function e(t){if("appLaunch"===t.openType){var n=function(){if(!O)throw new Error("getLaunchOptionsSync:fail get launch options");return O||{}}();L.emitInternal(n),(0,N.b)(e)}}));var F=[],B=["expires","domain","path","busid","indate","receivetime","spread"],j={scene:-1,sceneNote:"",sessionId:""};W((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j.scene=e.scene,j.sceneNote=e.scene_note,j.sessionId=e.sessionid}));function U(e){var t=[];for(var n in e)B.indexOf(n)>=0&&t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return t.push("".concat(encodeURIComponent(e.key),"=").concat(encodeURIComponent(e.value))),t.join("; ")}var G=function(e){var t=Date.now(),n=[];F.forEach((function(e){var i=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!i||1e3*i>t)&&n.push(U(e))}));var i=n.join(";; ");return e&&e.success&&e.success({cookies:i}),i},V=(0,A.s)("AppEnterBackground"),Z=V.internalOnMethod;(0,C.n)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V.emit(e),(0,p.nY)("onAppEnterBackground",e)}));n(1484);var H=n(5770),Y=n(7587),z=n(9954),q=n(1213),K=(0,A.s)("navigateBackIntercept"),X={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},J=[X.SlideBack,X.BottomBackButton,X.NavigationBarBack,X.NavigateBackCall],$=[],Q=0;(0,p.jQ)("onNavigateBackIntercept",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$[$.length-1]||{},n=t.id;K.emit(r()(r()({},e),{},{id:n})),(0,p.nY)("onNavigateBackIntercept",r()(r()({},e),{},{id:n}))}));var ee,te,ne,ie,ae,re,oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scopes,n=new Set(t||[]),i={scopes:J.map((function(e){return{type:e,interception:n.has(e)}}))};return(0,p.bb)("setNavigateBackInterception",i)},se=(ee=s()(l().mark((function e(){var t,n,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},n=r()(r()({},n),{},{scopes:null!==(t=n.scopes)&&void 0!==t?t:J}),e.next=4,oe(n);case 4:return i=++Q,$.push({id:i,options:n}),e.abrupt("return",{id:i});case 7:case"end":return e.stop()}}),e)}))),function(){return ee.apply(this,arguments)}),ce=((0,q.NX)("setNavigateBackInterception",se),te=s()(l().mark((function e(){var t,n,i,a,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.id,!((i=$.findIndex((function(e){return e.id===n})))<0)){e.next=4;break}return e.abrupt("return");case 4:if(i!==$.length-1){e.next=8;break}return a=$.length>1?$[$.length-2].options:{scope:[]},e.next=8,oe(a);case 8:$.splice(i,1);case 9:case"end":return e.stop()}}),e)}))),function(){return te.apply(this,arguments)}),le=((0,q.NX)("stopNavigateBackInterception",ce),K.internalOnMethod),ue=K.internalOffMethod,de=(ne=s()(l().mark((function e(t){var n,i,a,r,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:J,e.next=3,se({scopes:n});case 3:return i=e.sent,a=i.id,le(r=function(e){e.id===a&&t(e)}),e.abrupt("return",{id:a,handler:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return ne.apply(this,arguments)}),pe=(ie=s()(l().mark((function e(t){var n,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return n=e.t0,i=n.id,a=n.handler,e.next=10,ce({id:i});case 10:ue(a);case 11:case"end":return e.stop()}}),e)}))),function(e){return ie.apply(this,arguments)}),fe=n(3541),he=n(266),ve=function(){var e,t=function(t){e="halfPage"===t.mode};return P((function(e){return t(e)})),m.Z.onReady((function(){return t(m.Z.appLaunchInfo||{})})),function(){return e}}(),ge=(function(){var e,t=[1175,1177],n=function(n){e=t.includes(n.scene)};P((function(e){return n(e)})),m.Z.onReady((function(){return n(m.Z.appLaunchInfo||{})}))}(),n(5645)),ye=(0,q.Vl)(H.JM),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"[_doNavigateToMiniProgram], args=".concat(JSON.stringify(e),", privateArgs=").concat(JSON.stringify(t),", ext=").concat(JSON.stringify(n)),Y.s.log("[_doNavigateToMiniProgram], args=".concat(JSON.stringify(e),", privateArgs=").concat(JSON.stringify(t),", ext=").concat(JSON.stringify(n)));var i=Object.assign({},e);delete i.sourcetype,delete i.preScene,delete i.preSceneNote,delete i.mode,7!==m.Z.appType&&(delete i.scene,delete i.sceneNote);var a,r=G();if(r?(i.privateExtraData=i.privateExtraData||{},i.privateExtraData.cookies=r):i.privateExtraData&&delete i.privateExtraData.cookies,a="string"==typeof i.path&&i.path.trim().length>0?Object.assign({},i,t,{path:(0,d.Pp)(i.path).trim()}):Object.assign({},i,t,{path:void 0}),"[_doNavigateToMiniProgram], finalArgs=".concat(JSON.stringify(a)),Y.s.log("[_doNavigateToMiniProgram], finalArgs=".concat(JSON.stringify(a))),a.needTransferToWeChat&&(0,S.er)())return(0,u.FE)({name:"navigateToMiniProgram",args:a}),delete a.success,delete a.fail,delete a.complete,void(0,u.IN)("sdk_navigateToMiniProgram",a,n);(0,u.IN)("navigateToMiniProgram",a,n)},_e=function(e,t,n,i){var a=[e,t,m.Z.appType+1e3,n+1e3,i].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},we=function(){return ae||(ae=new Promise((function(e){__sclEngine__.initScl((function(t){return e(t.mainRoot)}))}))),ae},be=(re=s()(l().mark((function e(t){var n,i,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:n=e.sent,e.t0=Ee,e.next=e.t0===Ie.HALF_SCREEN_DIALOG_WITHOUT_LOGO?6:e.t0===Ie.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED?8:e.t0===Ie.HALF_SCREEN_DIALOG_WITH_SCORE?11:14;break;case 6:return i=n.append("navigateToMp",{title:t.oldWording,logo:"",name:"",type:Ie.HALF_SCREEN_DIALOG}),e.abrupt("break",16);case 8:return i=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:Ie.HALF_SCREEN_DIALOG}),t.expensiveWording&&t.expensiveWording.then((function(e){var t=e.used_friend_cnt_sub_desc;i.setData({desc:t||""})})),e.abrupt("break",16);case 11:return i=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:Ie.HALF_SCREEN_DIALOG}),t.expensiveWording&&t.expensiveWording.then((function(e){var t=e.score_sub_desc;i.setData({desc:t||""})})),e.abrupt("break",16);case 14:return i=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:Ee}),e.abrupt("break",16);case 16:return a=de((function(e){[X.BottomBackButton,X.NavigationBackInterceptionType,X.NavigateBackCall].includes(e.type)&&i.handleCancel()})),e.next=19,new Promise((function(e){i.addListener("confirm",(function(){e({confirm:!0})})),i.addListener("cancel",(function(){e({confirm:!1})}))}));case 19:return r=e.sent,pe(a),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)}))),function(e){return re.apply(this,arguments)}),Ie={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},Ee=Ie.DEFAULT;m.Z.onReady((function(){(0,z.b)({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:function(e){"[get scl] Use Scl Navigation Alert ".concat(JSON.stringify(e)),e&&void 0!==e.testConfig&&(Ee=Number(e.testConfig)||Ie.DEFAULT,Object.values(Ie).includes(Ee)||(Ee=Ie.DEFAULT),"Use Scl Navigation Alert ".concat(Ee))}})}));var Te,ke,Ae=function(){var e=s()(l().mark((function e(t,n,i,a,o,s){var c,d,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n){e.next=2;break}return e.abrupt("return");case 2:if(c=Ee!==Ie.DEFAULT&&"undefined"!=typeof __sclEngine__&&(M.gm||M.cj||M.wZ)&&o,d=c?Ee:Ie.DEFAULT,e.prev=4,!c){e.next=11;break}return e.next=8,be(r()(r()({},o),{},{oldWording:t,expensiveWording:s}));case 8:p=e.sent,e.next=14;break;case 11:return e.next=13,(0,u.bb)("showModal",{title:t,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"});case 13:p=e.sent;case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(4),_e(3,i,a,d),e.t0;case 20:if(!p.confirm){e.next=25;break}_e(1,i,a,d),e.next=27;break;case 25:throw _e(2,i,a,d),new Error("cancel");case 27:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,n,i,a,r,o){return e.apply(this,arguments)}}(),Ce=function(e){return new Promise((function(t,n){"[_getNavigateWxAppInfo] appId=".concat(e.appId),Y.s.log("[_getNavigateWxAppInfo] appId=".concat(e.appId)),(0,H.JM)({apiName:"webapi_getnavigatewxaappinfo",reqData:{target_appid:e.appId},success:function(e){var n=JSON.parse(e.respData.data),i=n.action_code,a=n.skip_local_check,r=Boolean(n.runtime_sdk_whitelist);t({actionCode:i,skipLocalCheck:a,reason:n.reason,wording:n.wording,appType:n.apptype,newWording:n.new_wording,popupInfo:n.pop_up_info,needTransferToWeChat:r}),"[operateWXData][webapi_getnavigatewxaappinfo][success] data=".concat(e.respData.data)},fail:function(e){n(e),"[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=".concat(e.errMsg)}})}))},Se=1,xe=2,Pe=(Te=s()(l().mark((function e(t){var n,i,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.t0=Ee,e.next=e.t0===Ie.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED?4:e.t0===Ie.HALF_SCREEN_DIALOG_WITH_SCORE?6:8;break;case 4:return n.push(xe),e.abrupt("break",9);case 6:return n.push(Se),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:if(n.length){e.next=11;break}return e.abrupt("return",{});case 11:return"[_getNavigateWxAppDescInfo] appId=".concat(t.appId),Y.s.log("[_getNavigateWxAppDescInfo] appId=".concat(t.appId)),e.prev=13,e.next=16,ye({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:t.appId,desc_type_list:n}});case 16:return i=e.sent,a=i.respData,"[operateWXData][webapi_getnavigatewxaappdesc][success] data=".concat(a.data),r=JSON.parse(a.data),e.abrupt("return",r);case 23:return e.prev=23,e.t1=e.catch(13),"[operateWXData][webapi_getnavigatewxaappdesc][fail], errMsg=".concat(e.t1.message),e.abrupt("return",{});case 27:case"end":return e.stop()}}),e,null,[[13,23]])}))),function(e){return Te.apply(this,arguments)}),De=(ke=[],m.Z.onReady((function(){Array.isArray(m.Z.navigateToMiniProgramAppIdList)&&(ke=m.Z.navigateToMiniProgramAppIdList,(0,_.J)("openWxappLimit5")&&ke.splice(5))})),function(e,t){return new Promise((function(n,i){var a=(0,S.KU)("navigateToMiniProgramConfig");!1===a||M.gm?t?n():ke.indexOf(e)>-1?n({sourcetype:4}):i({errMsg:'appId "'.concat(e,'" is not in navigateToMiniProgramAppIdList')}):!0===a?n():"unknown"===a&&n({sourcetype:4})}))}),Re=function(){var e=s()(l().mark((function e(t){var n,i,a,o,s,c,d,p,f,h,v,g,y,_;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"[_checkBeforeNavigateToMiniProgram] appId=".concat(t.appId),Y.s.log("[_checkBeforeNavigateToMiniProgram] appId=".concat(t.appId)),n=Pe(t),Ee!==Ie.DEFAULT&&we(),e.prev=4,e.next=7,Ce(t);case 7:i=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),"[_getNavigateWxAppInfo][reject] errMsg=".concat(e.t0.errMsg||e.t0.message),e.abrupt("return",{});case 14:if(o=(a=i).actionCode,s=a.skipLocalCheck,c=a.reason,d=a.wording,p=a.appType,f=a.newWording,h=a.popupInfo,v=a.needTransferToWeChat,g=1===o,"[_getNavigateWxAppInfo][resolve] actionCode=".concat(o,", skipLocalCheck=").concat(s,", reason=").concat(c,", wording=").concat(d,", appType=").concat(p,", needTransferToWeChat=").concat(v),Y.s.log("[_getNavigateWxAppInfo][resolve] actionCode=".concat(o,", skipLocalCheck=").concat(s,", reason=").concat(c,", wording=").concat(d,", appType=").concat(p,", needTransferToWeChat=").concat(v)),1===o||2===o){e.next=21;break}throw h?(Reporter.reportKeyValue({key:"WeAppNavBan",value:[m.Z.appType+1e3,m.Z.appLaunchInfo.scene,33,3302,0,1,c,"跳转跳出",(0,he.PL)()].join(",")}),(0,u.IN)("showModal",{showCancel:!0,content:h.desc,confirmText:h.confirm_wording,cancelText:h.cancel_wording,success:function(e){var t=e.confirm,n=h.confirm_url;t&&(0,fe.n)({url:n}),Reporter.reportKeyValue({key:"WeAppNavBan",value:[m.Z.appType+1e3,m.Z.appLaunchInfo.scene,33,3302,t?1:2,2,c,"跳转跳出",(0,he.PL)()].join(",")})}})):d&&(0,u.IN)("showModal",{content:d,showCancel:!1}),new Error(c);case 21:if(1===o||!ve()){e.next=28;break}if(7===p){e.next=27;break}throw(0,ge.CF)({icon:"none",title:"暂不支持当前功能"}),new Error("not supported");case 27:g=!0;case 28:return e.prev=28,e.next=31,De(t.appId,s);case 31:if(y=e.sent,g){e.next=35;break}return e.next=35,Ae(d,o,t.appId,p,f,n);case 35:return e.abrupt("return",r()(r()({},y),{},{needTransferToWeChat:v}));case 38:throw e.prev=38,e.t1=e.catch(28),_=e.t1.errMsg||e.t1.message,new Error(_);case 42:case"end":return e.stop()}}),e,null,[[4,10],[28,38]])})));return function(t){return e.apply(this,arguments)}}();(0,q.NX)("_checkBeforeNavigateToMiniProgram",Re);(0,u.Ld)("tapAnyWhere",(function(e){e.timeStamp,!0})),Z((function(){0,!1}));var Oe=function(){Date.now(),!0}},3541:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var i=n(8392),a=n(9947),r=n(3638),o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!0!==r.Z.openUrlLock)if(t.url=t.url||"",(0,a.mQ)(t.url))r.Z.openUrlLock=!0,(0,i.IN)(e,t,{afterAll:function(){r.Z.openUrlLock=!1}});else{console.error("invalid url",t.url);var n={errMsg:"".concat(e,': invalid url "').concat(t.url,'"')};"function"==typeof t.fail&&t.fail(n),"function"==typeof t.complete&&t.complete(n)}}},s=(o("openUrl"),o("private_openUrl"))},1484:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var i=n(3638),a=function(e){var t,n=e.name,a=e.scene,r=e.strategy,o=e.timeDiffToLastTap,s=void 0===o?0:o;"undefined"!=typeof __appServiceEngine__&&(t=__appServiceEngine__.getCurrentPagesByDomain("").find((function(e){return e.__wxWebviewId__===i.Z.currentWebviewId}))||{});var c=[n,a,Reporter.getAppType(),t?t.route:"",r||0,s].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"RecycledAPI",value:c})}},5645:(e,t,n)=>{"use strict";n.d(t,{I6:()=>h,CF:()=>m});var i=n(8392),a=n(9947),r=n(3638),o=n(809),s=n(2363),c=(n(968),n(7239),n(8586)),l=n(9307),u=(0,l.s)("XWebTextareaSupportedEvent"),d=!1;(0,i.Ld)("xWebTextareaSupported",(function(e){var t=e.canInsert2XWeb;d=t,u.emit({canInsert2XWeb:t})})),(s.gm||s.qB||s.Mq||s.wZ||s.Ae)&&(0,i.Ld)("SPECIAL_PAGE_EVENT",(function(e){var t=e.data,n=e.eventName,o=e.ext,c=e.nodeId,l=e.instanceId,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((!s.wZ||d)&&(t&&"input"===t.type&&o&&o.modelValueName&&__virtualDOM__.setModelValueData(t.detail.value,o.modelValueName,u,c),t&&"input"===t.type&&"function"==typeof r.Z.webviewEventCallback)){var p=r.Z.webviewEventCallback({data:t,eventName:n,webviewId:u,nodeId:c}),f=t.detail.value;if(o&&o.setKeyboardValue)if(void 0===p);else if("Object"===(0,a.Em)(p)){var h={};l&&(h.instanceId=l),f!==p.value&&(h.value=p.value+""),Number.isNaN(parseInt(p.cursor,10))||(h.cursor=parseInt(p.cursor,10)),(0,i.nY)("setKeyboardValue",h,[u])}else f!==p&&(0,i.nY)("setKeyboardValue",{value:p+"",cursor:-1,instanceId:l},[u])}}));var p=(0,l.s)("DomReady"),f=p.internalOnMethod,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==__wxConfig.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==__wxConfig.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};t=(0,a.l7)(t,e),(0,i.r3)("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})&&(t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?(0,i.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?(0,i.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters"):(0,i.IN)("showModal",t,{beforeSuccess:function(e){e.confirm=Boolean(e.confirm),s.cj||s.Mq?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),(0,o.Hk)()},beforeAll:function(){!0},afterAll:function(){!1}}))},v={},g={};(0,c.H)((function(e){g[e.webviewId]=[]})),f((function(e){setTimeout((function(){var t=e.webviewId,n=g[t]||[];v[t]=!0,n.length>0&&(!1,!1,n.forEach((function(e){var t=e.res,n=e.args,a=/hideLoading/.test(t.errMsg)?{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}}:{};(0,i.IN)("hideToast",n,a)}))),delete g[t]}),100)}));var y=1,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={duration:1500,title:"",icon:"success",mask:!1};if(t=(0,a.l7)(t,e),e.image&&(t.image=(0,a.sd)(r.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),(0,i.r3)("showToast",t,{duration:1,title:"",icon:""})){var n=g[r.Z.currentWebviewId]||[];n.length>0&&(!1,!1,n.forEach((function(e){var t=e.res,n=e.args;"function"==typeof n.success&&n.success(t),"function"==typeof n.complete&&n.complete(t)})),delete g[r.Z.currentWebviewId]),y++,setTimeout((function(){!1}),t.duration),t.maskAll=!1,(0,i.IN)("showToast",t)}}},6965:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="undefined"!=typeof NativeGlobal?NativeGlobal:{}},8947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=__wxConfig},9769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n.g.WeixinArrayBuffer;delete n.g.WeixinArrayBuffer;const a=i},8976:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var i=n(8392),a=n(9267),r=n(8947),o={requestVirtualPayment:285,setCookies:502,getCookies:503,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,authShareRelationship:852,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,plugin_launchApplicationDirectly_operateDirectly:1009,privateSearchContacts:1024,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027},s={};r.Z.onReady((function(){var e=Object.keys(o).map((function(e){return o[e]}));(0,i.IN)("getPermissionBytes",{indexes:e,success:function(t){if(t.permissionBytes)for(var n=0;n<t.permissionBytes.length;n++){var i=e[n];s[i]=1===t.permissionBytes[n]}},fail:function(e){}})}));var c=function(e){var t=o[e];if("number"!=typeof t)return!1;if(!(0,a.o8)(s[t]))return s[t];var n=!1;return(0,i.IN)("getPermissionBytes",{indexes:[t],success:function(e){e.permissionBytes&&(n=1===e.permissionBytes[0],s[t]=n)}}),n}},4657:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(9267),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a()(this,e),this.type="",this.surround=!1,this.eventMap=new Map,this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap,this.type=t,this.surround=n}return o()(e,[{key:"on",value:function(e,t){if((0,s.mf)(t)){var n,i,a=t;this.surround&&(n=t,i="at ".concat(this.type).concat(e," callback function"),a="undefined"!=typeof __errorTracer__?__errorTracer__.surroundThirdByTryCatch(n,i):"undefined"!=typeof __subContextEngine__?__subContextEngine__.surroundThirdByTryCatch(n,i):function(){try{return n.apply(void 0,arguments)}catch(e){return void console.error("thirdScriptError\n".concat(e.message,";").concat(i,"\n"),e)}},this.callbackMap.set(t,a),this.originalCallbackMap.set(a,t)),this.eventMap.has(e)?this.eventMap.get(e).add(a):this.eventMap.set(e,new Set([a]))}else console.error("emitter.on fail: callback must be a function")}},{key:"off",value:function(e,t){var n=this,i=this.eventMap.get(e);if(i)if("function"!=typeof t)i.forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),i.clear();else if(this.surround){var a=this.callbackMap.get(t);i.delete(a),this.callbackMap.delete(t),this.originalCallbackMap.delete(a)}else i.delete(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.eventMap.has(e)){var a=new Set(this.eventMap.get(e));a.forEach((function(e){return e.apply(void 0,n)}))}}},{key:"removeAllListeners",value:function(e){this.off(e)}},{key:"getListenersLength",value:function(e){var t=this.eventMap.get(e);return t?t.size:0}}]),e}()},2363:(e,t,n)=>{"use strict";n.d(t,{iw:()=>o,gm:()=>s,wZ:()=>c,cj:()=>l,qB:()=>u,Mq:()=>d,Ae:()=>p,DD:()=>f,jP:()=>v});var i=n(8676),a=n.n(i),r=n(8947),o=r.Z.platform,s="devtools"===r.Z.platform,c="android"===r.Z.platform,l="ios"===r.Z.platform,u="windows"===r.Z.platform,d="mac"===r.Z.platform,p="mina"===r.Z.platform,f=u||d;var h=r.Z.host||{},v=(h.env,h.env,h.env,h.forceUseNativeMap,"object"===("undefined"==typeof window?"undefined":a()(window))&&window&&window.__wkrenderer_h5)},9307:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var i=n(8676),a=n.n(i),r=n(6326),o=new r.Z({maxListeners:20,newListener:!1}),s=new r.Z({maxListeners:20,newListener:!1});var c={};function l(e){if(e=e[0].toUpperCase()+e.slice(1),!c[e]){var t=new WeakMap;c[e]={getGlobalListeners:function(){return o.listeners(e)},getInternalListeners:function(){return s.listeners(e)},emit:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s.emit.apply(s,[e].concat(n)),o.emit.apply(o,[e].concat(n))},emitGlobal:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.emit.apply(o,[e].concat(n))},emitInternal:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s.emit.apply(s,[e].concat(n))},internalOnMethod:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof t&&(n.prepend?n.once?s.prependOnceListener(e,t):s.prependListener(e,t):n.once?s.once(e,t):s.on(e,t))},internalOffMethod:function(t){"function"==typeof t&&s.off(e,t)},onMethod:function(n){var i=function(e,t){return"function"!=typeof t?(console.error("on".concat(e," should accept a function instead of ").concat(a()(t))),null):__errorTracer__.surroundThirdByTryCatch(t,"at api on".concat(e," callback function"))}(e,n);i&&(t.set(n,i),o.on(e,i))},offMethod:function(n){if(function(e,t){return!t||"function"==typeof t||(console.error("off".concat(e," should accept a function instead of ").concat(a()(t))),!1)}(e,n))if(n){if(t.has(n)){var i=t.get(n);t.delete(n),o.off(e,i)}}else t=new WeakMap,o.removeAllListeners(e)}}}return c[e]}},6326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,y:()=>l});var i=n(8676),a=n.n(i),r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function c(e,t){console.warn("[Event] ".concat(e," listeners of event ").concat(t," have been added, possibly causing memory leak."))}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,s.call(this,e)}l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,i){var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&a.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,i),a},l.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,n,i,a,r,s=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(i=0,n=r.length;i<n;i++)switch(this.event=e,s){case 1:r[i].call(this,e);break;case 2:r[i].call(this,e,arguments[1]);break;case 3:r[i].call(this,e,arguments[1],arguments[2]);break;default:r[i].apply(this,t)}}if("function"==typeof(r=this._events[e])){switch(this.event=e,s){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];r.apply(this,t)}return!0}if(r&&(r=r.slice()),r&&r.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(i=0,n=r.length;i<n;i++)switch(this.event=e,s){case 1:r[i].call(this);break;case 2:r[i].call(this,arguments[1]);break;case 3:r[i].call(this,arguments[1],arguments[2]);break;default:r[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,a,r,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),a=1;a<c;a++)t[a]=arguments[a];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,c){case 1:s.push(this._all[i].call(this,e));break;case 2:s.push(this._all[i].call(this,e,arguments[1]));break;case 3:s.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[i].apply(this,t))}}if("function"==typeof(r=this._events[e]))switch(this.event=e,c){case 1:s.push(r.call(this));break;case 2:s.push(r.call(this,arguments[1]));break;case 3:s.push(r.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];s.push(r.apply(this,t))}else if(r&&r.length){if(r=r.slice(),c>3)for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];for(i=0,n=r.length;i<n;i++)switch(this.event=e,c){case 1:s.push(r[i].call(this));break;case 2:s.push(r[i].call(this,arguments[1]));break;case 3:s.push(r[i].call(this,arguments[1],arguments[2]));break;default:s.push(r[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n});for(var o=0;o<i.length;o++){if(n=i[o]._listeners,r(n)){for(var s=-1,c=0,l=n.length;c<l;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){s=c;break}if(s<0)continue;return this._events[e].splice(s,1),0===n.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var i in n){var r=n[i],o=t[r];o instanceof Function||"object"!==a()(o)||null===o||(Object.keys(o).length>0&&e(t[r]),0===Object.keys(o).length&&delete t[r])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,i=t.length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||o.call(this),this):(this._events&&(this._events[e]=null),this)},l.prototype.listeners=function(e){return this._events||o.call(this),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]};const u=l},4547:(e,t,n)=>{"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.d(t,{n:()=>i})},3464:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=function(){function e(t){var n=this;if(a()(this,e),this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof t)throw new TypeError("Promise resolver is not a function");try{t((function(e){"pending"===n._status&&(n._status="then",n._return=e,n._consume())}),(function(e){"pending"===n._status&&(n._status="catch",n._return=e,n._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}return o()(e,[{key:"_consume",value:function(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}},{key:"then",value:function(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}},{key:"catch",value:function(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}}],[{key:"resolve",value:function(t){return new e((function(e){return e(t)}))}},{key:"reject",value:function(t){return new e((function(){throw t}))}}]),e}()},9267:(e,t,n)=>{"use strict";n.d(t,{Em:()=>a,HD:()=>r,hj:()=>o,jn:()=>s,o8:()=>c,Ft:()=>l,Kn:()=>u,kJ:()=>d,mf:()=>p,eP:()=>f,x7:()=>h});var i=Object.prototype.toString;function a(e){return i.call(e).slice(8,-1)}var r=function(e){return"String"===a(e)},o=function(e){return"Number"===a(e)},s=function(e){return!0===e||!1===e||"Boolean"===a(e)},c=function(e){return void 0===e},l=function(e){return null===e},u=(Number.isNaN,Number.isFinite,function(e){return"Object"===a(e)}),d=Array.isArray||function(e){return"Array"===a(e)},p=function(e){return"function"==typeof e},f=function(e){return"ArrayBuffer"===a(e)};function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter",i=a(t),r=a(e);if(r!==i)return"".concat(n," should be ").concat(i," instead of ").concat(r,";");var o="";switch(i){case"Object":Object.keys(t).forEach((function(i){o+=h(e[i],t[i],"".concat(n,".").concat(i))}));break;case"Array":if(e.length<t.length)return"".concat(n," should have at least ").concat(t.length," item;");for(var s=0;s<t.length;++s)o+=h(e[s],t[s],"".concat(n,"[").concat(s,"]"))}return o}},1213:(e,t,n)=>{"use strict";n.d(t,{NX:()=>E,M8:()=>y,Vl:()=>I,ZT:()=>_,gA:()=>w,Hw:()=>m});const i=BabelRuntimeHelpers.objectWithoutProperties;var a=n.n(i),r=n(1503),o=n.n(r),s=n(7163),c=n.n(s),l=n(4742),u=n.n(l),d=n(7541),p=n.n(d),f=n(3087),h=n.n(f),v=n(9267),g=n(8392);function y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function m(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function _(){}m((function(e){var t=(0,v.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}),"anyTypeToString");m((function(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}),"stringToAnyType");function w(e){return function(){for(var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];var o=n=n||{},s=o.success,c=o.fail,l=o.complete;return s||c||l?e.apply(this,[n].concat(a)):new Promise((function(i,r){var o=Object.assign({success:i,fail:r},n);e.apply(t,[o].concat(a))}))}}var b=Symbol("ErrorInfosSymbol"),I=(function(e){u()(n,e);var t=p()(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c()(this,n),(i=t.call(this,e))[b]=a,i}}(h()(Error)),function(e){return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new Promise((function(n,r){return e.apply(void 0,[o()(o()({},t),{},{success:n,fail:function(e){var t=e.errMsg,n=a()(e,["errMsg"]),i=new Error(t.replace(/^\w+:fail ?/,""));Object.assign(i,n),i[b]=n,r(i)},complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errMsg,n=a()(e,["errMsg"]);if(t&&!/^\w+:(ok|fail)/.test(t)){var i=new Error(e.errMsg.replace(/^\w+:/,""));Object.assign(i,n),i[b]=n,i._complete_hook=!0,r(i)}}})].concat(i))}))}}),E=function(e,t){return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.success,r=n.fail,o=n.complete,s=a()(n,["success","fail","complete"]),c={success:i,fail:r,complete:o},l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];t.apply(void 0,[s].concat(u)).then((function(t){return(0,g.FE)({name:e,args:c,success:!0,res:t})}),(function(t){t._complete_hook?(0,g.S3)({name:e,args:c,errMsg:t.message,res:t[b]||{}}):(0,g.FE)({name:e,args:c,success:!1,errMsg:t.message,res:t[b]||{}})}))}}},6315:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var i=n(7264),a=n(8947),r=n(7349),o=n(4410),s="",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{s=e.transitExtraData.adUxInfo}catch(e){s=""}};"undefined"!=typeof __safeway__&&(a.Z.onReady((function(){c(a.Z.appLaunchInfo)})),(0,i.n)("onAppEnterForeground",(function(e){c(e)})),(0,i.n)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"back"!==e.mode&&"close"!==e.mode||(s="")})),(0,o.L)("getAdUxInfo",(function(e,t){(0,r.n)("adUxInfoGot",{adUxInfo:s,callbackId:e.callbackId},[t])})));var l=function(){return s}},1126:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(6315);function a(e,t,n,a){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,i.I)()),__safeway__.bridge.invoke(e,t,n,a)}},8054:(e,t,n)=>{"use strict";n.d(t,{be:()=>Z,IN:()=>U,bb:()=>G,oQ:()=>j});var i=n(1126),a=n(8392),r={},o={},s={},c=0,l=function(e,t){return Object.keys(t).map((function(n){return Object.keys(t[n]).map((function(i){return{func:n,result:e,errMsg:i,count:t[n][i]}}))}))},u=function(){var e=l(1,r),t=l(2,o),n=l(3,s),i=[].concat(e,t,n);0!==i.length&&(0,a.IN)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:i,appType:Reporter.getAppType()})}),r={},o={},s={}},d=n(1213),p=n(572),f=n.n(p),h=n(8947),v=n(9267),g=n(3638),y=n(5770),m=n(2363),_=0,w=1,b=2,I=1,E=2,T=3,k=4,A=wxNativeConsole.createLogger("BanForPage"),C=!1,S=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),x=[];function P(e,t,n){A.log("[checkAPIAvailableForPage] APIName=".concat(e,", path=").concat(t,", title=").concat(n));var i=function(e,t,n){for(var i=-1,a=0;a<x.length;a++){var r=x[a];if((!(0,v.HD)(r.path_rule)||!r.path_rule||new RegExp(r.path_rule).test(t))&&(!(0,v.HD)(r.title_rule)||!r.title_rule||new RegExp(r.title_rule).test(n))){i=a;break}}return A.log("[getBanRuleIndexForPage] banRuleIndex=".concat(i)),i}(0,t,n);if(-1===i)return R(e,I,k,e),!0;var r=x[i];return A.log("[checkAPIAvailableForPage], found rule:",r),function(e,t){var n,i,r=e.ban_jsapi_list.find((function(e){return e.jsapi_name===t}));if(!r)return A.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(A.log("[checkAPIAvailableForPageByRule], found APIItem:",r),r.state===_)n=!1;else if(r.state===w)n=!0;else if(r.state===b&&(n=!0,1===e.is_valid)){var o=r.toast_wording||"该功能暂时无法使用";(0,a.be)("showToast",{title:o,icon:"none"})}return i=n?e.is_valid?E:T:I,R(t,i,k,t),1!==e.is_valid||!n}(r,e)}function D(e){var t=Object.keys(g.Z.query).reduce((function(e,t){return[].concat(f()(e),["".concat(t,"=").concat(g.Z.query[t])])}),[]).join("&"),n=g.Z.lastRoute+(t?"?".concat(t):""),i=g.Z.navigationBarTitleMap[g.Z.lastRoute]||"";return A.log("[checkAPIAvailableForCurrentPage] APIName=".concat(e,", path=").concat(n,", title=").concat(i)),P(e,n,i)}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(A.log("[reportAPIBanForPage] APIName=".concat(e,", blockType=").concat(t,", checkScene=").concat(n,", extraInfo=").concat(i,", needReport=").concat(C)),C){var r=h.Z.appLaunchInfo,o=Object.keys(g.Z.query).map((function(e){return"".concat(e,"=").concat(g.Z.query[e])})).join("&"),s={session_id:r.sessionid||r.sessionId,cur_path:g.Z.lastRoute+(o?"?".concat(o):""),title:g.Z.navigationBarTitleMap[g.Z.lastRoute],check_scene:n,block_status:t,extra_info:i,launch_scene:r.scene,launch_path:r.path,target_path:a};A.log("[reportAPIBanForPage], reqData:",s),(0,y.JM)({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete:function(e){A.log("[reportAPIBanForPage], res.errMsg=".concat(e.errMsg))}})}}h.Z.onReady((function(){if(!m.gm)try{var e=h.Z.appContactInfo.operationInfo.jsonInfo.navigate_ban_info,t=e.do_report,n=e.navigate_ban_rule_list;x=n,C=1===t,S=new Set(n.reduce((function(e,t){return[].concat(f()(e),f()(t.ban_jsapi_list))}),S)),A.log("[BanForPage][init] needReport=".concat(C)),A.log("[BanForPage][init] ruleList:",x),A.log("[BanForPage][init] banAPISet:",S)}catch(e){A.error("[BanForPage][init] fail, errMsg=".concat(e.message))}}));var O=n(2335),N=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],M=function(e){return m.jP||m.wZ&&N.includes(e)};function L(e,t){return Object.keys(e).reduce((function(n,i){return"function"==typeof e[i]&&(n[i]=__errorTracer__.surroundThirdByTryCatch(e[i],"at api ".concat(t," ").concat(i," callback function")),delete e[i]),n}),{})}function W(e,t){return Object.keys(e).reduce((function(n,i){return"function"==typeof e[i]&&(n[i]=(0,d.Hw)(e[i],"at api ".concat(t," ").concat(i," callback function")),n[i]._argumentsLength=e[i].length),n}),{})}function F(e,t,n,i){e.errMsg=e.errMsg||"".concat(t,":ok");var a=0===e.errMsg.indexOf("".concat(t,":ok")),l=new RegExp("".concat(t,":(fail |fail:)?cancel")).test(e.errMsg),d=0===e.errMsg.indexOf("".concat(t,":fail"));"function"==typeof i.beforeAll&&i.beforeAll(e),a?function(e,t,n){var i=function(){"function"==typeof e.success&&e.success(t),"function"==typeof n.afterSuccess&&n.afterSuccess(t)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(t,i):(n.beforeSuccess(t),i()):i()}(n,e,i):l?function(e,t,n,i){var a=new RegExp("".concat(t,":(fail |fail:)?cancel"));e.errMsg=e.errMsg.replace(a,"".concat(t,":fail cancel")),"function"==typeof n.fail&&n.fail(e),"function"==typeof i.beforeCancel&&i.beforeCancel(e),"function"==typeof n.cancel&&n.cancel(e),"function"==typeof i.afterCancel&&i.afterCancel(e)}(e,t,n,i):d&&function(e,t,n,i){"function"==typeof e.beforeFail&&e.beforeFail(n),"function"==typeof i.fail&&i.fail(n),"function"==typeof e.afterFail&&e.afterFail(n),(0,v.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(n)||Reporter.reportIDKey({key:"".concat(t,"_fail")})}(i,t,e,n),"function"==typeof n.complete&&n.complete(e),"function"==typeof i.afterAll&&i.afterAll(e),function(e,t,n,i,a){var l;(l=t?r:n?o:s)[e]=l[e]||{},l[e][a]=(l[e][a]||0)+1,Date.now()-c>=6e4&&(c=Date.now(),setTimeout(u,6e4))}(t,a,d,0,e.errMsg)}function B(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";(0,v.Kn)(n)||(n={}),"operateWXData"===t&&n._isFromBaseOperateWXData;var o=L(n,t);if(n=Object.assign({},n),a=W(a,t),Reporter.reportIDKey({key:t}),!e){if(0===h.Z.appType&&S.has(t)&&!D(t))return void F({errMsg:"".concat(t,":fail API has been banned")},t,o,a);delete n.pluginId,delete n.permissionBytes,"/"!==r&&(n.pluginId=r)}var s=M(t);(0,i.d)(t,n,(function(e){F(e,t,o,a)}),s)}}var j=B(!1),U=function(e,t,n){O.e4.indexOf(e)<0?j(e,t,n):(0,O.LY)(e,t,n)},G=function(e,t,n){return(0,d.Vl)((function(t){return U(e,t,n)}))(t)},V=B(!0),Z=function(e,t,n){V(e,t,n)}},9762:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var i=n(1213);function a(e,t){!function(e,t){__safeway__.bridge.on(e,t)}(e,(0,i.Hw)(t,"at api ".concat(e," callback function")))}},7349:(e,t,n)=>{"use strict";function i(e,t,n){!function(e,t,n){__safeway__.bridge.publish(e,t,n)}(e,{data:t,options:{timestamp:Date.now()}},n)}n.d(t,{n:()=>i})},4410:(e,t,n)=>{"use strict";function i(e,t){!function(e,t){__safeway__.bridge.subscribe(e,t)}(e,(function(e,n){var i=e.data,a=e.options,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a&&a.timestamp||0,s=Date.now();Reporter.speedReport({key:"webview2AppService",data:i||{},timeMark:{startTime:o,endTime:s,nativeTime:r.nativeTime||0}}),"function"==typeof t&&t(i,n)}))}n.d(t,{L:()=>i})},8392:(e,t,n)=>{"use strict";n.d(t,{be:()=>r.be,gM:()=>C,r3:()=>l,FE:()=>p,S3:()=>d,YG:()=>u,IN:()=>r.IN,bb:()=>r.bb,oQ:()=>r.oQ,jQ:()=>o.j,nY:()=>i.n,Ld:()=>a.L});var i=n(7349),a=n(4410),r=n(8054),o=n(9762),s=n(1213),c=n(9267);function l(e,t,n){var i=(0,c.x7)(t,n);return!i||(u(e,t,"parameter error: ".concat(i)),!1)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;p({name:e,args:t,errMsg:n,errCode:i,success:!1})}function d(e){var t=e.name,n=e.args,i=void 0===n?{}:n,a=e.errMsg,r=void 0===a?"":a,o=e.res,c=void 0===o?{}:o;i=i||{};var l="".concat(t,":").concat(r),u=__errorTracer__.surroundThirdByTryCatch(i.complete||s.ZT,"at api ".concat(t," complete callback function"));c.errMsg=l,u(c)}function p(e){var t=e.name,n=e.args,i=void 0===n?{}:n,a=e.success,r=void 0===a||a,o=e.errMsg,l=void 0===o?"":o,u=e.errCode,d=e.res,p=void 0===d?{}:d;i=i||{};var f=r?"".concat(t,":ok"):"".concat(t,":fail ").concat(l),h=__errorTracer__.surroundThirdByTryCatch((r?i.success:i.fail)||s.ZT,"at api ".concat(t," ").concat(r?"success":"fail"," callback function")),v=__errorTracer__.surroundThirdByTryCatch(i.complete||s.ZT,"at api ".concat(t," complete callback function"));p.errMsg=f,(0,c.hj)(u)&&(p.errCode=u),h(p),v(p)}n(1126);var f=n(8676),h=n.n(f),v=n(8947),g=n(3638),y="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",m="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function _(e){return function(t){return(0,c.HD)(t)&&t.length>e?t.substr(0,e):t}}function w(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,c.Em)(e);switch(n){case"Number":case"Boolean":return e;case"String":return _(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return"[Error:".concat(w(e.message),"|").concat(w(e.stack),"]");case"Object":return t?Object.keys(e).map((function(t){return"".concat(w(t),"=").concat(w(e[t],!1))})).sort((function(e,t){return e.length-t.length})).join("&")||"{}":"[".concat(n,"]");default:return"[".concat(n,"]")}}function b(e){var t=e.WXDataApiName,n=e.argument,i=e.isSuccess,a=e.invokeTime,r=e.costTime,o=e.result,s=e.errMsg,c=e.isConfirm,l=e.queueLength,u=e.wxdataQueueTimestamp,d=e.wxdataDequeueTimestamp,p=e.beginCGITimestamp,f=e.CGICallbackTimestamp,h=e.beginCGITimestampAfterConfirm,b=e.CGICallbackTimestampAfterConfirm,I=e.wxlibCallbackTimestamp,E=e.requestInQueue,T=e.requestingCount,k=e.cost1,A=e.cost2,C=e.cost3,S=e.cost4,x=e.cost5,P=e.cost6;Math.random()<.05&&setTimeout((function(){var e=g.Z.currentNetworkType,D=v.Z.appType+1e3,R=v.Z.appLaunchInfo&&void 0!==v.Z.appLaunchInfo.scene?v.Z.appLaunchInfo.scene:0,O=[t,w(JSON.stringify(n)),i?1:0,a,r,e,w(o),D,R,y,m,s&&w(s)||"",c?1:0,l,k,A,C,S,x,P,0,E?1:0,T,a,u,d,p,f,h,b,I].map(_(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:O})}),0)}(0,c.HD)(y)&&(y=y.replace(" ","")),(0,c.HD)(m)&&(m=m.replace(" ","-"));var I=0,E=wxNativeConsole.createLogger("baseOperateWXData"),T=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg"],k=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo"],A=["qbase_commapi","webapi_botdemo"];function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var i=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail,s=n.data&&n.data.api_name;T.includes(s)?n.requestInQueue=!0:n.requestInQueue=!1,k.includes(s)?n.isImportant=!0:n.isImportant=!1,A.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);var c={isSuccess:void 0,WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++I};E.info("".concat(n.data.api_name," _options.requestInQueue"),n.requestInQueue);for(var l=arguments.length,u=new Array(l>2?l-2:0),d=2;d<l;d++)u[d-2]=arguments[d];r.IN.apply(void 0,["operateWXData",n,{beforeAll:function(e){var n=Date.now();I--,c.costTime=n-c.invokeTime;try{if(e&&e.data&&e.data.data?c.result=JSON.stringify(e.data):c.result=e.data,e.clientInfo&&"object"===h()(e.clientInfo)){var a=e.clientInfo;Object.keys(a).forEach((function(e){c[e]=a[e]})),c.cost1=a.wxdataQueueTimestamp-c.invokeTime,c.cost2=a.wxdataDequeueTimestamp-a.wxdataQueueTimestamp,c.cost3=a.beginCGITimestamp-a.wxdataDequeueTimestamp,c.cost4=a.CGICallbackTimestamp-a.beginCGITimestamp,c.cost5=a.wxlibCallbackTimestamp-a.CGICallbackTimestamp,c.cost6=n-a.wxlibCallbackTimestamp}}catch(e){E.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess:function(e){c.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof a&&a.call(t,e),b(c)},beforeFail:function(e){c.isSuccess=!1,c.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof o&&o.call(t,e),b(c)}}].concat(u))}},7264:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(9762),a=n(9307),r={},o=function(e,t){var n=(0,a.s)("WeixinJSBridge-".concat(e));r[e]||((0,i.j)(e,(function(){n.emit.apply(n,arguments)})),r[e]=!0),n.internalOnMethod(t)}},4377:(e,t,n)=>{"use strict";n.d(t,{yH:()=>a,Do:()=>r,rW:()=>o,vL:()=>s,bh:()=>c});var i=n(8392),a=function(e){(0,i.r3)("saveFile",e,{tempFilePath:""})&&(0,i.IN)("saveFile",e)},r=function(e,t){if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var n,a;if((0,i.IN)("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){a=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return a},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.IN)("getSavedFileList",e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.r3)("getSavedFileInfo",e,{filePath:""})&&(0,i.IN)("getSavedFileInfo",e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.r3)("removeSavedFile",e,{filePath:""})&&(0,i.IN)("removeSavedFile",e)}},5179:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(8392),a=n(9267),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,a.x7)(e,{digestAlgorithm:""});if(t)return void(0,i.YG)("getFileInfo",e,"parameter error: ".concat(t));if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void(0,i.YG)("getFileInfo",e,'parameter error: invalid digestAlgorithm "'.concat(e.digestAlgorithm,'"'))}(0,i.IN)("getFileInfo",e,{})}}},8325:(e,t,n)=>{"use strict";n.d(t,{t2:()=>O,ZP:()=>j});var i,a=n(572),r=n.n(a),o=n(4377),s=n(5179),c=n(1925),l=n(8392),u=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],d=n(2903),p=n(8947),f=n(2363),h=f.gm?"http://":"wxfile://",v=[],g=!1;f.cj?i=new RegExp("^".concat(h,"tmp_")):f.wZ&&(i=new RegExp("^tmp_")),p.Z.onReady((function(){f.wZ||f.cj?(0,l.IN)("readdir",{dirPath:h,success:function(e){var t=e.files||[];v=t.filter((function(e){return i.test(e)})),g=!0}}):g=!0}));var y=function(e,t){if(/^wxfile:\/\/(tmp\/?)?$/.test(t)){var n=d.L.get();e.files=e.files.filter((function(e){return new RegExp("^".concat(t)).test(e)||(e="".concat(t).concat(e)),-1===n.indexOf(e)})).filter((function(e){return g?-1===v.indexOf(e):!i.test(e)}))}};var m=n(7163),_=n.n(m),w=n(5843),b=n.n(w),I=function(){function e(t){var n=t.mode,i=t.size,a=t.lastAccessedTime,r=t.lastModifiedTime;_()(this,e),this.mode=n,this.size=i,this.lastAccessedTime=a,this.lastModifiedTime=r}return b()(e,[{key:"_checkModeProperty",value:function(e){return(61440&this.mode)===e}},{key:"isDirectory",value:function(){return this._checkModeProperty(16384)}},{key:"isFile",value:function(){return this._checkModeProperty(32768)}}]),e}(),E=function(e,t){var n=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((function(t){n=n&&void 0!==e[t]})),n)e.stats=new I(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new I(e.stats[""]);else{var i=[],a=e.stats;f.wZ&&(a=e,i.push({path:"/",stats:T(t)})),Object.keys(a).forEach((function(e){if("errMsg"!==e){var t=a[e];""===e&&(e="/"),i.push({path:e,stats:new I(t)}),delete a[e]}})),e.stats=i}},T=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("path must be a string");if((0,l.IN)("statSync",{path:e,recursive:i,success:function(n){E(n,e),t=n.stats},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return t},k=n(9267),A="readZipEntry",C=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],S=n(9947),x=n(1503),P=n.n(x),D=n(9769),R=n(968),O={saveFile:o.yH,saveFileSync:o.Do,getSavedFileList:o.rW,getSavedFileInfo:o.vL,removeSavedFile:o.bh,getFileInfo:s.h,readFile:c.p,readFileSync:c.N,writeFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===u.indexOf(e.encoding)?(0,l.YG)("writeFile",e,'invalid encoding "'.concat(e.encoding,'"')):(0,l.IN)("writeFile",e,{}))},writeFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===u.indexOf(n))throw new Error('invalid encoding "'.concat(n,'"'));var i;if((0,l.IN)("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){i=e.errMsg}}),i)throw new Error(i)},mkdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("mkdir",e,{dirPath:""})&&(0,l.IN)("mkdir",e)},mkdirSync:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");if((0,l.IN)("mkdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},rmdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("rmdir",e,{dirPath:""})&&(0,l.IN)("rmdir",e)},rmdirSync:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");if((0,l.IN)("rmdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},readdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("readdir",e,{dirPath:""})&&(0,l.IN)("readdir",e,{beforeSuccess:function(t){y(t,e.dirPath)}})},readdirSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,n;if((0,l.IN)("readdirSync",{dirPath:e,success:function(e){t=e.files},fail:function(e){n=e.errMsg}},{beforeSuccess:function(t){y(t,e)}}),n)throw new Error(n);return t},access:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("access",e,{path:""})&&(0,l.IN)("access",e)},accessSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if((0,l.IN)("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},unlink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("unlink",e,{filePath:""})&&(0,l.IN)("unlink",e)},unlinkSync:function(e){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t;if((0,l.IN)("unlinkSync",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},stat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("stat",e,{path:""})&&(0,l.IN)("stat",e,{beforeSuccess:function(t){E(t,e.path)}})},statSync:T,unzip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("unzip",e,{zipFilePath:""})&&(0,l.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,l.IN)("fs_copyFile",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var n;if((0,l.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg.replace("fs_copyFileSync:","copyFileSync:")}}),n)throw new Error(n)},rename:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("rename",e,{oldPath:"",newPath:""})&&(0,l.IN)("fs_rename",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var n;if((0,l.IN)("fs_renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},appendFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===u.indexOf(e.encoding)?(0,l.YG)("appendFile",e,'invalid encoding "'.concat(e.encoding,'"')):(0,l.IN)("fs_appendFile",e,{}))},appendFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===u.indexOf(n))throw new Error('invalid encoding "'.concat(n,'"'));var i;if((0,l.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:n,fail:function(e){i=e.errMsg}}),i)throw new Error(i)},readZipEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)(A,e,{filePath:""})&&((0,k.o8)(e.encoding)||-1!==u.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,l.IN)(A,e,{beforeSuccess:function(e){return e.entries&&Object.keys(e.entries).forEach((function(t){if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg="".concat(A,":ok"):e.entries[t].errMsg="".concat(A,":fail ").concat(e.entries[t].errMsg),0===t.indexOf("file:")){var n=t.replace("file:","");e.entries[n]=e.entries[t],delete e.entries[t]}})),e}}):(0,l.YG)(A,e,"invalid entries"):(0,l.YG)(A,e,'invalid encoding "'.concat(e.encoding,'"')))},open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);(0,l.r3)("open",e,{filePath:""})&&(void 0===e.flag||C.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,l.IN)("open",t)):(0,l.YG)("open",e,'invalid flag "'.concat(e.flag,'"')))},openSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.filePath,a=n.flag;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==a&&!C.includes(a))throw new S.iZ("invalid flag: ".concat(a));if(void 0===a&&(a="r"),(0,l.IN)("openSync",{filePath:i,flag:a,fail:function(e){t=e.errMsg},success:function(t){e=t.fd}}),t)throw new Error(t);return e},close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("close",e,{fd:""})&&(0,l.IN)("close",e)},closeSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fd;if(!n||"string"!=typeof n)throw new TypeError("fd must be a string");if((0,l.IN)("closeSync",{fd:n,fail:function(t){e=t.errMsg}}),e)throw new Error(e)},fstat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("fstat",e,{fd:""})&&(0,l.IN)("fstat",e,{beforeSuccess:function(e){var t=e.mode,n=e.size,i=e.lastAccessedTime,a=e.lastModifiedTime;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),e.stats=new I({mode:t,size:n,lastAccessedTime:i,lastModifiedTime:a}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.fd;if(!i||"string"!=typeof i)throw new TypeError("fd must be a string");if((0,l.IN)("fstatSync",{fd:i,fail:function(e){t=e.errMsg},success:function(t){var n=t.mode,i=t.size,a=t.lastAccessedTime,r=t.lastModifiedTime;a>1617e9&&(a=Math.floor(a/1e3)),r>1617e9&&(r=Math.floor(r/1e3)),e=new I({mode:n,size:i,lastAccessedTime:a,lastModifiedTime:r})}}),t)throw new Error(t);return e},write:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);if((0,l.r3)("write",t,{fd:""}))if(t.encoding&&-1===u.indexOf(t.encoding))(0,l.YG)("write",t,'invalid encoding "'.concat(t.encoding,'"'));else{if((0,k.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,l.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,k.HD)(t.data))return void(0,l.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,l.IN)("write",t)}},writeSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.fd,a=n.data,r=n.offset,o=n.length,s=n.encoding,c=n.position;if(!i||"string"!=typeof i)throw new TypeError("fd must be a string");if(s&&-1===u.indexOf(s))throw new S.iZ('invalid encoding "'.concat(s,'"'));if((0,k.eP)(a)){if(a.byteLength>10485760)throw new S.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof o||o<0)&&(o=a.byteLength-r)}else if(!(0,k.HD)(a))throw new TypeError("data must be a string or ArrayBuffer");if("number"!=typeof c&&(c=void 0),(0,l.IN)("writeSync",{fd:i,data:a,offset:r,length:o,encoding:s,position:c,fail:function(t){e=t.errMsg},success:function(e){t={bytesWritten:e.bytesWritten}}}),e)throw new Error(e);return t},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.r3)("read",e,{fd:""}))if((0,k.eP)(e.arrayBuffer)){var t=Object.assign({},e);f.cj&&D.Z&&D.Z.trace&&(t.arrayBufferId=D.Z.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,k.hj)(t.position)&&t.position<0?t.position=0:(0,k.o8)(t.position)||(0,k.Ft)(t.position)?t.position=null:(0,k.hj)(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,(0,l.IN)("read",t,{beforeSuccess:function(t){t.arrayBuffer=e.arrayBuffer},afterAll:function(){f.cj&&D.Z&&D.Z.untrace&&D.Z.untrace(t.arrayBufferId)}})}else(0,l.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fd,n=e.arrayBuffer;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,k.eP)(n))throw new TypeError("arrayBuffer must be an ArrayBuffer");var i=Object.assign({},e);f.cj&&D.Z&&D.Z.trace&&(i.arrayBufferId=D.Z.trace(i.arrayBuffer,"rw"),delete i.arrayBuffer),(0,k.hj)(i.position)&&i.position<0?i.position=0:(0,k.o8)(i.position)||(0,k.Ft)(i.position)?i.position=null:(0,k.hj)(i.position)||(i.position=0);var a=Number(i.length);Number.isNaN(a)?i.length=0:i.length=a;var r,o,s=Number(i.offset);if(Number.isNaN(s)?i.offset=0:i.offset=s,(0,l.IN)("readSync",P()(P()({},i),{},{fail:function(e){o=e.errMsg},success:function(e){r={bytesRead:e.bytesRead,arrayBuffer:n}}})),f.cj&&D.Z&&D.Z.untrace&&D.Z.untrace(i.arrayBufferId),o)throw new Error(o);return r},truncate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,l.IN)("truncate",e,{}))},truncateSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filePath,i=t.length;if(!n||"string"!=typeof n)throw new Error("filePath must be a string");if("number"!=typeof i&&(i=0),(i=Math.floor(i))<0&&(i=0),(0,l.IN)("truncateSync",{filePath:n,length:i,fail:function(t){e=t.errMsg}}),e)throw new Error(e)},ftruncate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,l.IN)("ftruncate",e))},ftruncateSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fd,i=t.length;if(!n||"string"!=typeof n)throw new Error("fd must be a string");if("number"!=typeof i&&(i=0),(i=Math.floor(i))<0&&(i=0),(0,l.IN)("ftruncateSync",{fd:n,length:i,fail:function(t){e=t.errMsg}}),e)throw new Error(e)}},N="",M="";p.Z.onReady((function(){try{N=p.Z.env.USER_DATA_PATH,M=p.Z.env.OPEN_DATA_PATH,delete p.Z.env.OPEN_DATA_PATH}catch(e){}}));var L={saveFile:["filePath"],saveFileSync:[1],readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0]},W=function(e){"string"==typeof e&&e.startsWith(N+"/__plugins__")&&Reporter.reportKeyValue({key:"Error",value:[1,"FrameworkError","Warning: MiniProgram is using reserved plugin path",e,__libVersionInfo__.version,0,"","",__libVersionInfo__.updateTime,"",0,"",0].map(encodeURIComponent).join(",")})},F=function(e,t){return"string"!=typeof e||!e.startsWith("wxfile://ad")&&((!(0,R.Av)()||!e.startsWith("wxfile://usr")&&!e.startsWith("http://usr"))&&!e.startsWith("opendata"===t?N:M))},B=function(e){var t={};return Object.keys(O).forEach((function(n){var i=O[n];t[n]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if(!L[n])return i.apply(void 0,r()(a));L[n].forEach((function(e){var t=n.endsWith("Sync")?a:a[0];W(t[e])}));var s=L[n].every((function(t){var i=n.endsWith("Sync")?a:a[0];return F(i[t],e)}));if(s)return i.apply(void 0,r()(a));if(n.endsWith("Sync"))throw new Error("".concat(n,":fail permission denied"));a=a[0]||{},(0,l.YG)(n,a,"permission denied")}})),t};const j={app:B("app"),game:B("game"),opendata:B("opendata")}},1925:(e,t,n)=>{"use strict";n.d(t,{p:()=>y,N:()=>m});var i=n(8392),a=n(8976),r=n(6965),o=n(2363),s=n(8947),c=n(9954),l=(n(3379),n(7264)),u=(n(266),n(9267)),d="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",p="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";(0,u.HD)(d)&&(d=d.replace(" ","")),(0,u.HD)(p)&&(p=p.replace(" ","-")),s.Z.onReady((function(){s.Z.appLaunchInfo.scene,s.Z.appLaunchInfo.sessionid||s.Z.appLaunchInfo.sessionId,(0,l.n)("onAppEnterForeground",(function(e){e&&e.scene&&e.scene,e&&(e.sessionid||e.sessionId)&&(e.sessionid||e.sessionId)}))}));new WeakSet;var f=[];Map,Math.random;var h=n(9947),v=r.Z.fs,g=!1;v&&v.FileReader&&s.Z.onReady((function(){var e=!1,t=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,c.b)({experimentId:t,experimentType:"Expt",success:function(t){var n,i;t&&1===Number(t.testConfig)&&(n=/readFile(?:Sync)?$/,i=1,f.push({match:n,version:i}),e=!0)},fail:function(e){}});var n=(0,a.J)("bindingReadFile");"".concat((g=e||n)?"binding":"jsapi"," readfile, abtest: ").concat(e,", permission: ").concat(n)}));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(g){var t=new v.FileReader;t.onerror=function(t){return(0,i.YG)("readFile",e,t)},t.onread=function(t){return(0,i.FE)({name:"readFile",args:e,res:{data:t}})},t.read(e.filePath,e.encoding)}else(0,i.IN)("readFile",e);else(0,i.YG)("readFile",e,"invalid length: ".concat(e.length));else(0,i.YG)("readFile",e,"invalid position: ".concat(e.position));else(0,i.YG)("readFile",e,"invalid encoding: ".concat(e.encoding))},m=function(e,t,n,a){if(!e||!(0,u.HD)(e))throw new h.iZ("invalid filePath: ".concat(e));if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new h.iZ("invalid encoding: ".concat(t));if(!(0,u.o8)(n)&&!(0,u.hj)(n))throw new h.iZ("invalid position: ".concat(n));if(!(0,u.o8)(a)&&!(0,u.hj)(a))throw new h.iZ("invalid length: ".concat(a));if(g)try{return v.readFileSync(e,t)}catch(o){throw new Error(o)}var r,o;if((0,i.IN)("readFileSync",{filePath:e,encoding:t,position:n,length:a,success:function(e){r=e.data},fail:function(e){o=e.errMsg}}),o)throw new Error(o);return r}},2984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(8392),a=n(2363);function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};return function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"operateWXDataFactory name=".concat(e,", APIName=").concat(t),n=o(c),"operateWXDataFactory ".concat(e,": transedReqArgs"),(0,i.gM)(Object.assign({},c,{data:Object.assign({api_name:t},r,n?{data:n}:void 0),requestInQueue:!c.hasOwnProperty("requestInQueue")||Boolean(c.requestInQueue)}),{beforeAll:function(t){"operateWXDataFactory ".concat(e,": beforeAll"),t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess:function(t){if(a.wZ&&"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data.data){t.rawData=t.data.data;var n=JSON.parse(t.data.data);t=Object.assign(t,n)}t.data.signature&&(t.signature=t.data.signature),t.data.encryptedData&&(t.encryptedData=t.data.encryptedData,t.iv=t.data.iv,t.data.cloud_id&&(t.cloudID=t.data.cloud_id)),delete t.data,t=s(t),"operateWXDataFactory ".concat(e,": transedRespArgs")}})}}},7100:(e,t,n)=>{"use strict";var i=n(8947),a=n(968),r=n(9366),o=(n(5810),{});i.Z.onReady((function(){o=i.Z.appLaunchInfo,(0,a.aI)()&&((0,r.OQ)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);o.referrerInfo=Object.assign({},o.referrerInfo,t.referrerInfo),delete t.referrerInfo,o=Object.assign({},o,t)})),(0,r.Ke)((function(e){e})))}))},5810:(e,t,n)=>{"use strict";n.d(t,{Ir:()=>d,x9:()=>p,Br:()=>f});var i,a,r=n(8676),o=n.n(r),s=n(3618),c=n(8947),l=n(8976),u=n(3201);c.Z.onReady((function(){var e=f(c.Z.appLaunchInfo||{});i=e.appLaunchInfo,a=e.publicLaunchInfo}));var d=function(){return a},p=function(){return i};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareInfo,n=e.scene,i=e.query||{};"object"===o()(t)&&null!==t&&(e.shareTicket=s.Z.set(t.shareKey,t.shareName),s.Z.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},1022===e.scene&&(i=e.query={}),!1===e.reLaunch&&(i={}),(0,u.B)(),void 0===e.reLaunch&&"hide"===(0,u.B)()&&(i={}),1103===e.scene&&(n=1001),1104===e.scene&&(n=1089),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!(0,l.J)("getGroupToolbarInfo")&&(n=1008);var a={scene:n,query:i,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return c.Z.debugLaunchInfo&&c.Z.debugLaunchInfo.lanDebugInfo&&!1!==c.Z.debugLaunchInfo.lanDebugInfo.useStaticServer&&(a.lanDebugInfo=c.Z.debugLaunchInfo.lanDebugInfo),e.chatType&&(a.chatType=e.chatType),{publicLaunchInfo:a,appLaunchInfo:e}}},8454:(e,t,n)=>{"use strict";n.d(t,{H:()=>rn});var i=n(3356),a=n.n(i),r=n(7015),o=n.n(r),s=n(8947),c=n(9567),l=n(2363),u=n(6965),d=u.Z.Image;Object.defineProperty,Object.getOwnPropertyDescriptor,Object.prototype.hasOwnProperty,new WeakMap;var p=n(1213),f=n(8392),h=n(2903),v=n(8676),g=n.n(v),y=function(e){return"object"===g()(e)&&null!==e},m=function(){var e={};return{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:e,currentFramebuffer:e}},_=function(){var e=arguments[arguments.length-1],t=Wt(e),n=Wt(this.canvas).flag,i=n.textures,a=n.currentTextureIndex,r=n.dirtyTextureMap,o=i[a];y(o)&&(t&&t.isSharedCanvas?r.set(o,!0):r.has(o)&&r.delete(o))},w=function(){var e=Wt(this.canvas).flag,t=e.textures,n=e.currentFramebuffer,i=e.dirtyFramebufferMap,a=e.framebufferTextureMap,r=e.dirtyTextureMap,o=e.framebufferRenderbufferMap,s=e.dirtyRenderbufferMap;if(t.some((function(e){return r.has(e)}))){i.set(n,!0);var c=a.get(n);y(c)&&r.set(c,!0);var l=o.get(n);y(l)&&s.set(l,!0)}},b={activeTexture:function(e){var t=e-this.TEXTURE0;Wt(this.canvas).flag.currentTextureIndex=t},bindTexture:function(e,t){var n=Wt(this.canvas).flag;n.textures[n.currentTextureIndex]=t},wxBindCanvasTexture:function(e,t){var n=Wt(this.canvas).flag,i=n.textures,a=n.currentTextureIndex,r=n.dirtyTextureMap;if(y(t)){var o=Wt(t),s={type:"WeixinCanvasTexture"};i[a]=s,o&&o.isSharedCanvas?r.set(s,!0):r.has(s)&&r.delete(s)}else i[a]=null},texImage2D:_,texSubImage2D:_,bindFramebuffer:function(e,t){var n=Wt(this.canvas).flag;n.currentFramebuffer=t||n.screenFramebuffer},framebufferTexture2D:function(e,t,n,i){var a=Wt(this.canvas).flag,r=a.framebufferTextureMap,o=a.currentFramebuffer;r.set(o,i)},framebufferRenderbuffer:function(e,t,n,i){var a=Wt(this.canvas).flag,r=a.dirtyRenderbufferMap,o=a.dirtyFramebufferMap,s=a.framebufferRenderbufferMap,c=a.currentFramebuffer;r.has(i)&&o.set(c,!0),s.set(c,i)},copyTexImage2D:function(){var e=Wt(this.canvas).flag,t=e.dirtyFramebufferMap,n=e.currentFramebuffer,i=e.textures,a=e.currentTextureIndex,r=e.dirtyTextureMap;if(t.has(n)){var o=i[a];y(o)&&r.set(o,!0)}},drawArrays:w,drawElements:w},I=n(8976),E=function(e){Reporter.reportKeyValue({key:"DeprecatedAPI",value:e})},T=n(968),k=function(e){return!Wt(e).secure},A=function(e,t){var n=Wt(t);if(!n)return!0;var i=n.secure;return!(!Wt(e).secure&&i)},C=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){var t=Wt(this.canvas),n=t.flag,i=n.textures,a=n.currentTextureIndex,r=i[a];if(r&&"WeixinCanvasTexture"===r.type)return void console.warn("在调用 wxBindCanvasTexture() 向 ".concat(a," 号纹理单元提交纹理后，不能再调用 ").concat(e,"() 向该纹理单元提交纹理"))}var o=this.canvas,s=/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1];if(A(o,s))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 ".concat(e," 不能传入安全 Canvas"))}},S=!1,x="unknown";s.Z.onReady((function(){S=(0,I.J)("screenCanvasReadPixels"),x=(0,T.KU)("screenCanvasReadPixelsFreely")}));var P,D={toDataURL:function(){return!!k(this)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!k(this.canvas)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:C("createPattern"),drawImage:C("drawImage"),texImage2D:C("texImage2D"),texSubImage2D:C("texSubImage2D"),wxBindCanvasTexture:C("wxBindCanvasTexture"),readPixels:function(){if(!Wt(this.canvas).secure)return!0;if(E("WebGLRenderingContext.readPixels"),S){var e=Wt(this.canvas).flag,t=e.dirtyFramebufferMap,n=e.currentFramebuffer;if(!t.has(n)||(E("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==x))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，绘制了 sharedCanvas 的画布不能 readPixels")}else E("screenCanvasReadPixelsNoPermission")}},R=u.Z.Canvas,O=u.Z.Image,N={"2d":null,webgl:null},M={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},L=new WeakMap;function W(){var e=new R;return e.width=1,e.height=1,e}function F(e){var t={};return Object.keys(e).forEach((function(n){var i=Object.getOwnPropertyDescriptor(e,n);if("function"!=typeof i.value)i.get||i.set?Object.defineProperty(t,n,{get:function(){if(i.get)return i.get.call(this)},set:function(e){i.set&&i.set.call(this,e)}}):Object.defineProperty(t,n,i);else{var a=e[n];t[n]=function(){if("function"==typeof D[n]){var e=D[n].apply(this,arguments);if(!0!==e)return e}return"function"==typeof b[n]&&b[n].apply(this,arguments),a.apply(this,arguments)}}})),t}var B,j=function(){if(P)return P;var e=W(),t=F(Object.getPrototypeOf(e)),n=t.getContext;return t.getContext=function(e,t){if(Wt(this).isSharedCanvas)return{};var i=n.call(this,e,t);return null===i||(/2d|webgl/.test(e)&&Object.setPrototypeOf(i,function(e){if(N[e])return N[e];var t=W().getContext(e),n=F(Object.getPrototypeOf(t));return N[e]=n,N[e]}(e)),L.set(i,this),Object.defineProperty(i,"canvas",{value:this,configurable:!1,writeable:!1})),i},P=t,t},U=n(6051),G=wxGA,V=n(9727),Z=n.n(V),H=0,Y=1,z=2,q=3,K={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267};B={},Z()(B,H,"thirdScriptError"),Z()(B,Y,"widgetThirdScriptError"),Z()(B,z,"gameThirdScriptError"),Z()(B,q,"gameSubContextThirdScriptError");var X=n(7587);function J(e){if(!Array.isArray(e)||e.some((function(e){return"string"!=typeof e||0===e.length})))return"invalid keyList"}var $=n(2984),Q=(0,$.Z)("getUserCloudStorage","webapi_getselfuserstorage",{},{},(function(e){var t=e.keyList;return{key:void 0===t?[]:t}}),(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,delete e.rawData,e})),ee=(0,$.Z)("getFriendCloudStorage","webapi_getfrienduserstorage",{},{},(function(e){var t=e.keyList;return{key:void 0===t?[]:t}}),(function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e})),delete e.user_item,delete e.rawData,e})),te=n(3618),ne=wxNativeConsole.createLogger("getGroupCloudStorage"),ie=(0,$.Z)("getGroupCloudStorage","webapi_getgroupuserstorage",{},{},(function(e){var t=e.keyList,n=void 0===t?[]:t,i=e.shareTicket,a=te.Z.get(i),r=a.shareKey,o=a.shareName;return ne.info("shareTicket=",i),ne.info("shareInfo=",JSON.stringify(a)),{key:n,share_key:r,share_name:o}}),(function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e})),delete e.user_item,delete e.rawData,e})),ae=(0,$.Z)("getPotentialFriendList","webapi_game_potential_friends",{},{},(function(){}),(function(e){return e.list=e.friend_list,delete e.friend_list,delete e.rawData,e})),re=(0,$.Z)("getGroupInfo","webapi_getshareinfo_byopengid",{},{},(function(e){return{opengid_list:[e.openGId]}}),(function(e){return e.name=e.info_list[0].room_topic,delete e.info_list,delete e.rawData,e}));var oe=n(6015),se={};function ce(){return Object.keys(se).map((function(e){return"".concat(e,"=").concat(se[e])})).join("&")}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={openId:e.openId,title:e.title||s.Z.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,success:e.success,fail:e.fail,complete:e.complete};t.query=ce(),(0,oe.HP)(t,"shareAppMessageToSpecificContactDirectly")}var ue=n(5770),de=(0,ue.Ce)(!1,"getUserInfo",!1,!0),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openIdList,n=void 0===t?[]:t,i=e.lang,a=void 0===i?"en":i,r=e.success,o=e.fail,s=e.complete;de({apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:n,lang:a},success:function(e){var t=JSON.parse(e.respData.data).userInfoList||[];"function"==typeof r&&r({errMsg:e.errMsg,data:t})},fail:o,complete:s})},fe=(0,$.Z)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",{},{},(function(){}),(function(e){return e.keys=e.data_key,delete e.data_key,delete e.rawData,e})),he=n(3379),ve=n.n(he),ge=n(4657),ye=n(5645),me=n(7163),_e=n.n(me),we=n(5843),be=n.n(we),Ie=n(7615),Ee=n.n(Ie),Te=n(4742),ke=n.n(Te),Ae=n(7541),Ce=n.n(Ae),Se=n(12),xe=n.n(Se),Pe=n(9515),De=n(6604),Re=n(6301),Oe=[],Ne=null,Me=null,Le=!1,We=[],Fe=!1,Be="",je=0,Ue=0,Ge=function(e){Ne=e;var t=!1,n=!0;e.deviceOrientation!==Be&&(t=!0),e.size.windowWidth!==je&&(t=!0),e.size.windowHeight!==Ue&&(t=!0),function(e){e.deviceOrientation&&(Be=e.deviceOrientation),je=e.size.windowWidth,Ue=e.size.windowHeight}(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(Fe=!0),"auto"===e.pageOrientation.originalPageOrientation||Fe||(t=!1,n=!1)),"undefined"!=typeof __appServiceEngine__&&__appServiceEngine__.isFramesetMode()&&(n=!1),t&&(Le=!0);var i=e.changedWebviewIds;n&&i&&i.forEach((function(e){We.indexOf(e)<0&&We.push(e)})),Me||(Me=setTimeout((function(){Me=null;var e=Le;Le=!1;var t=We;We=[];var n={deviceOrientation:Ne.deviceOrientation,size:Ne.size};e&&Oe.forEach((function(e){__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(n)})),t.forEach((function(e){var t="undefined"!=typeof __appServiceEngine__?__appServiceEngine__.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((function(){t.__callPageLifeTime__("onResize",n)}),"at Resize callback function")()}))}),16))};(0,f.jQ)("onViewDidResize",(function(e){Ge(e)}));var Ve="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png",Ze="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png",He=0,Ye=0;s.Z.onReady((function(){var e,t=(0,Re.Ew)();He=t.screenWidth,Ye=t.screenHeight,e=function(e){He=e.windowWidth,Ye=e.windowHeight},Oe.push(e)}));var ze=function(e){var t=e.cancelText,n=e.confirmText,i=e.icon,a=He>Ye;return{mask:{width:He,height:Ye,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:a?(He-Ye)/2:0,width:a?Ye:He},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:a?(He-Ye)/2:0,width:a?Ye:He},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:a?Ye:He},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:a?Ye:He},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:i?0:64,marginBottom:i?0:15,width:a?.9*Ye:.9*He},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:a?Ye:He},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:n?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:t?120:184}}},qe=function(e){ke()(n,e);var t=Ce()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.title,r=i.content,o=i.icon,s=i.confirmText,c=i.cancelText,l=i.confirm,u=i.cancel,d=i.style,p=void 0===d?{}:d;_e()(this,n),e=t.call(this);var f=(0,De.Wj)(Ee()(e)),h='<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="'.concat(Ve,'" />\n          <text id="title" value="').concat(a,'" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          ').concat(o?'<image id="icon" src="'.concat(!0===o?Ze:o,'" />'):"",'\n          <text id="content" value="').concat(r,'" />\n        </view>\n        <view id="footer">\n          ').concat(c?'<text id="cancel" value="'.concat(c,'" />'):"","\n          ").concat(s?'<text id="confirm" value="'.concat(s,'" />'):"","\n        </view>\n      </view>\n    </view>"),v=xe()(h),g=v.root,y=ze(arguments[0]);return Object.keys(p).forEach((function(e){y[e]&&Object.assign(y[e],p[e])})),De.S1.call(Ee()(e),g,y),Pe.uo.add(f.container),f.close&&f.close.on("click",(function(){"function"==typeof u&&u()})),f.cancel&&f.cancel.on("click",(function(){"function"==typeof u&&u()})),f.confirm&&f.confirm.on("click",(function(){"function"==typeof l&&l()})),e}return be()(n,[{key:"destroy",value:function(){var e=(0,De.Wj)(this);Pe.uo.remove(e.container),(0,De.bn)(this)}}]),n}(De.wA);function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.DD?((0,ye.I6)(Object.assign({},e,{showCancel:!!e.cancelText,success:function(t){var n=t.confirm,i=t.cancel;n?e.confirm&&e.confirm():i&&e.cancel&&e.cancel()}})),{destroy:function(){}}):new qe(e)}var Xe=n(9267);n(2208);var Je=0,$e=2,Qe=3;var et=n(5810),tt=new ge.Q("InteractiveStorageModified",!0),nt={add:1},it=(0,T.Fr)(pe);var at=function(e){var t=e.actionId,n=e.actId,i=void 0===n?0:n,a=e.receiverOpenId,r=e.detail,o=e.opNum,s=void 0===o?0:o,c=e.operationType,l=[t,i,0,r,s,void 0===c?0:c,a].join(",");"[GameInteractiveData][reportAction] ".concat(l),Reporter.reportKeyValue({key:"GameInteractiveData",value:l})},rt=function(e){Reporter.reportIDKey({key:e})},ot=(0,$.Z)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",{},{},(function(e){var t=e.key,n=e.operation,i=e.opNum,a=e.toUser;return{key:t,operation:n,debug:e.debug,opNum:i,toUser:a,action:e.action,object:e.object,ratio:e.ratio,quiet:!!e.quiet,op_num:i,to_user:a,random_number:Date.now(),randomNumber:Date.now()}}),(function(e){var t,n,i=e.json_resp,a=e.inner_errcode,r=e.inner_errmsg,o="modifyFriendInteractiveStorage:fail ";"[modifyFriendInteractiveStorage][callback] errMsg=".concat(e.errMsg," jsonResp=").concat(i,", innerErrCode=").concat(a,", innerErrMsg=").concat(r),delete e.json_resp,delete e.rawData,delete e.inner_errcode,delete e.inner_errmsg;try{t=JSON.parse(i)}catch(e){t={},"parse json_resp fail: ".concat(e.message)}if((n=t.log)&&n.split("\n").map(decodeURIComponent).forEach((function(e){var t=parseInt(e.substr(0,1),10),n="[JSServer]".concat(e.substr(1));switch(t){case Je:console.log(n);break;case $e:console.warn(n);break;case Qe:console.error(n)}})),!(0,Xe.o8)(a)&&0!==a)return e.errMsg="".concat(o).concat(r),void(e.errCode=a);try{var s=JSON.parse(t.base_resp);if(0!==s.errcode)return e.errCode=s.errmsg,void(e.errMsg="".concat(o).concat(s.errmsg));e.errCode=0}catch(t){e.errCode=-1,e.errMsg="".concat(o).concat(t.message),"".concat(o).concat(t.message)}})),st=n(1925),ct=n(9947),lt=(u.Z.fs,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,f.IN)("readCompressedFile",e)}),ut="weapp://wechat-game-runtime",dt="readFile";var pt=globalThis,ft={};void 0!==u.Z.WebAssembly?ft=u.Z.WebAssembly:void 0!==pt.WebAssembly&&(ft=pt.WebAssembly);var ht={Table:ft.Table,Memory:ft.Memory,Global:ft.Global,Instance:ft.Instance,instantiate:function(e,t){if("string"!=typeof e)return Promise.reject(new Error("WebAssembly.instantiate: first argument must be a string"));if(/^(wxfile|https?):/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: not support wxfile: or http: path"));if(!/\.wasm(\.br)?$/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br"));if(l.jP)return new Promise((function(n,i){!function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filePath,i=t.encoding,a=new XMLHttpRequest;a.open("POST","".concat(ut,"/wxfs/").concat(btoa(n)),!0),a.setRequestHeader("content-type","application/json"),a.responseType="string"==typeof i?"text":"arraybuffer",a.onload=function(){e="string"==typeof i?a.responseText:a.response,(0,f.FE)({name:dt,args:t,res:{data:e}})},a.onerror=function(e){(0,f.YG)(dt,t,e.message)},a.send(JSON.stringify({}))}({filePath:e,success:function(e){n(ft.instantiate(e.data,t))},fail:function(e){var t=e.errMsg;i(new Error(t.replace(/^\w+:fail\s*/,"")))}})}));if(l.cj||l.wZ){var n=ft.instantiate(e,t);return"Promise"===(0,Xe.Em)(n)?n:Promise.resolve(n)}var i=st.p;return l.gm&&/\.br$/.test(e)&&(i=lt),new Promise((function(n,a){i({compressionAlgorithm:"br",filePath:e,success:function(e){n(ft.instantiate(e.data,t))},fail:function(e){var t=e.errMsg;a(new Error(t.replace(/^\w+:fail\s*/,"")))}})}))}};pt.WXWebAssembly=ht,delete pt.WebAssembly;var vt={Table:ft.Table,Memory:ft.Memory,Global:ft.Global,Instance:ft.Instance,compile:ft.compile,compileStreaming:ft.compileStreaming,instantiateStreaming:ft.instantiateStreaming,validate:ft.validate,CompileError:ft.CompileError,LinkError:ft.LinkError,Module:ft.Module,RuntimeError:ft.RuntimeError,instantiate:function(){var e;return Promise.resolve((e=ft).instantiate.apply(e,arguments))}},gt=(0,$.Z)("getGameLifeProfile","webapi_getgamelifeprofile",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),yt=(0,$.Z)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),mt=(0,$.Z)("interactGameLifeTag","webapi_interactgamelifetag",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),_t=function(e){var t=e.url,n=e.success,i=e.fail,a=e.complete;(0,f.IN)("private_openUrl",{url:t,isNativeStyle:!0,success:n,fail:i,complete:a})},wt=n(809),bt=n(3541);var It=(0,$.Z)("gameTransfer","webapi_game_transfer",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),Et=(__safeway__.apiSign.makeApiSign,{Component:De.wA,getPrivateThis:De.Wj,removePrivateThis:De.bn,create:De.Ue,init:De.S1,webviewLayout:Pe.uo,nativeviewLayout:Pe._w,xmlParser:xe()}),Tt={Kanata:Kanata,wxGA:G,reportIDKey:function(e){var t=e.id,n=e.key,i=e.value;return Reporter.reportIDKey({id:t,key:n,value:i})},reportKeyValue:function(e){var t=e.key,n=e.value,i=e.immediately;return"number"!=typeof t||Object.values(K).includes(t)?Reporter.reportKeyValue({key:t,value:n,immediately:i}):Reporter.reportKeyValue({key:t,value:n,immediately:i,number:!0})},getXLogManager:function(){return X.s},getUserCloudStorage:function(e){var t=J(e.keyList);t?(0,f.YG)("getUserCloudStorage",e,t):Q(e)},getFriendCloudStorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=J(e.keyList);t?(0,f.YG)("getFriendCloudStorage",e,t):ee(e)},getGroupCloudStorage:function(e){var t=J(e.keyList);t?(0,f.YG)("getGroupCloudStorage",e,t):setTimeout((function(){e.shareTicket?te.Z.get(e.shareTicket)?(ne.info("use args.shareTicket",e.shareTicket),ie(e)):(0,f.YG)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):te.Z.lastShareTicket&&te.Z.get(te.Z.lastShareTicket)?(ne.info("use lastShareTicket",te.Z.lastShareTicket),ie(Object.assign({shareTicket:te.Z.lastShareTicket},e))):(0,f.YG)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},getPotentialFriendList:ae,getGroupInfo:function(e){setTimeout((function(){re(Object.assign({},e,{success:function(t){return(0,f.FE)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}}))}))},shareMessageToFriend:le,getUserInfo:pe,getUserCloudStorageKeys:fe,modifyFriendInteractiveStorage:function(e){rt("modifyFriendInteractiveStorage");var t=Object.assign({},e,{success:function(t){(0,f.FE)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||tt.emit("modified","".concat(e.key))}});t.quiet?function(e){var t=(0,et.x9)(),n=(0,oe.A5)();!n&&t&&t.referrerInfo&&(n=t.referrerInfo.messageExtraData),n&&3===n.shareType&&n.userInfo?ot(Object.assign(e,{toUser:n.userInfo.openID})):(0,f.YG)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")}(t):t.toUser?s.Z.modifyFriendInteractiveStorageTemplates?function(e){it({openIdList:[e.toUser]}).then((function(t){var n,i,a,r,o=t.data[0].nickName,c=parseInt(e.key,10),l=e.toUser,u=e.opNum,d=nt[e.operation],p=ve()(s.Z.modifyFriendInteractiveStorageTemplates);try{for(p.s();!(r=p.n()).done;)if((a=r.value).key===e.key){var h=a.ratio?" x".concat(u*a.ratio," ？"):"？";n="确认".concat(a.action," ").concat(o," ").concat(a.object).concat(h),i=encodeURIComponent(n);break}}catch(e){p.e(e)}finally{p.f()}if(!n)throw new Error("invalid key");var v={actId:c,receiverOpenId:l,detail:i,opNum:u,operationType:d};at(Object.assign({actionId:1},v)),rt("modifyFriendInteractiveStorageShowModal");var g=Ke({content:n,title:"".concat(a.action).concat(a.object),confirmText:"确认".concat(a.action),confirm:function(){g.destroy(),ot(Object.assign({action:a.action,object:a.object,ratio:a.ratio},e,{success:function(t){if(e.success&&e.success(t),!t.errCode)var n="string"==typeof e.title,i=Ke({title:"".concat(a.action).concat(a.object),icon:!0,content:n?"已".concat(a.action,"，马上告诉微信好友？"):"已".concat(a.action),cancelText:n?"下次吧":"我知道了",confirmText:!!n&&"告诉他",cancel:function(){i.destroy()},confirm:function(){i.destroy(),le({openId:l,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),at(Object.assign({actionId:2},v)),rt("modifyFriendInteractiveStorageConfirm")},cancel:function(){g.destroy(),(0,f.YG)("modifyFriendInteractiveStorage",e,"cancel"),at(Object.assign({actionId:3},v)),rt("modifyFriendInteractiveStorageCancel")}})})).catch((function(t){var n=t.errMsg,i=t.message;(0,f.YG)("modifyFriendInteractiveStorage",e,n||i)}))}(t):s.Z.modifyFriendInteractiveStorageConfirmWording?function(e){it({openIdList:[e.toUser]}).then((function(t){var n=t.data[0].nickName,i=s.Z.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",n),a={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(i),opNum:e.opNum,operationType:nt[e.operation]};at(Object.assign({actionId:1},a)),rt("modifyFriendInteractiveStorageShowModal"),(0,ye.I6)({content:i,confirmText:"确定",cancelText:"取消",success:function(t){t.confirm?(ot(e),at(Object.assign({actionId:2},a)),rt("modifyFriendInteractiveStorageConfirm")):((0,f.YG)("modifyFriendInteractiveStorage",e,"cancel"),at(Object.assign({actionId:3},a)),rt("modifyFriendInteractiveStorageCancel"))}})})).catch((function(t){var n=t.errMsg;(0,f.YG)("modifyFriendInteractiveStorage",e,n)}))}(t):(0,f.YG)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):(0,f.YG)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},WebAssembly:vt,getGameLifeProfile:gt,getGreetingControlInfo:yt,interactGameLifeTag:mt,openGameLifeAccountInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete,a=e.query,r="https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html";_t({url:(0,ct.cE)(r,a),success:t,fail:n,complete:i})},openGameLifeMiniGameTransfer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete,a=e.query,r="https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html";_t({url:(0,ct.cE)(r,a),success:t,fail:n,complete:i})},Function:Function.prototype.constructor,createCanvas:function(){return Xt.apply(void 0,arguments)},createScreenCanvas:function(){return Jt.apply(void 0,arguments)},createWebView:function(e){return new Pe.kh(e)},navigateToMiniProgramDirectly:function(e){return(0,wt.iy)(e,e)},privateOpenUrl:bt.n,gameTransfer:It,coverview:Et,launchApplicationDirectly:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,I.J)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,l.cj?(0,I.J)("launchApplicationDirectly")?(0,f.IN)("launchApplication",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((function(){return(0,f.YG)("launchApplicationDirectly",e,"no permission")})):(0,f.IN)("launchApplicationDirectly",e,{})},encode:function(e){if(l.gm){var t=null;return(0,f.IN)("encodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.buffer},fail:function(){}})),t}return u.Z.encodeArrayBuffer(e.data,e.format)},decode:function(e){if(l.gm){var t="";return(0,f.IN)("decodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.result},fail:function(){}})),t}return u.Z.decodeArrayBuffer(e.data,e.format)}},kt={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023},At=Object.keys(kt).map((function(e){return kt[e]})),Ct={},St=["getUserCloudStorage","getFriendCloudStorage","getGroupCloudStorage","getPotentialFriendList","getGroupInfo","shareMessageToFriend","getUserCloudStorageKeys","modifyFriendInteractiveStorage"],xt={},Pt=function(e){return function(e){if(xt[e])return xt[e];Ct[e]={},(0,f.IN)("getPluginPermissionBytes",{pluginList:[{indexes:At,pluginId:e}],success:function(t){var n=t.pluginPermissionMap;if(n&&n[e])for(var i=0;i<n[e].length;i++){var a=At[i];Ct[e][a]=1===n[e][i]}}});var t={platform:s.Z.platform};for(var n in Tt){var i=kt[n],a=Ct[e][i];("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||a)&&("createCanvas"===n&&(Dt=!0),-1===St.indexOf(n)?t[n]=Tt[n]:(0,I.J)("engineOpenData")&&(Dt=!0,t[n]=Tt[n]))}return xt[e]=t,xt[e]}(e)},Dt=!1,Rt=function(){return Dt},Ot=u.Z.Canvas,Nt=new WeakMap,Mt=0,Lt=function(e){return Nt.get(e).canvasId},Wt=function(e){if(null!=e)return Nt.get(e)};function Ft(e){(0,U.Ft)()&&(0,f.IN)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete:function(e){var t=e.errMsg;"[insertImageView]errMsg=".concat(t)}})}function Bt(e){(0,U.Ft)()&&(0,f.IN)("removeImageView",{viewId:e,complete:function(e){var t=e.errMsg;"[removeImageView]errMsg=".concat(t)}})}function jt(e){if((0,U.Ks)()){var t=e.getContext;e.getContext=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var r=t.call.apply(t,[e].concat(i)),o=r.getSupportedExtensions,s=r.getExtension;return o&&(r.getSupportedExtensions=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=o.call.apply(o,[r].concat(t));if(Array.isArray(i)){var a=new Set(i);return a.delete("WEBGL_compressed_texture_etc1"),a.delete("WEBGL_compressed_texture_etc"),Array.from(a)}return i}),s&&(r.getExtension=function(e){return"WEBGL_compressed_texture_etc1"===e||"WEBGL_compressed_texture_etc"===e?null:s.call(r,e)}),r}}}var Ut,Gt,Vt,Zt=!1,Ht=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,zt=Object.prototype.hasOwnProperty,qt=["getContext","toDataURL"],Kt=["width","height","tagName","nodeName"],Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.secure,n=void 0!==t&&t,i=e.isSharedCanvas,a=void 0!==i&&i,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=new Ot,c=l.gm?s.Z.appConfig.subContext:s.Z.subContext,u="string"==typeof c,d=!!u&&r;if(jt(o),l.gm){var v=o.__proto__.__proto__;o.__proto__=new Proxy(o.__proto__,{setPrototypeOf:function(e,t){return v=t,!0},getPrototypeOf:function(){return v}})}l.jP||l.gm||zt.call(o,"width")||(Kt.forEach((function(e){for(var t=o;t;t=t.__proto__)if(zt.call(t,e)){Ht(o,e,Yt(t,e)),Ht(o,e,{configurable:!1});break}})),Ht(o,"style",{value:{},writable:!0}),Ut||(Ut={},qt.forEach((function(e){for(var t=o;t;t=t.__proto__)if(zt.call(t,e)){Ht(Ut,e,Yt(t,e));break}}))),o.__proto__=Ut),d&&(Object.setPrototypeOf(o,j()),"Object"===(0,Xe.Em)(o)&&Object.defineProperty(j(),Symbol.toStringTag,{get:function(){return"HTMLCanvasElement"}})),void 0===o.__id&&(o.__id=Mt++);var g=!1;Zt||(Zt=!0,g=!0),"createCanvas isScreenCanvas=".concat(g),Nt.set(o,{canvasId:o.__id,secure:n,isSharedCanvas:a,isScreenCanvas:g,flag:m()});try{delete o.__id}catch(e){}var y=l.gm?o:Lt(o),_=function(e){if(n){var t=h.L.set(e.tempFilePath);e.tempFilePath=t}Bt(y)};return o.toTempFilePathSync=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Nt.get(this),a=!!i&&i.isScreenCanvas;if("canvas.toTempFilePathSync isScreenCanvas=".concat(a),Ft(y),(0,f.IN)("canvasToTempFilePathSync",Object.assign({},n,{canvasId:y},{isScreenCanvas:a,success:function(t){e=t.tempFilePath},fail:function(e){t=e.errMsg}}),{beforeSuccess:_}),Bt(y),t)throw new Error(t);return e},o.toTempFilePath=(0,p.gA)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Nt.get(o),n=!!t&&t.isScreenCanvas;"canvas.toTempFilePathSync isScreenCanvas=".concat(n),(0,f.IN)("canvasToTempFilePath",Object.assign({},e,{canvasId:y,isScreenCanvas:n}),{beforeSuccess:_})})),o};s.Z.onReady((function(){if((0,T.aI)()){(t=s.Z.plugins||s.Z.gamePlugins)&&Object.keys(t).forEach((function(e){var n=t[e].provider;Pt(n)}));var e="string"==typeof(l.gm?s.Z.appConfig.subContext:s.Z.subContext)||Rt();(function(e){if((0,U.LN)()){var t=e.getContext;e.getContext=function(n,i){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if("webgl"===n||"2d"===n){var s=Object.assign({},i);return s.preserveDrawingBuffer=!0,t.call.apply(t,[e,n,s].concat(r))}return t.call.apply(t,[e,n,i].concat(r))}}})(Gt=Xt({secure:e})),jt(Gt),Object.keys(M).forEach((function(e){if(!M[e]){var t=W(),n=t.getContext("2d");if("Canvas"===e)M[e]=Object.getPrototypeOf(t);else if("Image"===e)M[e]=Object.getPrototypeOf(new O);else if("CanvasRenderingContext2D"===e)M[e]=Object.getPrototypeOf(n);else if("CanvasPattern"===e){var i=n.createPattern(t,"repeat");M[e]=Object.getPrototypeOf(i)}else if("CanvasGradient"===e){var a=n.createLinearGradient(0,0,100,100);M[e]=Object.getPrototypeOf(a)}else if("ImageData"===e){var r=n.getImageData(0,0,10,10);M[e]=Object.getPrototypeOf(r)}else if("TextMetrics"===e){var o=n.measureText("123");M[e]=Object.getPrototypeOf(o)}}})),(Vt=Xt({secure:e,isSharedCanvas:!0})).width=s.Z.screenWidth,Vt.height=s.Z.screenHeight}var t}));var Jt=function(){return new u.Z.ScreenCanvas},$t=1,Qt=!1;function en(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.font="".concat(t,"px -apple-system"),n?e.measureText(n).width:0}s.Z.onReady((function(){$t=s.Z.pixelRatio,(0,ue.JM)({apiName:"webapi_game_issharemarkenabled",reqData:{lib_version:c.c},success:function(e){var t=JSON.parse(e.rawData);Qt=t.is_enabled}})}));var tn,nn=function(e){return new Promise((function(t){if(e)if("transparent"===e)t({width:0,height:0});else{var n=new d;n.onload=function(){return t(n)},n.onerror=function(){return t()},n.src=e}else t()}))},an=(tn=a()(o().mark((function e(t){var n,i,a,r,s,c,l,u,d,p,f,h,v,g,y,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.background,i=t.label,a=t.icon,r=t.tag,s=t.more,c=void 0!==s&&s,l=t.base64,u=void 0!==l&&l,n){e.next=3;break}return e.abrupt("return",n);case 3:return d=Xt({secure:Rt()}),p=d.getContext("2d"),d.width=210*$t,d.height=168*$t,"transparent"===n&&(d.height=40*$t),p.fillStyle="rgba(255, 255, 255, 0)",p.fillRect(0,0,d.width,d.height),e.next=12,nn(n);case 12:if(f=e.sent){e.next=15;break}return e.abrupt("return",n);case 15:if(f.width/f.height>=1.25?p.drawImage(f,0,0,1.25*f.height,f.height,0,0,d.width,d.height):f.width/f.height<1.25&&p.drawImage(f,0,0,f.width,.8*f.width,0,0,d.width,d.height),h=en(p,12*$t,i),!r){e.next=45;break}v=en(p,10*$t,r),p.fillStyle="rgba(0, 0, 0, 0.5)",p.beginPath(),p.moveTo(0,8*$t),p.lineTo(h+v+12*$t,8*$t),p.arc(h+v+12*$t,20*$t,12*$t,1.5*Math.PI,2.5*Math.PI),p.lineTo(0,32*$t),p.closePath(),p.fill(),p.fillStyle="#F36D00",p.beginPath(),p.moveTo(4*$t,14*$t),p.arc(6*$t,14*$t,2*$t,Math.PI,1.5*Math.PI),p.lineTo(v+10*$t,12*$t),p.arc(v+10*$t,14*$t,2*$t,1.5*Math.PI,2*Math.PI),p.lineTo(v+12*$t,26*$t),p.arc(v+10*$t,26*$t,2*$t,2*Math.PI,2.5*Math.PI),p.lineTo(6*$t,28*$t),p.arc(6*$t,26*$t,2*$t,.5*Math.PI,Math.PI),p.closePath(),p.fill(),p.fillStyle="#FFFFFF",p.fillText(r,8*$t,23.5*$t),en(p,12*$t),p.fillText(i,v+16*$t,24*$t),e.next=79;break;case 45:if(!a){e.next=68;break}return e.next=48,nn(c&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHtJREFUeNpj/v//v3RDQwNDY2PjLwYkwATEM4F4B1ABL7pEChALoUsyA434AjRqLZCdCcTBQPZqkLGMMBVA1RJAaj8QvwNiD0Zkc5EkHzMxoIL/UMzIhKRaHKr6I8guRiyC7oyMjJ8YsQnC/DEXXRAEWIA4A4g/IQuCAAABEju5SK8v4wAAAABJRU5ErkJggg==");case 48:return g=e.sent,y=g?10*$t:0,p.fillStyle="rgba(0, 0, 0, 0.5)",p.beginPath(),p.moveTo(0,8*$t),p.lineTo(h+y+22*$t,8*$t),p.arc(h+y+22*$t,20*$t,12*$t,1.5*Math.PI,2.5*Math.PI),p.lineTo(0,32*$t),p.closePath(),p.fill(),e.next=60,nn(a);case 60:(m=e.sent)&&m.width&&m.height&&p.drawImage(m,6*$t,12*$t,16*$t,16*$t),g&&g.width&&g.height&&p.drawImage(g,h+30*$t,14*$t,6*$t,12*$t),p.fillStyle="#FFFFFF",en(p,12*$t),p.fillText(i,26*$t,24*$t),e.next=79;break;case 68:p.fillStyle="rgba(0, 0, 0, 0.5)",p.beginPath(),p.moveTo(0,8*$t),p.lineTo(h+2*$t,8*$t),p.arc(h+2*$t,20*$t,12*$t,1.5*Math.PI,2.5*Math.PI),p.lineTo(0,32*$t),p.closePath(),p.fill(),p.fillStyle="#FFFFFF",en(p,12*$t),p.fillText(i,6*$t,24*$t);case 79:return e.abrupt("return",u?d.toDataURL():d.toTempFilePathSync());case 80:case"end":return e.stop()}}),e)}))),function(e){return tn.apply(this,arguments)}),rn=function(e){return new Promise((function(t){Qt&&e.imageUrl?(0,ue.JM)({apiName:"webapi_game_getsharemark",reqData:{lib_version:c.c},success:function(n){var i=n.rawData,a=JSON.parse(i);(a=(a.mark_list||[])[0])||t(e),a&&an({background:e.imageUrl,label:a.wording,icon:a.head_img_url,tag:a.mark_word}).then((function(n){e.imageUrl=n,e.extra={shareCardMarker:{label:a.mark_type}},t(e)})).catch((function(){return t(e)}))},fail:function(){return t(e)}}):t(e)}))}},6015:(e,t,n)=>{"use strict";n.d(t,{HP:()=>M,A5:()=>D,kv:()=>R});n(1503);var i=n(6326),a=n(8392),r=n(3618),o=n(2903),s=(n(3638),n(2363)),c=function(e){(0,a.gM)(Object.assign({},e,{data:{api_name:"webapi_reportgroupshare",data:{path:e.path,share_key:e.shareKey}},success:function(t){s.wZ&&"string"==typeof t.data&&(t.data=JSON.parse(t.data));var n=JSON.parse(t.data.data);0===n.errcode?(t.expiresIn=n.expires_in,t.groupMsgTicket=n.group_msg_ticket,delete t.data,(0,a.FE)({name:"getGroupMsgTicket",args:e,res:t})):(0,a.YG)("getGroupMsgTicket",e,n.errmsg,n.errcode)},fail:function(t){(0,a.YG)("getGroupMsgTicket",e,t.errMsg,-1)}}))},l=n(968),u=n(1484),d=n(8947),p=n(5645),f=n(2984),h=(0,f.Z)("getIAPInfo","webapi_getiapinfo");var v=n(266),g=n(8676),y=n.n(g),m={};function _(e){var t=e.result,n=e.shareType,i=e.canUseCustomImageUrl,a=e.imageUrlId,r=void 0===a?"":a,o=e.transformedImageUrl,s=void 0===o?"":o;"[reportShare], result=".concat(t,", shareType=").concat(n,", canUseCustomImageUrl=").concat(i,", imageUrlId=").concat(r,", transformedImageUrl=").concat(s);var c=m.query,l=[],u=d.Z.accountInfo&&d.Z.accountInfo.nickname||"";if(c&&"object"===y()(c))for(var p in c)l.push("".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(c[p])));var f=[m.scene,m.scene_note,m.sessionid,"",u,Reporter.getAppType(),t,0,l.join("&"),n,i?1:2,r,s,d.Z.host?d.Z.host.appId:""].map(encodeURIComponent).join(",");"[reportShare] value=".concat(f),Reporter.reportKeyValue({key:"Share",value:f}),Reporter.submit()}var w=n(7239),b=n(8976),I=n(4416);n(7100);n(5774),n(313);var E=n(1796),T=(n(5179),!0),k={};d.Z.onReady((function(){(0,l.KU)("shareCustomImageUrl")||((0,f.Z)("getShareConfig","webapi_getshareconf")({success:function(e){Array.isArray(e.share_link_list)&&(k=e.share_link_list.reduce((function(e,t){return e[t.id]=t.url,e}),{}))},fail:function(e){}}),T=!1)}));var A=function(){return k},C=function(){return T};(0,f.Z)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",{},{},(function(e){return{itemList:[{branchId:e.branchId,branchDim:e.branchDim,eventType:e.eventType}]}})),(0,f.Z)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",{},{},(function(e){return{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:e.reportType,query:e.query}]}}));var S=new i.Z,x=null,P=null,D=function(){return P};d.Z.onReady((function(){(0,l.aI)()&&n(9366).dN((function(e){if(P={},e.referrerInfo&&e.referrerInfo.messageExtraData){var t=P=e.referrerInfo.messageExtraData,n=t.userInfo,i=t.shareType;if(i&&n){var a=[Reporter.getAppType(),i,n.openID,e.path||"",(0,v.PL)()].join(",");Reporter.reportKeyValue({key:"ShareCardClick",value:a})}}}))}));var R=function(e){(0,a.IN)("showUpdatableMessageSubscribeButton",{shareKey:e})},O=function(e){return function(t,n){var i=t.shareInfos;if(delete t.shareInfos,void 0!==i&&i.length>0)if(i=i.filter((function(e){return e.shareKey&&e.shareName})),t.shareTickets=i.map((function(e){return R(e.shareKey),r.Z.set(e.shareKey,e.shareName)})),s.gm)delete t.shareTickets,delete t.shareInfos,n();else{if(e.getGroupMsgTicket)return void Promise.all(i.map((function(e){return new Promise((function(t){!function(e){c(e)}({shareKey:e.shareKey,success:function(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail:function(){t({groupMsgTicket:""})}})}))}))).then((function(e){return t.groupMsgInfos=e,n()})).catch((function(){}));n()}else n()}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"_shareAppMessage, APIName=".concat(t);var r=C(),c=A(),d="string"==typeof e.path?e.path:"",f="string"==typeof e.query?e.query:"",h="",v=0;switch(t){case"shareAppMessage":v=1;break;case"shareAppMessageDirectly":v=2;break;case"shareAppMessageToSpecificContactDirectly":v=3}if(f.length>2e3&&(console.warn('shareAppMessage: query exceed max length limit 2000: "'.concat(f.length,'"')),f=f.substr(0,2e3)),f&&(d="".concat(d,"?").concat(f)),e.imageUrl=o.L.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!r){if(!c[e.imageUrlId])return"找不到 imgeUrl，imageUrlId=".concat(e.imageUrlId),(0,p.CF)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void g(2);h=e.imageUrl=c[e.imageUrlId]}function g(t){_({result:t,shareType:v,canUseCustomImageUrl:r,imageUrlId:e.imageUrlId,transformedImageUrl:h})}(0,a.IN)(t,Object.assign(n,e,{path:d,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:v,userInfo:x},e.extra),success:function(t){(0,E.Ku)("shareAppMessage",t),(i||!s.gm&&(0,l.KU)("share"))&&(0,a.FE)({name:"shareAppMessage",args:e,res:t}),g(1),setTimeout((function(){(0,w.y4)(w.F0.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500)},fail:function(t){var n=t.errMsg.replace("shareAppMessage:fail","");(i||!s.gm&&(0,l.KU)("share"))&&(0,a.YG)("shareAppMessage",e,n),g(-1!==n.indexOf("cancel")?3:2)},cancel:function(){setTimeout((function(){(0,w.y4)(w.F0.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:function(t){var n=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),i=!n||"shareMessageToFriend:ok"===n;(0,b.J)("shareCallback")&&3===v&&(S.emit("callback",{errMsg:n,success:i}),(0,a.FE)({name:"shareMessageToFriend",errMsg:n,success:i,args:e}))}}),{beforeSuccess:O(e),beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),["success","fail","cancel","complete"].some((function(t){return"function"==typeof e[t]}))&&(0,u.Y)({name:t,strategy:1}),(0,w.y4)(w.F0.EVENT_CANVAS_BEFORE_SHARE)},M=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=function(){var e=t[0].imageUrl;(0,I.V)([e],"image",(function(i){/^(cloud):\/\//.test(e)&&(e=i.data[0].url),t[0].imageUrl=e,(0,l.aI)()?n(8454).H(t[0]).catch(wxConsole.warn).then((function(){return N.apply(void 0,t)})):N.apply(void 0,t)}))};x?a():h({success:function(e){x=e},complete:function(){return a()}})}},4159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={query:{}}},9831:(e,t,n)=>{"use strict";n.d(t,{ul:()=>f,R0:()=>g,fs:()=>l.t2,Be:()=>p,_t:()=>d,Yo:()=>u,Lo:()=>h,mQ:()=>v,yw:()=>y,fy:()=>_,Ae:()=>m});var i=n(8392),a=n(8068),r=n(9627),o=n(9947),s=n(5770),c=n(2363),l=n(8325),u=(0,a.Fr)((function(e){var t=e.url,n=e.adInfo,a=e.adUxInfo,r={url:t,adInfo:n,success:e.success,fail:e.fail,complete:e.complete};a&&(r.adUxInfo=a),(0,i.IN)("private_openUrl",r)})),d=(0,a.Fr)((function(e){var t=e.canvasInfo,n=e.posType,a=e.success,o=e.fail,s=e.complete;(0,i.IN)("openADCanvas",{canvasId:t.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:n}),adInfoXml:(0,r.l_)(t.ad_info_xml),openFirstSightVoice:1,success:a,fail:o,complete:s})})),p=(0,a.Fr)((function(e){var t=e.appId,n=e.path,a=e.traceid,r=e.aid,s=e.adInfo,c=e.adUxInfo,l=e.success,u=e.fail,d=e.complete,p="".concat(a,":").concat(r),f={appId:t,path:(0,o.Pp)(n).trim(),scene:1095,sourcetype:1,sceneNote:p,adInfo:s,success:l,fail:u,complete:d};c&&(f.adUxInfo=c),(0,i.IN)("navigateToMiniProgram",f)})),f=(0,a.Fr)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.r3)("adOperateWXData",a,{apiName:""})){var r={api_name:a.apiName,data:a.reqData||{},operate_directly:e},o={data:r,isImportant:!0===n,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};(0,i.IN)("adOperateWXData",Object.assign({},o,a),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess:function(e){c.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.respData=e.data,delete e.data}})}}}(!1,"adOperateWXDataForAd")),h=(0,a.Fr)((0,s.Ce)(!1,"operateWXDataForAd"));function v(e){(0,i.be)("showSplashAd",e)}function g(e){(0,i.be)("closeSplashAd",e)}function y(e){(0,i.be)("showSplashAdMenu",e)}function m(e){(0,i.be)("splashAdFirstStepViewLayoutStateChange",e)}function _(e){(0,i.be)("splashAdAllViewLayoutStateChange",e)}},1033:(e,t,n)=>{"use strict";n.d(t,{vK:()=>a,DX:()=>r,_W:()=>o,WG:()=>s,wE:()=>c,R$:()=>l,fY:()=>u,Lq:()=>d,YC:()=>p,gQ:()=>f,ET:()=>h,UJ:()=>v,yd:()=>g,qi:()=>y,MC:()=>m,c3:()=>_,sl:()=>w,yB:()=>i.Bq});var i=n(2958),a={CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_VIDEO:929,CRT_SIZE_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721},r={banner:"8040321819858439","incentive-video":"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885"},o={banner:3,"incentive-video":1,interstitialAd:4,grid:7,splashAd:8,customAd:9},s={banner:"showed","incentive-video":"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},c={"incentive-video":3,banner:4,interstitialAd:5,grid:6,customAd:7},l={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",109764:"widget_gray_rewrad_use_gauss_blur_android_system_version",109766:"widget_gray_rewrad_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips"},u={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},d="wxfile://ad",p="".concat(d,"/adinfos.txt"),f={splashAd:1288,customAd:1390},h={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,SHOW_SPLASH_FAIL:10},v={banner:5,"incentive-video":6,interstitialAd:8,customAd:9,grid:13,splashAd:14},g={click:1,exposure:0},y={showed:0,viewable:1,incentiveVideoCard:2},m={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5},_={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007},w={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"}},6878:(e,t,n)=>{"use strict";n.d(t,{Zp:()=>r,Ug:()=>o,Pp:()=>s,EJ:()=>c,BZ:()=>l,vj:()=>u,vl:()=>d});var i=n(8392),a=new(n(968).vp),r=function(){a.emit("_onEmitSplashAdFetch")};function o(e){(0,i.jQ)("shouldShowSplashAd",e)}function s(e){(0,i.jQ)("onSplashAdShow",e)}function c(e){(0,i.jQ)("onSplashAdHide",e)}function l(e){(0,i.jQ)("onSplashAdClose",e)}function u(e){(0,i.jQ)("onSplashAdWillLayout",e)}function d(e){(0,i.jQ)("onSplashAdButtonClicked",e)}},2395:(e,t,n)=>{"use strict";n.d(t,{G_:()=>l,uQ:()=>u,LQ:()=>d,mh:()=>c});var i=n(3379),a=n.n(i),r=n(9627),o=n(9831),s=n(1033),c=function(e){var t={};try{e=JSON.parse(e);var n,i=a()(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.hasOwnProperty("exp_para")&&r.exp_para.forEach((function(e){t[e.name]=Number(e.value)}))}}catch(e){i.e(e)}finally{i.f()}for(var o in t)s.R$[o]&&(t[s.R$[o]]=t[o]);return t}catch(e){return{}}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,o.ul)({apiName:"webapi_getadvert",reqData:{action:"CheckAdIsOnline",request_data:JSON.stringify(e)},requestInQueue:t})},u=function(e){var t=e.aid,n=e.buttonText,i=void 0===n?"":n;return(0,o.Lo)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:t.toString(),button_text:i})}}).then((function(e){if(!e.rawData)throw new Error("get_ad_metric no result");try{var t=JSON.parse(e.rawData),n=JSON.parse(t.result)||{},i=n.ad_metric_count,a=n.desc_text;return null==i||null==a||i<50?null:{count:(0,r.in)(i),descText:a}}catch(e){throw new Error("get_ad_metric invalid result")}})).catch((function(){throw new Error("get_ad_metric request failed")}))},d=function(e){var t=e.guide_group_id,n=e.uxinfo;return(0,o.Lo)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:t,uxinfo:n})}}).then((function(e){return"ok"===e.msg?Promise.resolve(e):Promise.reject(e)}))}},4180:(e,t,n)=>{"use strict";n.d(t,{Z7:()=>w,BZ:()=>_,J$:()=>I,fn:()=>b,x1:()=>m});var i=n(8676),a=n.n(i),r=n(3379),o=n.n(r),s=n(1754),c=n(9831),l=n(1033),u=n(2363),d=n(6878),p=n(968),f=6048e5,h=["adinfos.txt","/adinfos.txt","/"],v=0,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){c.fs.stat({path:e,recursive:!0,success:t,fail:n})}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){c.fs.unlink({filePath:e,success:t,fail:function(e){e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||n(e)}})}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?g(e).then((function(e){var t,n=0,i=[],a=[],r=e.stats||[],s=+new Date,c=o()(r);try{for(c.s();!(t=c.n()).done;){var l=t.value;n+=l.stats.size||0,h.includes(l.path)||i.push(l.path),s-1e3*l.stats.lastAccessedTime>=f&&!h.includes(l.path)&&a.push(l.path)}}catch(e){c.e(e)}finally{c.f()}return{totalSize:n,fileList:i,outedDateFileList:a}})):{totalSize:0,fileList:[],outedDateFileList:[]}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||0===t.length)return Promise.resolve();var n,i=[],a=o()(t);try{for(a.s();!(n=a.n()).done;){var r=n.value,s="".concat(e,"/").concat(r);i.push(y(s))}}catch(e){a.e(e)}finally{a.f()}return Promise.all(i)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?(0,p.er)()?Promise.resolve():u.wZ||u.cj?new Promise((function(n,i){c.fs.writeFile({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:n,fail:i})})):Promise.resolve():Promise.resolve()},b=function(e){return e&&0!==e.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){c.fs.readdir({dirPath:e,success:t,fail:n})}))}(l.Lq).then((function(t){var n=t.files;e&&e.map((function(e){var t=e.url,i=e.filePath,a=e.fileName;return n.includes(a)?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&t)return new Promise((function(n,i){(0,s.o)({url:e,filePath:t,success:n,fail:i})}))}(t,i)}))})):Promise.reject({errMsg:"无数据"})},I=function(e){if(e&&"object"===a()(e)&&!(v>0)&&(v+=1,!(0,p.er)()&&(u.wZ||u.cj)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{c.fs.stat({path:l.YC,success:function(e){var n;Date.now()-1e3*(null==e||null===(n=e.stats)||void 0===n?void 0:n.lastModifiedTime)>=t&&(0,d.Zp)()},fail:function(e){e.errMsg&&e.errMsg.indexOf("no such file")>-1&&w({},l.YC)}})}catch(e){}}}},8934:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,Y:()=>r});var i=n(999),a=function(e){return(0,i.J)(19213,e)},r=function(e){return(0,i.J)(19214,e)}},9627:(e,t,n)=>{"use strict";n.d(t,{l_:()=>l,Ee:()=>d,Cy:()=>p,in:()=>v,IU:()=>f,$G:()=>h,U2:()=>g,X1:()=>y,Vs:()=>c.Vs});var i=n(9727),a=n.n(i),r=n(8676),o=n.n(r),s=n(8392),c=n(8068),l=function(e){return 0===(e=e||"").length?"":e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")},u=function(e){return e&&"object"===o()(e)&&!Array.isArray(e)},d=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(!i.length)return t;var o=i.shift();if(u(t)&&u(o))for(var s in o)u(o[s])?(t[s]||Object.assign(t,a()({},s,{})),e(t[s],o[s])):Object.assign(t,a()({},s,o[s]));return e.apply(void 0,[t].concat(i))},p=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(n>9?"":"0")+n].join("")},f=function(e){if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0},h=function(e,t){for(var n=0,i=0,a=0;a<e.length;a++)(n+=/[\u4e00-\u9fa5]/.test(e[a])?2:1)<t-1&&(i=a);return n>t?"".concat(e.substring(0,i+1),"..."):e},v=function(e){return e<1e4?e.toString():"".concat((e/1e4).toFixed(1),"万")},g=function(e,t,n){"string"==typeof t&&(t=t.split("."));for(var i=e,a=0;i&&a<t.length;)i=i[t[a]],a+=1;return i||n},y=function(e){var t=0,n=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{(0,s.IN)("measureText",Object.assign({},n,{complete:function(e){t=e.width||0}}))}catch(e){}return t}},1796:(e,t,n)=>{"use strict";n.d(t,{sv:()=>S,lc:()=>T,L9:()=>x,Ku:()=>k});var i=n(8392),a=(0,n(9307).s)("userCaptureScreen"),r=a.onMethod,o=(a.offMethod,null);(0,i.jQ)("onUserCaptureScreen",(function(e){"function"==typeof o&&o(e),a.emit(e)}));var s=n(8947),c=n(6315),l=n(8934),u=n(8586),d=n(968),p=n(4531),f=n(5770),h=n(8068),v=n(4180),g=(0,h.Fr)((0,f.Ce)(!1,"advertReport")),y="",m=0,_="index.html",w=new d.vp,b="_onWxAdUserCaptureScreen",I={shareAppMessage:0,shareTimeline:3};s.Z.onReady((function(){y=(0,c.I)()}));var E={};try{(0,u.H)((function(e){m=e.webviewId,E[m]||(E[m]=!0,_=e.path,(0,p.dq)(m,(function(e){C(e)})))}))}catch(e){}r((function(){var e=+new Date;y&&(0,l.R)({eventTimeStamp:e,scene:7,uxinfo:y,url:_}),m&&(0,i.nY)(b,{eventTimeStamp:e,path:_},[m]),w.emit(b,{eventTimeStamp:e,webviewId:m,path:_})}));var T=function(e){"function"==typeof e&&w.on("_onWxAdUserCaptureScreen",e)},k=function(e,t){if(y){var n="",i=I[e]?I[e]:0;"shareAppMessage"===e&&t.shareInfos&&(i=t.shareInfos.length>0?2:1,n=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===i&&"shareAppMessage"===e&&t.shareTickets&&(i=t.shareTickets.length>0?2:1),(0,l.Y)({eventTimeStamp:+new Date,shareType:i,tousername:n,uxinfo:y,url:_})}},A={};(0,i.Ld)("wxAdDelayReport",(function(e,t){A[t]||(A[t]={}),e.key&&e.value&&(A[t][e.key]=e.value)}));var C=function(e){if(A[e]){for(var t in A[e]){var n=A[e][t];g({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:n}}).catch((function(e){}))}delete A[e]}};(0,i.Ld)("checkWxAdFetchLog",(function(e){(0,v.J$)(e)})),(0,i.Ld)("weappTouchEvent",(function(e){w.emit("_onWeappTouchEvent",e)}));var S=function(e){w.off("_onWeappTouchEvent",e)},x=function(e,t){var n=!1;if("function"==typeof e){var i=function(i){!n&&e(i,t),n=!0};return w.on("_onWeappTouchEvent",i),i}return null}},5820:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var i={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}]},a=function(e){var t=i[e.toString()];return t?t.concat([]):[]}},999:(e,t,n)=>{"use strict";n.d(t,{r:()=>k,J:()=>T});var i=n(8676),a=n.n(i),r=n(5820),o=n(968),s=n(5770),c=n(8068),l=n(6301),u=n(2363),d=n(708),p=n(8947),f=(0,c.Fr)((0,s.Ce)(!1,"advert_report")),h="",v=u.iw,g="",y="",m="",_="",w="",b="",I=!0,E="";p.Z.onReady((function(){h=(0,d._t)()||"";var e=(0,l.Oo)();g=e.system,y=e.version,m=e.SDKVersion,w=e.model,b=e.brand,I=(0,o.aI)();try{E=p.Z.accountInfo.appId,_=__libVersionInfo__.updateTime}catch(e){}}));var T=function(e,t){var n=(0,r.x)(e);if(n&&0!==n.length)return t=Object.assign({publisher_appid:E,appid:E,orig_weapp_id:"",network_type:"",wechat_version:y,platform:v,system_version:g,device_orientation:h,wxapp_lib_version:m,wxapp_lib_time:_,machine_type:w,ad_platform:I?1:0},t),t=Object.assign({DeviceModel:w,DeviceBrand:b,OsName:v,OsVersion:g},t),n=n.map((function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}})),f({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:n})}}).catch((function(e){}))},k=function(e,t,n){!function(e){var t=e.key,n=e.id;"object"===a()(t)&&(!n&&(n=t.idKeyGroup),t=t.idKey),0===t&&(t="0"),Reporter.reportIDKeyDirectly({id:n||924,key:t,force:!0})}({key:e}),function(e){var t=e.key,n=e.id,i=e.extInfo,r=e.reportData;if("object"===a()(t)&&(!n&&(n=t.idKeyGroup),t=t.idKey),0===t&&(t="0"),r=r||{},i&&"string"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=i.toString()}T(16295,{id_key:t,id_key_group:n||924,report_time:+new Date,ad_pos_type:r.ad_pos_type||0,source_url:r.source_url||"",expand_feild:r.reportAdData||"",expand_feild2:i,aid:r.aid||0,traceid:r.traceid||"",ad_unit_id:r.ad_unit_id})}({key:e,extInfo:t,reportData:n})}},1232:(e,t,n)=>{"use strict";n.d(t,{IN:()=>o,ET:()=>c,$g:()=>u});var i,a=function(e,t){return{idKey:e,idKeyGroup:t}};!function(e){e[e.COMMON=924]="COMMON",e[e.SPLASHAD=1288]="SPLASHAD",e[e.CUSTOMAD=1390]="CUSTOMAD"}(i||(i={}));var r=function(e){return a(e,i.COMMON)},o={AD_BANNER_LOAD_ERROR:r(5),AD_VIDEO_LOAD_ERROR:r(10),REWARDED_VIDEO_PARSE_ERROR:r(11),REWARDED_VIDEO_RENDER_ERROR:r(12),REWARDED_VIDEO_LOAD_ERROR:r(13),REWARDED_VIDEO_FOLLOW_SUCCESS:r(14),OPEN_URL_ERROR:r(21),OPEN_WXAPP_ERROR:r(22),OPEN_CANVAS_ERROR:r(23),ADD_CONTACT_ERROR:r(24),LAUNCH_APP_ERROR:r(25),OPEN_WEBAPPSTORE_ERROR:r(26),ADD_DOWNLOAD_TASK_ERROR:r(28),CLICK_REPORT_ERROR:r(32),EXPOSURE_REPORT_ERROR:r(33),FOLLOW_REPORT_ERROR:r(34),REWARDED_VIDEO_ANIMATE_ERROR:r(35),AD_FOLLOWED:r(37),AD_INSTALLED:r(38),AD_INTERSTITIAL_LOAD_ERROR:r(39),REWARDED_VIDEO_INSTANCE_BROKEN:r(50),PRELOAD_MINIENV_SUCCESS:r(86),PRELOAD_MINIENV_ERROR:r(87),AD_GRID_LOAD_SUCCESS:r(88),AD_GRID_LOAD_COUNT_ERROR:r(89),AD_GRID_LOAD_ERROR:r(90),PREDOWNLOAD_SUCCESS:r(96),PREDOWNLOAD_ERROR:r(97),REWARDED_VIDEO_OTHER_SHOW_ERROR:r(105),BATCHLOAD_SUCCESS:r(112),BATCHLOAD_ERROR:r(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:r(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:r(115),BIND_GUIDE_SUCCESS:r(119),BIND_GUIDE_ERROR:r(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:r(121),RIGHTBUTTON_HIDE_ERROR:r(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:r(128),GET_DEVICEINFO_ERROR:r(129),THIRD_ERROR:r(130),GET_DEVICEINFO_SUCCESS:r(131),GET_WAID_SUCCESS:r(132),GET_WAID_ERROR:r(133),READ_ADINFOS_ERROR:r(134),AD_FETCH_SUCCESS:r(135),REWARDED_VIDEO_PRELOAD_ERROR:r(136),REWARDED_VIDEO_PRELOAD_SUCCESS:r(137),READ_ADINFOS_SUCCESS:r(138),ANALYSE_DEBUG_REPORT_ERROR:r(139),PRELOAD_CALL_ERROR:r(140),PRELOAD_LOAD_ERROR:r(141),PRELOAD_LOAD_SUCCESS:r(142),PRELOAD_USE_SUCCESS:r(143),PRELOAD_USE_ERROR:r(144),PRELOAD_DOWNLOAD_SUCCESS:r(145),PRELOAD_DOWNLOAD_ERROR:r(146),REPORT_VIDEO_FAILED:r(147),REWARD_GAUSS_EXISTS:r(148),REWARD_USE_GAUSS:r(149),REWARD_USE_EXPAND_STYLE:r(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:r(151),REWARDED_VIDEO_KEEP_ALIVE:r(152),REWARDED_VIDEO_END:r(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:r(156),OPEN_CHANNELS_ACTIVITY_FAILED:r(157),OPEN_CHANNELS_LIVE_SUCCESS:r(158),OPEN_CHANNELS_LIVE_FAILED:r(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:r(160),OPEN_CHANNELS_USER_PROFILE_FAILED:r(161),REWARD_CHANNELS_CALLBACK_SUCCESS:r(162),REWARD_CHANNELS_CALLBACK_FAILED:r(163),H5_PRELOAD_CARD_CLICKED:r(164),H5_PRELOAD_BUTTON_CLICKED:r(165),H5_PRELOAD_SUCCESS:r(166),H5_PRELOAD_FAILED:r(167),H5_PRELOAD_PLAYABLE_CLICKED:r(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:r(169),GET_CHANNELS_LIVE_STATUS_FAILED:r(170),REWARDED_VIDEO_DURATION_ZERO:r(171)},s=function(e){return a(e,i.SPLASHAD)},c={dataLoadSuccess:s(0),dataLoadFail:s(1),dataPreloadSuccess:s(2),dataPreloadFail:s(3),handleDataFail:s(4),launchAcceptShouldShow:s(5),menuAcceptShouldShow:s(6),readFileFail:s(7),launchShowSplashAdSuccess:s(8),menuShowSplashAdSuccess:s(9),showSplashAdFail:s(10),firstRenderFail:s(11),firstInsertFail:s(12),secondRenderFail:s(13),secondInsertFail:s(14),iosThirdInsertFail:s(15),checkAdStateFail:s(16),adOfflineClose:s(17),readFileDataFail:s(18),firstShowSuccess:s(19),showSplashAdMenuSuccess:s(20),showSplashAdMenuFail:s(21),secondShowSuccess:s(22),removeFileDataFail:s(23),landingPageFail:s(24),frequencyControlFail:s(25),frequencyControlReturn:s(26),bulkCopyFileFail:s(27),getAdInfosFail:s(28),getAidFail:s(29),setExposureTagFail:s(30),NO_ADINFOS:s(31),NO_AID:s(32),MATERIAL_NOT_READY:s(33),CHECK_AD_STATUS_ERROR:s(34),CRT_ORIENTATION_NOT_SURE:s(35),EXPOSURE_TIMES_LIMIT:s(36),START_CHECK_AD_STATUS:s(37),CHECK_AD_STATUS_SUCCESS:s(38),OTHER_ADS_EMIT_FETCH:s(39),WRITE_ADINFOS_SUCCESS:s(40),WRITE_ADINFOS_FAIL:s(41)},l=function(e){return a(e,i.CUSTOMAD)},u={LOAD_FAILED:l(1),PRELOAD_SUCCESS:l(2),PRELOAD_FAILED:l(3),PARSE_FAILED:l(4),TPL_RENDER_SUCCESS:l(5),TPL_PARSE_FAILED:l(6),TPL_LOAD_FAILED:l(7),AD_LIMIT_TIME:l(8),AD_LIMIT_BOUNDARY:l(9),RELATION_FETCH_ERROR:l(10),SHOW_FAILED1:l(11),SHOW_FAILED2:l(12),AD_VIDEO_LOAD_FAILED:l(13),FOLLOW_SUCCESS:l(14),FOLLOW_FAILED:l(15),RENDER_SUCCESS:l(16),RENDER_FAILED:l(17),REFETCH_SUCCESS:l(18),REFETCH_FAILED:l(19),LOAD_SUCCESS:l(20),WIDTH_GET_ERROR:l(21)}},5223:(e,t,n)=>{"use strict";n.d(t,{S3:()=>f,S0:()=>h,v3:()=>v,uj:()=>g,lv:()=>m,SQ:()=>w,NN:()=>b});var i=n(2363),a=n(6301),r=n(8114),o=n(999),s=n(968),c=n(4642),l=n(8586),u=n(8947),d=n(708),p=n(2900),f={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:i.iw,isWaGame:!0,isApp:!1,isIOS:i.cj,isAndroid:i.wZ,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:""},h={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},v=function(){return(0,d.ei)(f,["oaid","imei","idfa","common_device_id"])},g=function(){if(!f.isWaGame){var e=(0,a.xI)();f.screenWidth=e.screenWidth,f.screenHeight=e.screenHeight,f.deviceOrientation=f.screenWidth>f.screenHeight?"landscape":"portrait"}return f.deviceOrientation},y=function(){},m=function(){return y()},_=function(){return new Promise((function(e){y=e}))},w=new Promise((function(e){u.Z.onReady((function(){var t;f.startTime=new Date,f.deviceOrientation=(0,d._t)()||"",f.envVersion=u.Z.envVersion;var n=(0,a.Oo)(),c=(0,a.Ew)();f.screenWidth=c.screenWidth||0,f.screenHeight=c.screenHeight||0,f.systemVersion=n.system,f.wechatVersion=n.version,f.SDKVersion=n.SDKVersion,f.brand=n.brand,f.model=n.model,f.isIPad=null===(t=n.model)||void 0===t?void 0:t.includes("iPad"),f.isWaGame=(0,s.aI)(),f.isApp=(0,s.N0)();try{f.gameAppId=u.Z.accountInfo.appId,f.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([new Promise((function(e){(0,r.yx)((function(t){f.oaid=t,e()}))})),new Promise((function(e){(0,r.dz)().then((function(t){var n=t.imei,a=t.oaid,r=t.commonid;i.cj?f.idfa=n:i.wZ&&(f.oaid=a,f.imei=n),f.common_device_id=r||"{}",e(),_().then((function(){(0,o.r)(p.IDKEY.GET_DEVICEINFO_SUCCESS)}))})).catch((function(t){e(),_().then((function(){(0,o.r)(p.IDKEY.GET_DEVICEINFO_ERROR,t)}))}))}))]).then((function(){return e(f)}))}))})),b=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];f[i]=e[i]}};try{(0,l.H)((function(e){var t=e.webviewId,n=e.openType,i=e.path;f.isWaGame||(h.lastWebviewId=h.currentWebviewId,h.currentWebviewId=t||0,h.currentOpenType=n,h.weappPath=i)}))}catch(e){}(0,c.dN)((function(e){var t=e.scene;h.enterForegroundTime=new Date,h.currentScene=t})),(0,c.vv)((function(){h.gameDuration+=Date.now()-h.enterForegroundTime.getTime()}))},2900:(e,t,n)=>{"use strict";n.d(t,{F:()=>pl,CrtSize:()=>To,DestType:()=>wo,IDKEY:()=>Co.IN,LiveVideoMode:()=>Oo,LiveVideoSubMode:()=>No,ProductType:()=>ko});var i=n(2208),a=n.n(i),r=n(9727),o=n.n(r),s=n(3356),c=n.n(s),l=n(1503),u=n.n(l),d=n(3379),p=n.n(d),f=n(7163),h=n.n(f),v=n(5843),g=n.n(v);const y=BabelRuntimeHelpers.applyDecoratedDescriptor;var m=n.n(y),_=n(7015),w=n.n(_),b=n(12),I=n.n(b),E=n(8947),T=n(968),k=n(8114),A=n(9831),C=n(2395),S=n(8934),x="<?xml version='1.0' encoding='utf-8' ?>",P=function(e){return"<![CDATA[".concat(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"]]>")},D=function(e){return e.children&&e.children.length>0?e.children.map((function(e){return R(e)})).join(""):""},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?x:"";return n+="<".concat(e.name,">"),e.children.length>0?n+=D(e):n+=P(e.content),n+="</".concat(e.name,">")},O=n(1796),N=n(9627),M=n(4180),L=n(1033),W=Symbol("signExport"),F=function(){return function(e,t){e[W]=e[W]||new Set,e[W].add(t)}},B=function(e,t){var n,i=Array.isArray(t)?t:[t],a=p()(i);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(!(r in e)||"function"!=typeof e[r])throw new Error("".concat(r," is not the function method of the class"))}}catch(e){a.e(e)}finally{a.f()}return i.map((function(t){return e[t]}))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i,a){var r=a.value,o=B(n,e);a.value=t?c()(w().mark((function e(){var t,n,i,a,s,c,l,u,d=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=d.length,i=new Array(n),a=0;a<n;a++)i[a]=d[a];return e.next=3,(t=r).call.apply(t,[this].concat(i));case 3:s=e.sent,c=p()(o),e.prev=5,c.s();case 7:if((l=c.n()).done){e.next=13;break}return u=l.value,e.next=11,u.call(this,s);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])}))):function(){for(var e,t=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=(e=r).call.apply(e,[this].concat(i));if(s instanceof Promise)return s.then((function(e){var n,i=p()(o);try{for(i.s();!(n=i.n()).done;){n.value.call(t,e)}}catch(e){i.e(e)}finally{i.f()}return e}));var c,l=p()(o);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.call(this,s)}}catch(e){l.e(e)}finally{l.f()}return s}}},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i,a){var r=a.value,o=B(n,e);a.value=t?c()(w().mark((function e(){var t,n,i,a,s,c,l,u,d=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n=d.length,i=new Array(n),a=0;a<n;a++)i[a]=d[a];return e.next=4,(t=r).call.apply(t,[this].concat(i));case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),c=p()(o),e.prev=11,c.s();case 13:if((l=c.n()).done){e.next=19;break}return u=l.value,e.next=17,u.call(this,e.t0);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(11),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,8],[11,21,24,27]])}))):function(){var e=this;try{for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=(t=r).call.apply(t,[this].concat(i));return s instanceof Promise&&s.catch((function(t){var n,i=p()(o);try{for(i.s();!(n=i.n()).done;){n.value.call(e,t)}}catch(e){i.e(e)}finally{i.f()}})),s}catch(e){var c,l=p()(o);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.call(this,e)}}catch(e){l.e(e)}finally{l.f()}throw e}}}},G=n(708),V=n(8676),Z=n.n(V),H=n(5820),Y=n(5223),z=n(7615),q=n.n(z),K=n(4742),X=n.n(K),J=n(7541),$=n.n(J),Q=n(9515),ee=n(9947),te=new(n(7937).Z),ne={banner:"SHOW_BANNER","incentive-video":"SHOW_REWARD",grid:"SHOW_GRID"},ie={banner:"HIDE_BANNER","incentive-video":"HIDE_REWARD",grid:"HIDE_GRID"},ae=function(){function e(t){var n=t.adUnitId,i=t.adType,a=void 0===i?"banner":i;h()(this,e),this.adUnitId=n,this.adType=a}return g()(e,[{key:"show",value:function(){var e=ne[this.adType];e&&te.emit(e,{adUnitId:this.adUnitId})}},{key:"hide",value:function(){var e=ie[this.adType];e&&te.emit(e,{adUnitId:this.adUnitId})}},{key:"on",value:function(e,t){var n=this;te.on(e,(function(e){e.adUnitId!==n.adUnitId&&t(e)}))}}]),e}(),re=n(4642),oe=n(7871),se=n(8068),ce=n(6604),le=n(4052),ue=n(8392),de=n(572),pe=n.n(de),fe={},he=function(e,t,n){fe.hasOwnProperty(e)||(fe[e]={}),fe[e][t]=n},ve=function(e,t){if(fe.hasOwnProperty(e))return fe[e][t]},ge=n(7264),ye=n(3638),me=n(9307),_e=n(9267),we=n(2335),be=(0,me.s)("AppRouteDone"),Ie=be.internalOnMethod;be.internalOffMethod;function Ee(e,t){if(0===E.Z.appType&&("[setNavigationBarTitleMap], path=".concat(e,", rawPath=").concat(t),e&&t&&!ye.Z.navigationBarTitleMap[e])){var n="";E.Z.page[t]&&E.Z.page[t].window&&(0,_e.HD)(E.Z.page[t].window.navigationBarTitleText)?n=E.Z.page[t].window.navigationBarTitleText:E.Z.global&&E.Z.global.window&&(0,_e.HD)(E.Z.global.window.navigationBarTitleText)&&(n=E.Z.global.window.navigationBarTitleText),"[setNavigationBarTitleMap], path=".concat(e,", rawPath=").concat(t,", title=").concat(n),ye.Z.navigationBarTitleMap[e]=n}}(0,ge.n)("onAppRouteDone",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;we.WZ.appRoute=!1,we.WZ.appRouteDone=!0,(0,we.R0)();var n="";ye.Z.navigatorLock=!1,e.path&&(n=e.path,e.path=e.path.substring(0,e.path.length-5)),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==ye.Z.lastOpenType&&(ye.Z.lastRoute=e.path||""),be.emit(e),(0,ue.nY)("onAppRouteDone",{frameset:e.frameset},[t]),"[onAppRouteDone], path=".concat(e.path),Ee(e.path,n)}));var Te=n(6326),ke=n(6965),Ae=null;ke.Z&&ke.Z.WXAUDIO?Ae=ke.Z.WXAUDIO:ke.Z&&ke.Z.AudioContext?Ae=ke.Z.AudioContext:"undefined"!=typeof AudioContext?Ae=AudioContext:"undefined"!=typeof webkitAudioContext&&(Ae=webkitAudioContext);const Ce=Ae;var Se=n(1101),xe="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",Pe="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function De(e){var t=e.isSuccess,n=e.invokeTime,i=e.costTime,a=e.wxdataQueueTimestamp,r=e.wxdataDequeueTimestamp,o=e.beginCGITimestamp,s=e.CGICallbackTimestamp,c=e.wxlibCallbackTimestamp,l=e.requestingCount,u=e.cost1,d=e.cost2,p=e.cost3,f=e.cost4,h=e.cost5,v=e.cost6,g=e.JSApiType;Math.random()<.002&&setTimeout((function(){var e,y=ye.Z.currentNetworkType,m=E.Z.appType+1e3,_=E.Z.appLaunchInfo&&void 0!==E.Z.appLaunchInfo.scene?E.Z.appLaunchInfo.scene:0,w=["","",t?1:0,n,i,y,"",m,_,xe,Pe,"",0,0,u,d,p,f,h,v,0,0,l,n,a,r,o,s,0,0,c,g].map((e=1024,function(t){return(0,_e.HD)(t)&&t.length>e?t.substr(0,e):t})).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:w})}),0)}(0,_e.HD)(xe)&&(xe=xe.replace(" ","")),(0,_e.HD)(Pe)&&(Pe=Pe.replace(" ","-"));var Re=n(5770),Oe=n(266),Ne=(0,T.Fr)((0,Re.Ce)(!1,"getDNSInfo")),Me={},Le={},We={};(0,Oe.PQ)((function(){Me={},Le={},We={}}));var Fe=0;function Be(e,t,n){var i=Date.now();if(Fe--,t.costTime=i-t.invokeTime,e.clientInfo&&"object"===Z()(e.clientInfo)){var a=e.clientInfo;t.wxdataQueueTimestamp=a.invokeTime,t.wxdataDequeueTimestamp=a.invokeTime,t.beginCGITimestamp=a.beginCGITimestamp,t.CGICallbackTimestamp=a.CGICallbackTimestamp,t.wxlibCallbackTimestamp=a.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=i-t.wxlibCallbackTimestamp,n&&n.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,De(t)}}(0,Se.b)("Request",{maxTaskCount:10,functionName:"request"}),E.Z.onReady((function(){try{"number"==typeof E.Z.wxAppInfo.maxRequestConcurrent&&(0,Se.b)("Request",{maxTaskCount:E.Z.wxAppInfo.maxRequestConcurrent})}catch(e){}}));const je=function(e){X()(n,e);var t=$()(n);function n(e){h()(this,n);var i={JSApiType:1,invokeTime:Date.now(),requestingCount:++Fe};return t.call(this,e,{taskType:"Request",beforeSend:function(t){return t.responseType=e.responseType,t.apiSigningSeq=e.apiSigningSeq,t.apiSignature=e.apiSignature,t},beforeSuccess:function(t){var n,a;return e.host&&e.ip&&(n=e.host,a=e.ip,Le[n]=a),i.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(t),function(e){e.statusCode=parseInt(e.statusCode,10)}(t),function(e){"object"===Z()(e.header)&&(e.header=Object.keys(e.header).reduce((function(t,n){return Array.isArray(e.header[n])?t[n]=e.header[n].join(","):"string"==typeof e.header[n]&&(t[n]=e.header[n]),t}),{}))}(t),"json"===e.dataType&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t),Be(t,i,e),t},beforeFail:function(t){return i.isSuccess=!1,Be(t,i,e),t}})}return n}(Se.o);var Ue=new WeakMap,Ge=function(){function e(){var t;h()(this,e);var n=new Promise((function(e){t=e}));Ue.set(this,{promise:n,resolve:t})}return g()(e,[{key:"abort",value:function(){Ue.get(this).promise.then((function(e){e.abort()}))}},{key:"onHeadersReceived",value:function(e){Ue.get(this).promise.then((function(t){t.onHeadersReceived(e)}))}},{key:"offHeadersReceived",value:function(e){Ue.get(this).promise.then((function(t){t.offHeadersReceived(e)}))}}]),e}();function Ve(e){var t=e.args,n=(0,ee.Em)(t.header);t.header=t.header||{},t.header=(0,ee.Nf)(t.header),"Undefined"!==n&&"Object"!==n&&(console.warn("wx.request: header must be an object"),t.header={}),t.header=Object.keys(t.header).reduce((function(e,n){return"content-type"===n.toLowerCase()?e[n.toLowerCase()]=t.header[n]:e[n]=t.header[n],e}),{});var i="text";t.responseType&&(i=t.responseType.toLowerCase());var a,r=t.header||{},o="GET";return"string"==typeof t.method&&(o=t.method.toUpperCase()),t.dataType=t.dataType||"json",r["content-type"]=r["content-type"]||"application/json",a=void 0===t.data?"":"string"!=typeof t.data&&"ArrayBuffer"!==(0,ee.Em)(t.data)?r["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,ee.HR)(t.data,!0):r["content-type"].indexOf("application/json")>-1||"object"===Z()(t.data)?JSON.stringify(t.data):a.toString():t.data,"GET"===o&&(t.url=(0,ee.cE)(t.url,t.data)),{header:r,method:o,responseType:i,dataStr:a,args:t}}function Ze(e){var t,n=e.args,i=e.host;if(!0===n.enableHttpDNS){var a=function(e){var t=Me[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null}(i);return a&&!1===a.expired?(t=a.ip,{host:i,ip:t}):function(e){return We[e]||(We[e]=Ne({apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:e}}).then((function(t){delete We[e];var n=t=JSON.parse(t.rawData),i=n.wxa_state,a=n.ip,r=n.ttl;if(0===i)return Me[e]={ip:a,expireTime:1e3*r+Date.now()},Me[e];throw new Error(i)})).catch((function(t){throw delete We[e],t}))),We[e]}(i).then((function(e){return t=e.ip,{host:i,ip:t}}))}return{}}function He(e){return{forbidReuse:function(e,t){var n=Le[e];return t?!(n&&n===t||(delete Le[e],0)):(delete Le[e],!1)}(e.host,e.ip)}}var Ye=n(1445);function ze(e){var t=e.args,n=(0,Ye.e)(t.url);return{host:n.host,protocol:n.protocol}}function qe(e){var t=e.protocol;return{port:"http"===t?80:"https"===t?443:0}}var Ke,Xe=__safeway__.apiSign.makeApiSign,Je=function(){function e(t){h()(this,e),this.innerParams=t,this.asyncTasks=[]}return g()(e,[{key:"use",value:function(e){var t=this,n=e(this.innerParams,this.asyncTasks);if(n instanceof Promise){var i=n.then((function(e){Object.assign(t.innerParams,e)}));this.asyncTasks.push(i)}else Object.assign(this.innerParams,n);return this}},{key:"useAfterAsyncTasks",value:function(e){var t=this;return this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((function(){t.use(e)})).catch((function(e){return e})):this.use(e),this}},{key:"catch",value:function(e){return this.catchFn=e,this}},{key:"execute",value:function(){var e=this;if(this.asyncTasks.length>0){var t=new Ge;return Promise.all(this.asyncTasks).then((function(){var n=e.createRequestTask();!function(e,t){(0,Ue.get(e).resolve)(t)}(t,n)})).catch((function(t){e.catchFn&&e.catchFn(t),delete e.catchFn})),t}return this.createRequestTask()}},{key:"createRequestTask",value:function(){var e=this.innerParams,t=e.args,n=e.host,i=e.ip,a=e.header,r=e.method,o=e.port,s=e.responseType,c=e.dataStr,l=e.options,u=e.forbidReuse;try{return new je(Object.assign({},t,{header:a,method:r,responseType:s,data:c,ip:i,host:n,port:o,forbidReuse:u},Xe("createRequestTask",{url:t.url,__skipDomainCheck__:l.__skipDomainCheck__})))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}]),e}(),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,ue.r3)("request",t,{url:""}))if(!1!==(0,ee.mQ)(t.url)){try{JSON.stringify(t.data)}catch(e){return void(0,ue.YG)("request",t,"fail to stringify data")}if("function"!=typeof t.data){var n=new Je({args:t,options:e});return n.catch((function(e){(0,ue.YG)("request",t,e.message||e.errMsg)})).use(Ve).use(ze).use(qe).use(Ze).useAfterAsyncTasks(He),n.execute()}(0,ue.YG)("request",t,"data should not be Function")}else(0,ue.YG)("request",t,'invalid url "'.concat(t.url,'"'))}},Qe=($e(),$e({__skipDomainCheck__:!0})),et=n(1925),tt=n(4416),nt=new WeakMap,it=new WeakMap,at=new WeakMap,rt=new WeakMap,ot=new WeakMap,st=new WeakMap,ct=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,pt=new WeakMap,ft={},ht=(0,T.Fr)(Qe),vt=(0,T.Fr)(et.p),gt=function(e){return vt({filePath:e}).then((function(e){return e.data}))},yt=function(e){return ht({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((function(e){return e.data}))},mt=function(e){return new Promise((function(t){(0,tt.V)([e],"audio",(function(e){t(yt(e.data[0].url))}))}))},_t=function(e){nt.set(this,Object.assign(nt.get(this),e))},wt=function(e){return nt.get(this)[e]},bt=function(){return nt.get(this)},It=function(){this.stop(!0),_t.call(this,{_source:null});var e=at.get(this);e&&e()},Et=function(e){var t=Ke.createBufferSource(),n=Tt.call(this,e),i=n.currentPlayBackTime,a=n.state,r=a.loop,o=a.playbackRate,s=a._buffer,c=a._gainNode,l=It.bind(this);t.onended=l,t.buffer=s,t.loop=r,t.playbackRate.value=o,c&&t.connect(c),t.start(0,i),Ke.resume(),_t.call(this,{_isPlaying:!0,paused:!1,_source:t,_played:!0,_playbackTime:0,_lastCurrentTime:i,_startedAt:Ke.currentTime,_endedHandler:l})},Tt=function(e){var t,n=e=e||bt.call(this),i=n._startedAt,a=n._playbackTime,r=n._isPlaying,o=n.playbackRate,s=n._lastCurrentTime,c=n.duration;return(t=r?s+(Ke.currentTime-i)*o:a)>c&&(t%=c),{currentPlayBackTime:t,state:e}},kt=function(){this.stop(!0);var e=bt.call(this)._gainNode;e&&e.disconnect(),_t.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null}),it.delete(this),at.delete(this),rt.delete(this),ot.delete(this),ct.delete(this),st.delete(this),lt.delete(this),ut.delete(this),pt.delete(this),clearInterval(dt.get(this)),dt.delete(this)},At=function(){this.stop(!0),_t.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null})},Ct=function(e){var t;At.call(this);var n=new Promise((function(e){t=e}));_t.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t})},St=function(){function e(){h()(this,e),Ke||"function"==typeof(Ke=new Ce).create&&Ke.create();var t=Ke.createGain();t.connect(Ke.destination);var n={},i=new Promise((function(e){n._audioLoadPromiseResolve=e}));nt.set(this,Object.assign(n,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!1,duration:NaN,_loadPromise:i,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:""}))}return g()(e,[{key:"src",get:function(){return wt.call(this,"src")},set:function(e){var t=this,n=bt.call(this).src;"string"==typeof e&&e.length>0&&n!==e&&(n&&Ct.call(this,e),_t.call(this,{src:e}),function(e){var t=ft[e];if(t&&t.audioBuffer)return Promise.resolve(t.audioBuffer);if(t&&t.loadPromise)return t.loadPromise;var n=(/^(http|https):\/\//.test(e)?yt(e):/^(cloud):\/\//.test(e)?mt(e):gt(e)).then((function(t){return new Promise((function(n,i){Ke.decodeAudioData(t,(function(t){var i=ft[e];i.audioBuffer||(i.audioBuffer=t),n(i.audioBuffer)}),i)}))}));return ft[e]={loadPromise:n},n}(e).then((function(e){var n=bt.call(t),i=it.get(t),a=n._isPlaying,r=n.autoplay,o=n._audioLoadPromiseResolve;return _t.call(t,{_ready:!0,_buffer:e,duration:e.duration}),i&&i(),r&&!a&&t.play(),o(),null})).catch((function(n){var i=rt.get(t);i&&i({type:"error",errMsg:"set audio src ".concat(e," fail: ").concat(n.message)})})))}},{key:"startTime",get:function(){return wt.call(this,"startTime")},set:function(e){var t=bt.call(this),n=t._played;e!==t.startTime&&"number"==typeof e&&e>=0&&(_t.call(this,{startTime:e}),n||this.seek(e))}},{key:"autoplay",get:function(){return wt.call(this,"autoplay")},set:function(e){var t=this;!!e!==bt.call(this).autoplay&&(_t.call(this,{autoplay:!!e}),e&&bt.call(this)._loadPromise.then((function(){var e=bt.call(t),n=e._isPlaying,i=e.autoplay;return e._source&&!n&&i&&t.play(),null})))}},{key:"loop",get:function(){return wt.call(this,"loop")},set:function(e){var t=wt.call(this,"_source");_t.call(this,{loop:e=!!e}),t&&(t.loop=e)}},{key:"volume",get:function(){return wt.call(this,"volume")},set:function(e){var t=bt.call(this),n=t.volume,i=t._gainNode;"number"==typeof e&&e>=0&&e<=1&&e!==n&&(_t.call(this,{volume:e}),i&&i.gain&&(i.gain.value=e))}},{key:"playbackRate",get:function(){return wt.call(this,"playbackRate")},set:function(e){var t=bt.call(this),n=t.playbackRate,i=t._source;"number"==typeof e&&n!==e&&e>=.5&&e<=2&&(_t.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:Ke.currentTime}),i&&(i.playbackRate.value=e))}},{key:"duration",get:function(){return wt.call(this,"duration")}},{key:"currentTime",get:function(){return Tt.call(this).currentPlayBackTime}},{key:"paused",get:function(){return wt.call(this,"paused")}},{key:"buffered",get:function(){var e=bt.call(this).duration;return e>0?e:0}},{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=bt.call(this),i=n._isPlaying,a=n._ready,r=n._loadPromise;if(!i){var o=function(){return t?null:ot.get(e)};if(a){Et.call(this,n);var s=o();s&&s()}else r.then((function(){Et.call(e);var t=o();return t&&t(),null}))}}},{key:"pause",value:function(){var e=bt.call(this),t=e._isPlaying,n=e._source;if(n&&t){var i=st.get(this);n.stop(0),n.disconnect(),n.onended=null,_t.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),i&&i()}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=bt.call(this),n=t._source;if(n){var i=ct.get(this);n.stop(0),n.disconnect(),n.onended=null,_t.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&i&&i()}}},{key:"seek",value:function(e){if("number"==typeof e&&e>=0){var t=bt.call(this)._isPlaying,n=lt.get(this),i=ut.get(this),a=it.get(this);i&&i(),t?(this.stop(!0),_t.call(this,{_playbackTime:e}),this.play(!0)):_t.call(this,{_playbackTime:e}),n&&n(),a&&a()}}},{key:"destroy",value:function(){kt.call(this)}},{key:"oncanplay",set:function(e){"function"==typeof e?it.set(this,e):it.delete(this)}},{key:"onended",set:function(e){"function"==typeof e?at.set(this,e):at.delete(this)}},{key:"onerror",set:function(e){"function"==typeof e?rt.set(this,e):rt.delete(this)}},{key:"onplay",set:function(e){"function"==typeof e?ot.set(this,e):ot.delete(this)}},{key:"onpause",set:function(e){"function"==typeof e?st.set(this,e):st.delete(this)}},{key:"onstop",set:function(e){"function"==typeof e?ct.set(this,e):ct.delete(this)}},{key:"onseeked",set:function(e){"function"==typeof e?lt.set(this,e):lt.delete(this)}},{key:"onseeking",set:function(e){"function"==typeof e?ut.set(this,e):ut.delete(this)}},{key:"ontimeupdate",set:function(e){var t=this;if("function"==typeof e){var n=dt.get(this);clearInterval(n);var i=setInterval((function(){bt.call(t)._isPlaying&&e()}),350);dt.set(this,i)}else dt.delete(this)}},{key:"onwaiting",set:function(e){"function"==typeof e?pt.set(this,e):pt.delete(this)}}]),e}(),xt=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],Pt=["startTime","duration","currentTime"],Dt=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],Rt=new Set,Ot=new WeakMap,Nt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Wt=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;h()(this,e);var a=new Te.Z;Ot.set(this,t),Rt.add(this),Lt.set(this,{conversion:i}),xt.forEach((function(e){return Object.defineProperty(n,e,{get:function(){return Pt.includes(e)?t[e]/i:t[e]},set:function(n){Pt.includes(e)?t[e]=i*n:t[e]=n}})})),Dt.forEach((function(e){n["on"+e]=function(t){var n=__errorTracer__.surroundThirdByTryCatch(t,"at audioContext.on".concat(e," callback function"));Nt.set(t,n),Mt.set(n,t),a.on(e,n)},n["off"+e]=function(t){if((0,_e.mf)(t)){var n=Nt.get(t);(0,_e.mf)(n)&&(a.off(e,n),Nt.delete(t),Mt.delete(n))}else a.listeners(e).forEach((function(e){var t=Mt.get(e);Nt.delete(t),Mt.delete(e)})),a.removeAllListeners(e)},t["on"+e.toLowerCase()]=function(t,n){t?a.emit(e,{errCode:t,errMsg:n}):a.emit(e)}}))}return g()(e,[{key:"play",value:function(){Ot.get(this).play()}},{key:"stop",value:function(){Ot.get(this).stop()}},{key:"pause",value:function(){Ot.get(this).pause()}},{key:"seek",value:function(e){var t=Lt.get(this).conversion;Ot.get(this).seek(t*e)}},{key:"destroy",value:function(){var e=this,t=Ot.get(this);t.destroy&&t.destroy(),Dt.forEach((function(t){e["off"+t]()})),Rt.delete(this),Ot.delete(this)}}],[{key:"pauseAllAudio",value:function(){Rt.forEach((function(e){var t=Ot.get(e);t&&t.pause()}))}}]),e}(),Ft=function(e){X()(n,e);var t=$()(n);function n(){h()(this,n);var e=new ke.Z.Audio;return t.call(this,e,1e3)}return n}(Wt),Bt=function(e){X()(n,e);var t=$()(n);function n(){h()(this,n);var e=new St;return t.call(this,e,1)}return n}(Wt),jt=(n(1754),n(2903),n(7136),new Te.Z);(0,ue.jQ)("onRecorderStateChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,jt.emit("onRecorderStateChange_".concat(t),e)}));var Ut,Gt=new(n(4657).Q)("BackgroundAudioManager",!0),Vt=wxNativeConsole.createLogger("BackgroundAudioManager"),Zt={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:""};(0,ue.jQ)("onBackgroundAudioNext",(function(){Gt.emit("Next")})),(0,ue.jQ)("onBackgroundAudioPrev",(function(){Gt.emit("Prev")})),(0,ue.jQ)("onBackgroundAudioStateChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,"play"===t?(Zt.paused=!1,ye.Z.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(ye.Z.possessingBackgroundAudioPlayer=!1,Gt.emit("Stop",e)):("pause"===t||"stop"===t)&&(Zt.paused=!0),Gt.emit("".concat(t[0].toUpperCase()).concat(t.substr(1)),e)}));var Ht={play:function(){setTimeout((function(){Yt({operationType:"play"})}),0)},pause:function(){setTimeout((function(){Yt({operationType:"pause"})}),0)},seek:function(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type ".concat(Z()(e)));setTimeout((function(){Yt({currentTime:e,operationType:"seek"})}),0)},stop:function(){setTimeout((function(){Yt({operationType:"stop"})}),0)},onTimeUpdate:function(e){var t=this;void 0===Ut&&(Ut=setInterval((function(){var e=Zt.currentTime;zt("currentTime",(function(){"active"===ye.Z.runningStatus&&!1!==ye.Z.possessingBackgroundAudioPlayer&&t.currentTime!==e&&Gt.emit("Timeupdate")}))}),250)),Gt.off("Timeupdate"),Gt.on("Timeupdate",e)}};function Yt(e){(0,ue.IN)("operateBackgroundAudio",e)}["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy"].forEach((function(e){Object.defineProperty(Ht,e,{get:function(){return"src"===e&&Ht.srcCloudId?Ht.srcCloudId:"coverImgUrl"===e&&Ht.coverCloudId?Ht.coverCloudId:zt(e)},set:function(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy"].indexOf(e)>-1&&("src"===e?(0,tt.V)([t],"audio",(function(n){/^(cloud):\/\//.test(t)?Ht.srcCloudId=t:Ht.srcCloudId="",Kt(e,n.data[0].url)})):"coverImgUrl"===e?(0,tt.V)([t],"image",(function(n){/^(cloud):\/\//.test(t)?Ht.coverCloudId=t:Ht.coverCloudId="",Kt(e,n.data[0].url)})):Kt(e,t))}})}));function zt(e,t){if(!1!==ye.Z.possessingBackgroundAudioPlayer){var n=Zt[e];return(0,ue.IN)("getBackgroundAudioState",{success:function(i){void 0===i.paused||!0===i.paused?i.paused=!0:i.paused=!1,Zt=Object.assign(Zt,i),n=Zt[e],"function"==typeof t&&t(n)},fail:function(e){var t=e.errMsg;Vt.error("getBackgroundAudioState fail: ".concat(t))}}),n}}["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"].forEach((function(e){Ht["on".concat(e)]=function(t){Gt.off(e),Gt.on(e,t)}}));var qt={};function Kt(e,t){if("src"===e&&!t)throw new Error("invalid BackgroundAudioManager.src: ".concat(t));if("active"!==ye.Z.runningStatus&&!1===ye.Z.possessingBackgroundAudioPlayer)throw new ee.l0("Can not set BackgroundAudioManager.".concat(e,", background audio is preempted."));qt[e]=t,1===Object.keys(qt).length&&setTimeout((function(){Object.assign(Zt,qt),Zt.src&&Zt.title?(Vt.log("setBackgroundAudioState, stateInstance:",Zt),(0,ue.IN)("setBackgroundAudioState",Object.assign({},Zt,{fail:function(e){var t=e.errMsg;Vt.error(t),Gt.emit("Error",{errMsg:t.replace(/^setBackgroundAudioState: fail /,"")})}})),qt={}):qt={}}),0)}var Xt=new Te.Z;(0,ue.jQ)("onMusicPlay",(function(){ye.Z.possessingBackgroundAudioPlayer=!0,Xt.emit("onBackgroundAudioPlay")}));var Jt=wxNativeConsole.createLogger("MediaAudioPlayerJsApi"),$t=new WeakMap;function Qt(e,t){var n=this;$t.set(this,Object.assign($t.get(this),o()({},e,t))),this.promise.then((function(){var i;(0,ue.IN)("operateAudioPlayer",(i={operationType:"update",containerId:$t.get(n).containerId},o()(i,e,t),o()(i,"success",(function(e){Jt.log("update audio success",e)})),o()(i,"fail",(function(e){Jt.error("update audio fail",e)})),i))})).catch((function(e){Jt.error("update audio fail",e)}))}!function(){function e(){var t=this;h()(this,e),$t.set(this,{}),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),(0,ue.IN)("operateAudioPlayer",{operationType:"create",success:function(e){Jt.log("operateAudioPlayer create success",e),$t.set(t,Object.assign($t.get(t),{containerId:e.containerId})),t.resolve(e)},fail:function(e){Jt.error("operateAudioPlayer create fail",e),t.reject(e)}})}g()(e,[{key:"start",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){(0,ue.IN)("operateAudioPlayer",{operationType:"start",containerId:$t.get(e).containerId,success:function(e){Jt.log("operateAudioPlayer start success",e),t(e)},fail:function(e){Jt.error("operateAudioPlayer start fail",e),n(e)}})}))}))}},{key:"addAudioSource",value:function(e){var t=this;return this.promise.then((function(){return new Promise((function(n,i){(0,ue.IN)("operateAudioPlayer",{operationType:"addTask",containerId:$t.get(t).containerId,taskId:e.videoDecoderId,success:function(e){Jt.log("addAudioSource addTask success",e),n(e)},fail:function(e){Jt.error("addAudioSource addTask fail",e),i(e)}})}))}))}},{key:"removeAudioSource",value:function(e){var t=this;return this.promise.then((function(){return new Promise((function(n,i){(0,ue.IN)("operateAudioPlayer",{operationType:"delTask",containerId:$t.get(t).containerId,taskId:e.videoDecoderId,success:function(e){Jt.log("removeAudioSource delTask success",e),n(e)},fail:function(e){Jt.error("removeAudioSource delTask fail",e),i(e)}})}))}))}},{key:"stop",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){(0,ue.IN)("operateAudioPlayer",{operationType:"stop",containerId:$t.get(e).containerId,success:function(e){Jt.log("stop audio success",e),t(e)},fail:function(e){Jt.log("stop audio fail",e),n(e)}})}))}))}},{key:"destroy",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){(0,ue.IN)("operateAudioPlayer",{operationType:"remove",containerId:$t.get(e).containerId,success:function(e){Jt.log("destroy audio success",e),t(e)},fail:function(e){Jt.error("destroy audio fail",e),n(e)}}),$t.delete(e)}))}))}},{key:"volume",get:function(){return $t.get(this).audioVolume},set:function(e){return Qt.call(this,"audioVolume",e),e}}])}();var en=wxNativeConsole.createLogger("MediaAudioPlayerBinding"),tn=new WeakMap;function nn(e,t){var n=this;tn.set(this,Object.assign(tn.get(this),o()({},e,t))),this.promise.then((function(){ke.Z.MediaToolKit.audioUpdate(o()({containerId:tn.get(n).containerId},e,t),(function(e){0===e.errCode?en.log("operateAudioPlayer update success",e):en.error("operateAudioPlayer update fail",e)}))})).catch((function(e){en.error("update audio fail",e)}))}!function(){function e(){var t=this;h()(this,e),tn.set(this,{}),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),en.log("NativeGlobal.MediaToolKit.audioCreate",ke.Z.MediaToolKit.audioCreate),ke.Z.MediaToolKit.audioCreate({},(function(e){0===e.errCode?(en.log("NativeGlobal.MediaToolKit.audioCreate success",e),tn.set(t,Object.assign(tn.get(t),{containerId:e.containerId})),t.resolve(e)):(en.error("create MediaAudioPlayerBinding fail"),t.reject(e))}))}g()(e,[{key:"start",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){ke.Z.MediaToolKit.audioStart({containerId:tn.get(e).containerId},(function(e){0===e.errCode?(en.log("operateAudioPlayer start success",e),t(e)):(en.error("operateAudioPlayer start fail",e),n(e))}))}))}))}},{key:"addAudioSource",value:function(e){var t=this;return this.promise.then((function(){return new Promise((function(n,i){ke.Z.MediaToolKit.audioAddTask({containerId:tn.get(t).containerId,taskId:e.videoDecoderId},(function(e){0===e.errCode?(en.log("addAudioSource addTask success",e),n(e)):(en.error("addAudioSource addTask fail",e),i(e))}))}))}))}},{key:"removeAudioSource",value:function(e){var t=this;return this.promise.then((function(){return new Promise((function(n,i){ke.Z.MediaToolKit.audioDelTask({containerId:tn.get(t).containerId,taskId:e.videoDecoderId},(function(e){0===e.errCode?(en.log("removeAudioSource delTask success",e),n(e)):(en.error("removeAudioSource delTask fail",e),i(e))}))}))}))}},{key:"stop",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){ke.Z.MediaToolKit.audioStop({containerId:tn.get(e).containerId},(function(e){0===e.errCode?(en.log("stop audio success",e),t(e)):(en.log("stop audio fail",e),n(e))}))}))}))}},{key:"destroy",value:function(){var e=this;return this.promise.then((function(){return new Promise((function(t,n){ke.Z.MediaToolKit.audioRemove({containerId:tn.get(e).containerId},(function(e){0===e.errCode?(en.log("destroy audio success",e),t(e)):(en.error("destroy audio fail",e),n(e))})),tn.delete(e)}))}))}},{key:"volume",get:function(){return tn.get(this).audioVolume},set:function(e){return nn.call(this,"audioVolume",e),e}}])}();var an=n(3477),rn=n(8586),on=null,sn=!1;(0,rn.H)((function(){sn=!0})),Ie((function(){sn=!1,on&&(ln(on),on=null)}));var cn=100,ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type||(e.type="all"),void 0===e.count&&(e.count=cn),(0,an.r3)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?(0,an.YG)("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>cn&&(e.count=cn),sn?on=e:(0,an.IN)("chooseMessageFile",e)):(0,an.YG)("chooseMessageFile",e,"param extension should not be empty."):(0,an.YG)("chooseMessageFile",e,"param extension should be Array."))},un=(n(2626),(0,me.s)("AudioInterruptionBegin")),dn=(un.onMethod,un.offMethod,un.internalOnMethod,un.internalOffMethod,(0,me.s)("AudioInterruptionEnd")),pn=(dn.onMethod,dn.offMethod,dn.internalOnMethod,dn.internalOffMethod,!1);(0,ue.jQ)("onAudioInterruptionBegin",(function(e){wxNativeConsole.info("onAudioInterruptionBegin"),!0,!1===pn&&un.emit(e)})),(0,ue.jQ)("onAudioInterruptionEnd",(function(e){wxNativeConsole.info("onAudioInterruptionEnd"),!1,!1===pn&&dn.emit(e)}));var fn=function(){return pn},hn=Object.assign,vn=new WeakMap,gn=new WeakMap;function yn(e,t){return e.map((function(e){return"video"===e.kind?new wn(e.trackId,e.duration,t):"audio"===e.kind?new _n(e.trackId,e.duration,t):null}))}var mn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;h()(this,e),this.id=t,this.duration=n,this.mediaContainer=i}return g()(e,[{key:"appendFrom",value:function(t){var n=this;if(!(t instanceof e))throw new Error("Parameter 1 should be a MediaTrack");vn.get(this.mediaContainer).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"update",containerId:n.mediaContainer.id,trackId:n.id,appendFrom:t.id,fail:(0,ee.Hw)((function(e){throw new Error("fail to append. errMsg: ".concat(e.errMsg))}),"at MediaTrack.appendFrom method")})}))}},{key:"slice",value:function(e,t){var n=this,i=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");i.push([e,t])}else i=e;vn.get(this.mediaContainer).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"update",containerId:n.mediaContainer.id,trackId:n.id,slice:i,fail:(0,ee.Hw)((function(e){throw new Error("fail to slice. errMsg: ".concat(e.errMsg))}),"at MediaTrack.slice method")})}))}}]),e}(),_n=function(e){X()(n,e);var t=$()(n);function n(e,i,a){var r;return h()(this,n),(r=t.call(this,e,i,a)).kind="audio",r}return g()(n,[{key:"volume",set:function(e){var t=this;if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");vn.get(this.mediaContainer).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"update",containerId:t.mediaContainer.id,trackId:t.id,volume:e,fail:(0,ee.Hw)((function(e){throw new Error("fail to set volume. errMsg: ".concat(e.errMsg))}),"at MediaTrack.volume setter")})}))}},{key:"atempo",set:function(e){var t=this;if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");vn.get(this.mediaContainer).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"update",containerId:t.mediaContainer.id,trackId:t.id,atempo:e,fail:(0,ee.Hw)((function(e){throw new Error("fail to set atempo. errMsg: ".concat(e.errMsg))}),"at MediaTrack.atempo setter")})}))}}]),n}(mn),wn=function(e){X()(n,e);var t=$()(n);function n(e,i,a){var r;return h()(this,n),(r=t.call(this,e,i,a)).kind="video",r}return n}(mn);!function(){function e(){var t=this;h()(this,e);var n=new Promise((function(e){(0,ue.IN)("operateMediaContainer",{operationType:"create",success:function(n){t.id=n.containerId,e()},fail:(0,ee.Hw)((function(e){throw new Error("fail to createMediaContainer. errMsg: ".concat(e.errMsg))}),"at createMediaContainer function")})}));vn.set(this,n)}g()(e,[{key:"extractDataSource",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ue.r3)("createMediaContainer.extractDataSource",t,{source:""})&&vn.get(this).then((function(){(0,ue.IN)("operateMediaTrack",hn(t,{operationType:"get",containerId:e.id}),{beforeSuccess:function(t){t.errMsg=t.errMsg.replace("operateMediaTrack","extractDataSource"),t.tracks=yn(t.tracks,e)},beforeFail:function(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}},{key:"addTrack",value:function(e){var t=this;if(!(e instanceof mn))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(gn.get(this))throw new Error("Only can be added one video track.");gn.set(this,!0)}vn.get(this).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"create",containerId:t.id,trackId:e.id,fail:(0,ee.Hw)((function(e){throw new Error("fail to addTrack. errMsg: ".concat(e.errMsg))}),"at createMediaContainer.addTrack function")})}))}},{key:"removeTrack",value:function(e){var t=this;if(!(e instanceof mn))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&gn.set(this,!1),vn.get(this).then((function(){(0,ue.IN)("operateMediaTrack",{operationType:"remove",containerId:t.id,trackId:e.id})}))}},{key:"export",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.mimeType||(t.mimeType="mp4"),vn.get(this).then((function(){(0,ue.IN)("operateMediaContainer",hn(t,{operationType:"export",containerId:e.id}))}))}},{key:"destroy",value:function(){var e=this;vn.get(this).then((function(){(0,ue.IN)("operateMediaContainer",{operationType:"remove",containerId:e.id})}))}}])}();var bn=n(9769),In=n(2363),En=new Te.Z,Tn=new WeakMap,kn=new WeakMap;(0,ue.jQ)("onCanvasPlayerStateChange",(function(e){var t=e.state;"playEnd"===t?En.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?En.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&En.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var An=!1;function Cn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=c()(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn.get(t),e.next=3,n;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,ue.bb)("operateCanvasPlayer",u()(u()({},n),{},{containerId:e.id||0,operationType:t}))}function Pn(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,r){n.g.NativeGlobal.MediaToolKit[t](u()(u()({},i),{},{containerId:e.id||0}),(function(e){if(0!==e.errCode){var n=new Error(e.errMsg||"".concat(t," failed"));return Object.assign(n,e),void r(n)}a(e)}))}))}function Dn(e,t,n){var i=Tn.get(e);i&&i.emit(t,n)}!function(){function e(){var t=this;h()(this,e);var i=new Te.Z;Tn.set(this,i);var a=c()(w().mark((function e(){var a,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!In.wZ){e.next=8;break}return In.wZ&&(An||(An=!0,n.g.NativeGlobal.MediaToolKit.addEventListener("onPlayerBuffSize",(function(e){En.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),n.g.NativeGlobal.MediaToolKit.addEventListener("onPlayerPlayEnd",(function(e){En.emit(e.containerId,{event:"ended",data:{}})})))),e.next=4,new Promise((function(e,t){n.g.NativeGlobal.MediaToolKit.playerCreate({},(function(n){if(0!==n.errCode){var i=new Error(n.errMsg||"create failed");return Object.assign(i,n),void t(i)}e(n)}))}));case 4:a=e.sent,t.id=a.containerId,e.next=12;break;case 8:return e.next=10,(0,ue.bb)("operateCanvasPlayer",{operationType:"create"});case 10:r=e.sent,t.id=r.containerId;case 12:En.on(t.id,(function(e){var t=e.event,n=e.data;return i.emit(t,n)}));case 13:case"end":return e.stop()}}),e)})))();kn.set(this,a)}var t,i,a,r,o;g()(e,[{key:"start",value:(o=c()(w().mark((function e(){var t,n,i,a,r,o,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,Cn(this);case 3:if(!In.wZ){e.next=21;break}if(i=t.source,t.source&&/^(http|https):\/\/.*/i.test(t.source)){e.next=10;break}return e.next=8,(0,ue.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:t.source});case 8:a=e.sent,i=a.filePath;case 10:return e.next=12,Pn(this,"playerStart",{filePath:i,mode:void 0!==t.mode?t.mode:1,videoFormat:t.videoFormat||55,startStamp:t.startTime,abortAudio:t.abortAudio,abortVideo:t.abortVideo});case 12:r=e.sent,n=Object.assign({},r.video),this.width=n.width||0,this.height=n.height||0,this.buffer=new ArrayBuffer(this.width*this.height*4),n.video=r.video,n.audio=r.audio,e.next=30;break;case 21:return e.next=23,xn(this,"start",{source:t.source,mode:void 0!==t.mode?t.mode:1,videoFormat:t.videoFormat||55,startStamp:t.startTime,abortAudio:t.abortAudio,abortVideo:t.abortVideo});case 23:o=e.sent,n=Object.assign({},o.video),this.buffId=o.buffId,this.width=n.width||0,this.height=n.height||0,n.video=o.video,n.audio=o.audio;case 30:return Dn(this,"start",n),e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"seek",value:(r=c()(w().mark((function e(t){var n,i,a=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"inaccurate",e.next=3,Cn(this);case 3:if(i="accurate"===n,!In.wZ){e.next=9;break}return e.next=7,Pn(this,"playerSeek",{seekStamp:t,seekByStamp:i});case 7:e.next=11;break;case 9:return e.next=11,xn(this,"seek",{seekStamp:t,seekByStamp:i});case 11:return Dn(this,"seek",{position:t}),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"wait",value:(a=c()(w().mark((function e(){var t,n=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,Cn(this);case 3:if(!In.wZ){e.next=8;break}return e.next=6,Pn(this,"playerWait",{wait:t});case 6:e.next=10;break;case 8:return e.next=10,xn(this,"wait",{wait:t});case 10:Dn(this,"wait",{});case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(i=c()(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this);case 2:if(!In.wZ){e.next=7;break}return e.next=5,Pn(this,"playerStop",{});case 5:e.next=9;break;case 7:return e.next=9,xn(this,"stop",{});case 9:Dn(this,"stop",{});case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"remove",value:(t=c()(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this);case 2:if(this.id&&(En.removeAllListeners(this.id),(t=Tn.get(this)).eventNames().forEach((function(e){return t.removeAllListeners(e)}))),!In.wZ){e.next=8;break}return e.next=6,Pn(this,"playerRemove",{});case 6:e.next=10;break;case 8:return e.next=10,xn(this,"remove",{});case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFrameData",value:function(){var e,t,i,a,r,o,s=this;if(In.wZ?n.g.NativeGlobal.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(function(n){n.got&&(e=s.buffer),t=n.pts,i=n.pk_pts,a=n.dts,r=n.pk_dts})):(0,ue.IN)("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:function(n){n.got&&(e=bn.Z.get(s.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=n.pts,i=n.pk_pts,a=n.dts,r=n.pk_dts},fail:function(e){o=new Error(e.errMsg&&e.errMsg.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(o,e)}}),o)throw o;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:i,dts:a,pkDts:r}:null}},{key:"on",value:function(e,t){Tn.get(this).on(e,t)}},{key:"off",value:function(e,t){Tn.get(this).off(e,t)}},{key:"videoDecoderId",get:function(){return this.id}}])}();var Rn={0:"OK","10 01 2":"Global_APINoPermission","10 02 2":"Global_APINoAuthorization","10 03 1":"Global_FileStorageNotEnough","13 01 3":"Render_CanvasIllegalInvocation","13 02 3":"Render_FontFileInvalid","13 03 3":"Render_ImageLoadFailed","14 01 2":"Network_RequestTimeout","15 01 3":"Storage_NotFound","16 01 3":"File_NotExist","22 00 2":"GameRecorder_UnknownError","22 01 2":"GameRecorder_InternalFailed","22 02 2":"GameRecorder_NotSupported","22 10 3":"GameRecorder_StartDurationInvalid","22 11 3":"GameRecorder_StartBitRateInvalid","22 12 3":"GameRecorder_StartFPSInvalid","22 13 3":"GameRecorder_StartGOPInvalid","22 14 3":"GameRecorder_StartWhileAlreadyStartRecording","22 15 3":"GameRecorder_StartWhilePaused","22 20 3":"GameRecorder_PauseWhileNotStartRecording","22 21 3":"GameRecorder_PauseWhileAlreadyPaused","22 30 3":"GameRecorder_ResumeWhileNotStartRecording","22 31 3":"GameRecorder_ResumeWhileRecording","22 40 3":"GameRecorder_AbortWhileNotStartRecording","22 50 3":"GameRecorder_StopWhileNotStartRecording","22 60 3":"GameRecorder_NoVideo","22 61 3":"GameRecorder_BGMNotFound","22 62 3":"GameRecorder_TimeRangeInvalid","22 63 3":"GameRecorder_EditDurationOutOfLimit","22 64 3":"GameRecorder_TimeRangeTooShort","23 00 2":"MediaRecorder_UnknownError","23 01 2":"MediaRecorder_InternalFailed","23 02 2":"MediaRecorder_NotSupported","23 10 3":"MediaRecorder_StartDurationInvalid","23 11 3":"MediaRecorder_StartBitRateInvalid","23 12 3":"MediaRecorder_StartFPSInvalid","23 13 3":"MediaRecorder_StartGOPInvalid","23 14 3":"MediaRecorder_StartWhileAlreadyStartRecording","23 15 3":"MediaRecorder_StartWhilePaused","23 20 3":"MediaRecorder_PauseWhileNotStartRecording","23 21 3":"MediaRecorder_PauseWhileAlreadyPaused","23 30 3":"MediaRecorder_ResumeWhileNotStartRecording","23 31 3":"MediaRecorder_ResumeWhileRecording","23 40 3":"MediaRecorder_AbortWhileNotStartRecording","23 50 3":"MediaRecorder_StopWhileNotStartRecording","23 60 3":"MediaRecorder_NoVideo","23 61 3":"MediaRecorder_BGMNotFound","23 62 3":"MediaRecorder_TimeRangeInvalid","23 63 3":"MediaRecorder_EditDurationOutOfLimit","23 64 3":"MediaRecorder_TimeRangeTooShort"},On=Object.keys(Rn).reduce((function(e,t){var n=parseInt(t.replace(/\s/g,""),10);return e[Rn[t]]=n,e}),{}),Nn=n(6928),Mn=new Te.Z,Ln=new WeakMap,Wn=new WeakMap,Fn=(new WeakMap,new WeakMap),Bn=new Map,jn=new Map,Un=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Gn(e){return Vn.apply(this,arguments)}function Vn(){return(Vn=c()(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn.get(t),e.next=3,n;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,a){n.g.NativeGlobal.MediaToolKit[e](t,(function(t){if(t&&t.errCode&&0!==t.errCode){var n=new Error(t.errMsg||"".concat(e," failed"));return Object.assign(n,t),void a(n)}i(t)}))}))}function Hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Wn.get(e),a=i.id,r=0;return i instanceof Nn.y&&(a=i.__id,r=i._offscreenCanvasId),(0,ue.bb)("operateMediaRecorder",u()(u()({},n),{},{canvasId:a,offScreenCanvasId:r,operationType:t}))}(0,ue.jQ)("onMediaRecorderStateChange",(function(e){var t,n,i=e.state,a=e.canvasId<<0;if(a=Bn.has(a)?Bn.get(a):a,delete e.state,"timeUpdate"===i)Mn.emit(a,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===i){var r=(t=e.errCode,(n={101:{code:On.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:On.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:On.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:On.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:On.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:On.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:On.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:On.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:On.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:On.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:On.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:On.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:On.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}})[t]?n[t]:[102,110,111,502,710,810].includes(t)?{code:On.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:On.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"});Mn.emit(a,{event:"error",data:{error:r}})}}));var Yn=!1;function zn(){In.wZ&&(Yn||(Yn=!0,n.g.NativeGlobal.MediaToolKit.addEventListener("onRecorderTimeUpdate",(function(e){if(jn.has(e.containerId)){var t=jn.get(e.containerId);Mn.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}))))}!function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h()(this,e),Wn.set(this,t);var a=new Te.Z;Ln.set(this,a),Mn.on(t.id,(function(e){var t=e.event,n=e.data;return a.emit(t,n)})),"number"==typeof i.duration?this.duration=Math.min(7200,Math.max(5,i.duration)):this.duration=7200,"number"==typeof i.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,i.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=i.fps||24,this.gop=i.gop||12,this.timeUpdateInterval=i.timeUpdateInterval||this.gop,this.audioPlayerId=i.audioPlayerId;var r=c()(w().mark((function e(){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!In.wZ){e.next=9;break}return zn(),e.next=4,Zn("recorderCreate",{});case 4:i=e.sent,n._containerId=i.containerId,jn.set(n._containerId,t.id),e.next=12;break;case 9:return e.next=11,Hn(n,"create",{});case 11:t instanceof Nn.y&&Bn.set(t.__id,t.id);case 12:a.emit("create",{});case 13:case"end":return e.stop()}}),e)})))();Fn.set(this,r)}var t,i,a,r,o;g()(e,[{key:"pause",value:(o=c()(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(this);case 2:if(t=Ln.get(this),!In.wZ){e.next=10;break}return e.next=6,Zn("recorderUpdate",{containerId:this._containerId,pause:!0});case 6:n=e.sent,t.emit("pause",n),e.next=13;break;case 10:return e.next=12,Hn(this,"pause",{});case 12:t.emit("pause");case 13:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"resume",value:(r=c()(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(this);case 2:if(t=Ln.get(this),!In.wZ){e.next=10;break}return e.next=6,Zn("recorderUpdate",{containerId:this._containerId,pause:!1});case 6:n=e.sent,t.emit("resume",n),e.next=13;break;case 10:return e.next=12,Hn(this,"resume");case 12:t.emit("resume");case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"start",value:(a=c()(w().mark((function e(){var t,n,i,a,r,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(this);case 2:if(t=Ln.get(this),n=Wn.get(this),i={width:n.width,height:n.height,fps:this.fps,bitrate:this.videoBitsPerSecond,gop:this.gop,duration:this.duration,timeUpdateInterval:this.timeUpdateInterval,audioPlayerId:this.audioPlayerId,cumulativeStamp:!0},In.cj&&E.Z.clientVersion<385879296?i.duration=Math.floor(this.duration):i.duration=Math.floor(1e3*this.duration),!In.wZ){e.next=24;break}return e.next=9,(0,ue.bb)("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:"".concat(Date.now()),mimeType:"mp4",autoDeleteIfExists:!0});case 9:return a=e.sent,this.tempFilePath=a.localId,this._absoluteFilePath=a.filePath,r=n.id,n instanceof Nn.y&&(r=n._offscreenCanvasId),i.containerId=this._containerId,i.canvasId=r,i.notifyVideoKeyFrame=!0,i.filePath=a.filePath,e.next=20,Zn("recorderStart",i);case 20:o=e.sent,t.emit("start",o),e.next=27;break;case 24:return e.next=26,Hn(this,"start",i);case 26:t.emit("start");case 27:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(i=c()(w().mark((function e(){var t,n,i,a,r,o,s,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(this);case 2:if(t=Ln.get(this),!In.wZ){e.next=12;break}return e.next=6,Zn("recorderStop",{containerId:this._containerId});case 6:return e.next=8,Zn("analysis",{filePath:this._absoluteFilePath});case 8:i=e.sent,n={duration:i.duration,tempFilePath:this.tempFilePath,fileSize:i.size},e.next=20;break;case 12:return e.next=14,Hn(this,"stop");case 14:a=e.sent,r=a.tempFilePath,o=a.tempThumbPath,s=a.fileSize,c=a.duration,n={tempFilePath:r,tempThumbPath:o,fileSize:s,duration:c};case 20:return t.emit("stop",n),e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"requestFrame",value:(t=c()(w().mark((function e(){var t,i,a,r,o=this,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:function(){},e.next=3,Gn(this);case 3:if(i=Wn.get(this),!In.wZ){e.next=18;break}return e.next=7,new Promise((function(e){n.g.NativeGlobal.MediaToolKit.recorderCapture({containerId:o._containerId},e)}));case 7:if(a=e.sent,r=1e3/this.fps,a.got){e.next=16;break}return e.next=12,Un(r);case 12:return e.next=14,this.requestFrame(t);case 14:e.next=17;break;case 16:t();case 17:return e.abrupt("return");case 18:if(!(i instanceof Nn.y)){e.next=22;break}setTimeout((function(){t(),n.g.WeixinCanvas.recordFrame(i.__id,i._offscreenCanvasId)})),e.next=25;break;case 22:return e.next=24,new Promise((function(e){return i.requestAnimationFrame(e)}));case 24:t();case 25:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"on",value:function(e,t){"timeUpdate"===e&&(e="timeupdate"),Ln.get(this).on(e,t)}},{key:"off",value:function(e,t){"timeUpdate"===e&&(e="timeupdate"),Ln.get(this).off(e,t)}},{key:"destroy",value:function(){var e=c()(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Wn.get(this),Mn.removeAllListeners(t.id),(n=Ln.get(this)).eventNames().forEach((function(e){return n.removeAllListeners(e)})),!In.wZ){e.next=12;break}return e.next=7,Gn(this);case 7:return jn.delete(this._containerId),e.next=10,Zn("recorderRemove",{containerId:this._containerId});case 10:e.next=14;break;case 12:return e.next=14,Hn(this,"remove");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}])}();Object.assign;var qn=n(3464),Kn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,$n=new WeakMap,Qn=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new Map,ii=new Map;ke.Z.EventHandler&&(ke.Z.EventHandler.onbindingobjectdestruct=function(e){var t=ii[e];t&&(0,ue.IN)("getAudioState",{audioId:t,success:function(e){!0===e.paused?(ni.delete(t),(0,ue.IN)("destroyAudioInstance",{audioId:t})):ni.get(t)&&!1===ni.get(t).loop&&li.once("".concat(t,"_onAudioStateChange_ended"),(function(){ni.delete(t),(0,ue.IN)("destroyAudioInstance",{audioId:t})}))}})});var ai=function(e,t){var n=this;Xn.set(this,Object.assign(Xn.get(this),o()({},e,t))),"src"===e&&Xn.set(this,Object.assign(Xn.get(this),{paused:!0})),$n.get(this)&&(setTimeout((function(){var i=Object.assign({},Xn.get(n),Qn.get(n),{timestamp:Date.now(),audioId:Kn.get(n),success:function(){Xn.set(n,Object.assign(Xn.get(n),o()({},e,t)))},fail:function(){oi.call(n)}});fn()&&(i.autoplay=!1),(0,ue.IN)("setAudioState",i),$n.set(n,!0)}),0),$n.set(this,!1)),Qn.set(this,Object.assign(Qn.get(this),o()({},e,t)))},ri=function(e,t){var n=this;ti.get(this).then((function(){ai.call(n,e,t)}))},oi=function(e,t){var n=this,i=Xn.get(this)[e];return(0,ue.IN)("getAudioState",{audioId:Kn.get(this),success:function(a){delete a.errMsg,Xn.set(n,Object.assign(Xn.get(n),a)),i=a[e],"function"==typeof t&&t(i)}}),i},si=function(e){var t=Kn.get(this);(0,ue.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:function(e){var t=e.errMsg;hi("error",{errMsg:t,errCode:-1})}},e))},ci=function(e){var t=this;ti.get(this).then((function(){setTimeout((function(){si.call(t,e)}),0)}))},li=new Te.Z;(0,ue.jQ)("onAudioStateChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.state=e.state.toLowerCase();var t=e.state,n=e.audioId;delete e.audioId,delete e.state;var i="play"!==t,a=ni.get(n);a&&(a.paused=i),(0,ue.IN)("getAudioState",{audioId:n,success:function(){t}}),li.emit("".concat(n,"_onAudioStateChange_").concat(t),e)}));var ui=function(e,t){var n="".concat(Kn.get(this),"_onAudioStateChange_").concat(e),i=function(n){__errorTracer__.surroundThirdByTryCatch(t,"at audioContext.on".concat(e," callback function"))(n)};ei.set(t,i),li.on(n,i)},di=function(e,t){var n=this;ti.get(this).then((function(){ui.call(n,e,t)}))},pi=function(e,t){var n="".concat(Kn.get(this),"_onAudioStateChange_").concat(e);if((0,_e.mf)(t)){var i=ei.get(t);(0,_e.mf)(i)&&li.off(n,i)}else li.removeAllListeners(n)},fi=function(e,t){var n=this;ti.get(this).then((function(){pi.call(n,e,t)}))},hi=function(e,t){li.emit("".concat(Kn.get(this),"_onAudioStateChange_").concat(e),t)},vi=0,gi=!1;const yi=function(){function e(){var t,n,i=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.async,o=void 0===r||r;h()(this,e),Xn.set(this,{}),Qn.set(this,{}),Jn.set(this,void 0),$n.set(this,!0),ti.set(this,new qn.Q((function(e,i){t=e,n=i}))),(0,ue.IN)(In.wZ&&(0,T.aI)()&&E.Z.clientVersion>=654315008&&o||In.jP?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:function(e){var n={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:""};if(ni.set(e.audioId,n),Kn.set(i,e.audioId),Xn.set(i,n),ke.Z.BindingObject){var a=new ke.Z.BindingObject;i.__bindingObject=a,ii[a.__id]=e.audioId}vi+=1,++vi>=1024&&!gi&&In.cj&&(gi=!0,Reporter.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),setTimeout(t,0)},fail:function(e){n(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((function(e){i["on".concat(e)]=function(t){di.call(i,e.toLowerCase(),t)},i["off".concat(e)]=function(t){fi.call(i,e.toLowerCase(),t)}}))}return g()(e,[{key:"src",get:function(){return this.cloudId?this.cloudId:oi.call(this,"src")},set:function(e){var t=this;"string"==typeof e&&0!==e.length?(0,tt.V)([e],"audio",(function(n){/^(cloud):\/\//.test(e)?t.cloudId=e:t.cloudId="",e=n.data[0].url,ri.call(t,"src",e)})):hi.call(this,"error",{errMsg:"Failed to set src, the src ".concat(e," is invalid.")})}},{key:"startTime",get:function(){return oi.call(this,"startTime")/1e3},set:function(e){"number"==typeof e?ri.call(this,"startTime",1e3*e):hi("error",{errMsg:"Failed to set startTime, the startTime ".concat(e," is invalid.")})}},{key:"autoplay",get:function(){return oi.call(this,"autoplay")},set:function(e){"boolean"==typeof e&&ri.call(this,"autoplay",e)}},{key:"loop",get:function(){return oi.call(this,"loop")},set:function(e){"boolean"==typeof e&&ri.call(this,"loop",e)}},{key:"obeyMuteSwitch",get:function(){return oi.call(this,"obeyMuteSwitch")},set:function(e){"boolean"==typeof e&&ri.call(this,"obeyMuteSwitch",e)}},{key:"volume",get:function(){return oi.call(this,"volume")},set:function(e){"number"!=typeof e||e<0||e>1||ri.call(this,"volume",e)}},{key:"playbackRate",get:function(){return oi.call(this,"playbackRate")},set:function(e){"number"!=typeof e||e<0||ri.call(this,"playbackRate",e)}},{key:"referrerPolicy",get:function(){return oi.call(this,"referrerPolicy")},set:function(e){"string"==typeof e&&ri.call(this,"referrerPolicy",e)}},{key:"paused",get:function(){return oi.call(this,"paused")}},{key:"duration",get:function(){return oi.call(this,"duration")/1e3}},{key:"currentTime",get:function(){return oi.call(this,"currentTime")/1e3}},{key:"buffered",get:function(){return oi.call(this,"buffered")/1e3}},{key:"play",value:function(){!1===fn()&&ci.call(this,{operationType:"play"})}},{key:"pause",value:function(){ci.call(this,{operationType:"pause"})}},{key:"stop",value:function(){ci.call(this,{operationType:"stop"})}},{key:"seek",value:function(e){"number"!=typeof e||e<0?hi("error",{errMsg:"Failed to seek, the currentTime ".concat(e," is invalid.")}):ci.call(this,{operationType:"seek",currentTime:1e3*e})}},{key:"destroy",value:function(){var e=this;ti.get(this).then((function(){var t=Kn.get(e);ni.has(t)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((function(e){var n="".concat(t,"_onAudioStateChange_").concat(e);li.removeAllListeners(n)})),ni.delete(t),vi-=1,(0,ue.IN)("destroyAudioInstance",{audioId:t}))}))}},{key:"onTimeUpdate",value:function(e){var t=this;ti.get(this).then((function(){var n="".concat(Kn.get(t),"_onAudioStateChange_timeupdate");void 0===Jn.get(t)&&Jn.set(t,setInterval((function(){if("active"===ye.Z.runningStatus&&!0!==Xn.get(t).paused&&1!==Xn.get(t).paused){var e=Xn.get(t).currentTime;oi.call(t,"currentTime",(function(t){t!==e&&li.emit(n)}))}}),250)),li.removeAllListeners(n);var i=function(t){__errorTracer__.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};ei.set(e,i),li.on(n,i)}))}},{key:"offTimeUpdate",value:function(e){var t=this;ti.get(this).then((function(){fi.call(t,"timeupdate",e)}))}}],[{key:"pauseAllAudio",value:function(){ni.forEach((function(e,t){(0,ue.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}}]),e}();var mi,_i=function(){yi.pauseAllAudio(),Ft.pauseAllAudio(),Bt.pauseAllAudio()},wi=n(8528);!function(e){e.REWARD_ENDPAGE_HEAD_IMG="REWARD_ENDPAGE_HEAD_IMG",e.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED="REWARD_ENDPAGE_WORDING_LOGO_ENHANCED",e.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED="REWARD_ENDPAGE_WORDING_TEXT_ENHANCED",e.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED="REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED",e.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED="REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED",e.REWARD_EXPAND_CARD_HEAD_IMG="REWARD_EXPAND_CARD_HEAD_IMG",e.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED="REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED",e.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED="REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED",e.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED="REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED",e.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED="REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED",e.REWARD_OLD_ENDPAGE_BUTTON="REWARD_OLD_ENDPAGE_BUTTON",e.REWARD_TEMPLATE_AREA="REWARD_TEMPLATE_AREA",e.REWARD_PAGE_BUTTON="REWARD_PAGE_BUTTON",e.REWARD_PAGE_CARD="REWARD_PAGE_CARD",e.REWARD_PAGE_IMAGE="REWARD_PAGE_IMAGE",e.REWARD_CARD_BUTTON="REWARD_CARD_BUTTON",e.REWARD_CARD="REWARD_CARD",e.REWARD_DOWNLOAD="REWARD_DOWNLOAD",e.REWARD_DYNAMIC_CONTENT="REWARD_DYNAMIC_CONTENT",e.REWARD_DYNAMIC_BUTTON="REWARD_DYNAMIC_BUTTON"}(mi||(mi={}));var bi="REWARDED_DYNAMIC",Ii=n(5889),Ei={defaultPageHeadline:{flexDirection:"row"},defaultPageAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},defaultPageWordingWrapper:{marginTop:0,marginBottom:48,height:72},defaultPageAppName:{textAlign:"center",height:28,lineHeight:28,fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,color:"#ffffff",opacity:.8},defaultPageAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1}},Ti={expandCardHeadline:{flexDirection:"row"},expandCardAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},expandCardWordingWrapper:{marginTop:0,marginBottom:48,height:72},expandCardAppName:{textAlign:"center",height:28,lineHeight:28,fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,color:"#ffffff",opacity:.8},expandCardAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1}},ki='\n  <view id="container">\n    <video id="video" controls="false" muted="true" autoplay="false" object-fit="contain" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad" player-hint="supportSoftDecode,mp4Only">\n      <view id="blank"></view>\n      <view id="page-card-body">\n        <view id="page-card-hot-area">\n          <image id="page-card-tip-icon"></image>\n          <text id="page-card-tip" value="了解更多"></text>\n        </view>\n        <image id="page-card-container" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=a5af9b5364f6e959667331801f6558e8&filekey=3033020101041f301d02016d040253480410a5af9b5364f6e959667331801f6558e80202423f040d00000004627466730000000131&hy=SH&storeid=32303138313031363036343533343030306464383764313336666664393336663561333230613030303030303664&bizid=1023">\n          <view id="page-card" click-state="true">\n            <image id="page-card-app-icon" bubble-event="true"></image>\n            <view id="page-card-app-information" bubble-event="true">\n              <text id="page-card-app-name" bubble-event="true"></text>\n              <text id="page-card-app-wording" bubble-event="true"></text>\n            </view>\n            <text id="page-card-button" click-state="true"></text>\n          </view>\n          <view id="page-card-split-line"></view>\n          <view id="page-card-img-container">\n            <view id="page-card-img-box" click-state="true">\n              <image id="page-card-img0" bubble-event="true"></image>\n              <image id="page-card-img1" bubble-event="true"></image>\n              <image id="page-card-img2" bubble-event="true"></image>\n              <image id="page-card-img3" bubble-event="true"></image>\n            </view>\n          </view>\n        </image>\n      </view>\n    </video>\n    '.concat('\n  <view id="dynamic-container"></view>\n','\n    <view id="card-container">\n      ').concat('\n  <view id="playable-tips-wrap">\n    <text id="playable-tips-content" value="视频结束后可试玩"></text>\n    <text id="playable-give-up" value="放弃"></text>\n    <view id="playable-cancel-box" click-state="true"></view>\n  </view>\n','\n      <view id="card" click-state="true">\n        <image id="app-icon" bubble-event="true"></image>\n        <view id="app-information" bubble-event="true">\n          <text id="app-name" bubble-event="true"></text>\n          <text id="app-wording" bubble-event="true"></text>\n        </view>\n        <text id="button" click-state="true"></text>\n        <view id="download-button" click-state="true">\n          <text id="download-button-text" bubble-event="true"></text>\n          <text id="download-progress" bubble-event="true">\n            <text id="download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n    ').concat('\n  <view id="expand-card-container">\n    <view id="expand-card-info-container">\n      <view id="expand-card-wording-wrapper">\n        <view id="expand-card-headline" bubble-event="true">\n          <image id="expand-card-app-icon" bubble-event="true"></image>\n          <text id="expand-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="expand-card-app-wording" bubble-event="true"></text>\n      </view>\n      <text id="expand-card-app-conversion"></text>\n      <text id="expand-card-button" click-state="true"></text>\n    </view>\n  </view>\n',"\n    ").concat('\n  <view id="pendant-container"></view>\n',"\n    ").concat('\n  <view id="default-page-container">\n    <view id="default-page-background-container">\n      <image id="default-page-background-image"></image>\n      <view id="default-page-background-mask"></view>\n    </view>\n    <view id="default-page-info-container">\n      <view id="default-page-wording-wrapper">\n        <view id="default-page-headline" bubble-event="true">\n          <image id="default-page-app-icon" bubble-event="true"></image>\n          <text id="default-page-app-name" bubble-event="true"></text>\n        </view>\n        <text id="default-page-app-wording" bubble-event="true"></text>\n      </view>\n      <text id="default-page-app-conversion"></text>\n      <text id="default-page-button" click-state="true"></text>\n    </view>\n  </view>\n',"\n    ").concat('\n  <view id="page-container">\n    <view id="page-img-container">\n      <view id="page-img-box">\n        <image id="page-img0" bubble-event="true"></image>\n        <image id="page-img1" bubble-event="true"></image>\n        <image id="page-img2" bubble-event="true"></image>\n      </view>\n      <view id="page-img-tips">\n        <view id="page-img-icon0"></view>\n        <view id="page-img-icon1"></view>\n        <view id="page-img-icon2"></view>\n      </view>\n    </view>\n    <view id="page-info-container">\n      <view id="page-info-wrapper">\n        <image id="page-app-icon"></image>\n        <text id="page-app-name"></text>\n        <text id="page-app-wording"></text>\n        <text id="page-app-conversion"></text>\n        <text id="page-button" click-state="true"></text>\n        <view id="page-download-button" click-state="true">\n          <text id="page-download-button-text" bubble-event="true"></text>\n          <text id="page-download-progress" bubble-event="true">\n            <text id="page-download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n  </view>\n','\n    <view id="page-handler"></view>\n    <view id="page-mask"></view>\n    ').concat('\n  <view id="top-bar">\n    <view id="bar-left">\n      <view id="count">\n        <view id="ad-feedback">\n          <text id="ad-text" value="广告" bubble-event="true"></text>\n          <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n          <view id="split-line-left" bubble-event="true"></view>\n        </view>\n        <text id="count-down"></text>\n        <text id="count-down-append"></text>\n      </view>\n    </view>\n    <view id="bar-right">\n      <image id="sound"></image>\n      <view id="split-line"></view>\n      <text id="close" value="关闭"></text>\n    </view>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n  <view id="top-bar-fix">\n    <view id="bar-left-fix">\n      <image id="sound-fix"></image>\n      <view id="split-line-fix"></view>\n      <text id="count-down-fix"></text>\n      <text id="count-down-append-fix"></text>\n      <text id="close-fix" value="关闭广告"></text>\n    </view>\n  </view>\n','\n    <view id="dialog-close-tip">\n      <view id="ad-close-tip-wrap">\n        <text id="ad-close-tip-content" bubble-event="true" value="感谢你的反馈"></text>\n      </view>\n    </view>\n    <view id="dialog-container">\n      <view id="dialog-mask"></view>\n      <view id="dialog">\n        <text id="dialog-title"></text>\n        <view id="dialog-split"></view>\n        <view id="dialog-button">\n          <text id="dialog-close" value="放弃"></text>\n          <view id="button-split"></view>\n          <text id="dialog-cancel" value="继续"></text>\n        </view>\n      </view>\n    </view>\n  </view>\n'),Ai=u()(u()(u()(u()(u()(u()(u()({container:{rotate:0,position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:1000002,hidden:!0},video:{padding:8,paddingBottom:16,flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"#ff0000",position:"absolute",bottom:0},blank:{width:1,height:1},cardContainer:{hidden:!0,position:"absolute",left:8,flexDirection:"column",alignSelf:"stretch",overflow:"hidden"},card:{hidden:!0,backgroundColor:"rgba(247, 247, 247, 0.95)",borderColor:"rgba(0, 0, 0, 0.08)",flexDirection:"row",alignItems:"center",borderRadius:8,portrait:{height:90,padding:16},landscape:{width:348,height:72,padding:10}},appIcon:{borderRadius:8,opacity:.95,portrait:{width:48,height:48,marginRight:10},landscape:{width:45,height:45,marginRight:6}},appInformation:{flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},appName:{height:22.5,lineHeight:22.5,marginBottom:5,fontSize:17,lineBreak:"ellipsis",color:"#000000",portrait:{marginBottom:5},landscape:{marginBottom:2}},appWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#888888",fontSize:14},button:{width:84,height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#ffffff",borderWidth:1,borderColor:"#07C160",borderRadius:4,marginLeft:8,backgroundColor:"#07C160"},downloadButton:{width:62,height:32,hidden:!0,marginLeft:10},downloadButtonText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},dialogContainer:{zIndex:1000007,position:"absolute",overflow:"hidden",top:0,left:0,hidden:!0},dialogMask:{position:"absolute",overflow:"hidden",backgroundColor:"#000000",opacity:.7,top:0,left:0},dialog:{position:"absolute",width:300,height:168,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)"},dialogTitle:{marginTop:28,marginBottom:27,width:300,height:48,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17,fontWeight:"bold",lineBreak:"break-all"},dialogSplit:{width:300,height:1,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogButton:{width:300,justifyContent:"center",flexDirection:"row",alignItems:"center"},buttonSplit:{width:1,height:63.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogClose:{marginTop:19,marginBottom:19,width:149.5,height:25,lineHeight:25,textAlign:"center",color:"#000000",fontWeight:"bold",fontSize:18},dialogCancel:{marginTop:19,marginBottom:19,width:150,height:25,lineHeight:25,textAlign:"center",color:"#576A94",fontWeight:"bold",fontSize:18},pageCardBody:{position:"absolute",hidden:!0,flexDirection:"column",alignItems:"center",height:340},pageCardHotArea:{flexDiretion:"cloumn",alignItems:"center",height:70},pageCardTipIcon:{hidden:!0,marginTop:33,width:20,height:6.5},pageCardTip:{marginTop:2,hidden:!0,width:52,height:20,lineHeight:20,fontSize:13,color:"#ffffff"},pageCardContainer:{borderRadius:10,flexDirection:"column",height:270},pageCard:{paddingLeft:15,paddingRight:15,flexDirection:"row",alignItems:"center",borderRadius:5,height:80},pageCardAppIcon:{borderRadius:10,opacity:.95,width:48,height:48},pageCardAppInformation:{paddingLeft:5,marginTop:3,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},pageCardAppName:{height:22.5,fontSize:16,color:"#ffffff"},pageCardAppWording:{height:20,marginTop:1,color:"#888888",fontSize:14},pageCardButton:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:14,color:"#ffffff",borderWidth:1,backgroundColor:"#07C160",borderColor:"#07C160",borderRadius:4},pageCardSplitLine:{marginLeft:15,marginRight:15,height:1,backgroundColor:"rgba(255, 255, 255, 0.10)"},pageCardImgContainer:{marginTop:15,marginLeft:15,marginRight:15,marginBottom:25,height:150,overflow:"hidden"},pageCardImgBox:{height:150,left:0,flexDirection:"row",justifyContent:"center"},pageCardImg0:{order:0,borderRadius:3},pageCardImg1:{marginLeft:10,order:1,borderRadius:3},pageCardImg2:{marginLeft:10,order:2,borderRadius:3},pageCardImg3:{marginLeft:10,order:3,borderRadius:3},pageHandler:{top:0,position:"absolute",hidden:!0},pageMask:{top:0,position:"absolute",backgroundColor:"#000000",hidden:!0},dialogCloseTip:{hidden:!0,position:"absolute",overflow:"hidden",top:0,left:0},adCloseTipWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{playableTipsWrap:{left:0,hidden:!0,marginBottom:10,width:132,height:32,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:4},playableTipsContent:{width:100,height:16,lineHeight:16,fontSize:12,color:"#ffffff",textAlign:"center"},playableGiveUp:{hidden:!0,marginLeft:8,width:24,height:32,lineHeight:32,fontSize:12,color:"#07C160"},playableCancelBox:{hidden:!0,width:44,height:32,left:72,position:"absolute"}}),{pageContainer:{top:0,hidden:!0,position:"absolute",backgroundColor:"#ffffff"},pageImgContainer:{position:"absolute",overflow:"hidden",backgroundColor:"#000000"},pageImgBox:{flexDirection:"row",justifyContent:"center",position:"absolute",backgroundColor:"#000000"},pageImg0:{flex:1,order:0},pageImg1:{flex:1,order:1},pageImg2:{flex:1,order:2},pageImgTips:{flexDirection:"row",justifyContent:"center",height:10,width:35},pageImgIcon0:{height:7,width:7,borderRadius:16,backgroundColor:"#ffffff"},pageImgIcon1:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageImgIcon2:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},pageInfoWrapper:{flexDirection:"column",alignItems:"center",height:242},pageAppIcon:{borderRadius:8,width:64,height:64},pageAppName:{marginTop:20,width:180,textAlign:"center",height:28,lineHeight:28,fontSize:20,color:"#000000"},pageAppWording:{marginTop:4,marginBottom:20,width:220,height:28,textAlign:"center",lineHeight:28,color:"#888888",fontSize:17},pageAppConversion:{hidden:!0,width:220,height:24,textAlign:"center",lineHeight:24,color:"#000000",opacity:.3,fontSize:14},pageButton:{marginTop:14,width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4},pageDownloadButton:{marginTop:14,width:166,height:42,hidden:!0},pageDownloadButtonText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#ffffff"},pageDownloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},pageDownloadProgressText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#04be02"}}),{defaultPageContainer:{hidden:!0,top:0,position:"absolute",backgroundColor:"#000000"},defaultPageBackgroundContainer:{position:"absolute"},defaultPageBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.6},defaultPageBackgroundImage:{position:"absolute",left:0,top:0},defaultPageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},defaultPageAppIcon:{borderRadius:8,width:64,height:64,left:0},defaultPageAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1},defaultPageAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:17},defaultPageAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},defaultPageButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4}}),{topBar:{zIndex:1000003,position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:0,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10}},barLeft:{flexWrap:"nowrap"},count:{marginLeft:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:33.5,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{height:32,lineHeight:32,color:"#ffffff",fontSize:14},barRight:{marginRight:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"},close:{width:29,height:32,lineHeight:32,color:"#ffffff",fontSize:14},splitLine:{width:1,height:18.5,marginLeft:8,marginRight:8,backgroundColor:"rgba(255, 255, 255, 0.25)"},sound:{width:20,height:20},topBarFix:{zIndex:1000003,position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:10,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10},hidden:!0},barLeftFix:{marginRight:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"},soundFix:{width:20,height:20},splitLineFix:{width:1,height:18.5,marginLeft:8,marginRight:8,backgroundColor:"rgba(255, 255, 255, 0.25)"},countDownFix:{width:33.5,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppendFix:{height:32,lineHeight:32,color:"#ffffff",fontSize:14},closeFix:{width:56,height:32,lineHeight:32,color:"#ffffff",fontSize:14},adFeedback:{hidden:!0,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:4},splitLineLeft:{width:1,height:18.5,marginLeft:12,marginRight:12,backgroundColor:"rgba(255, 255, 255, 0.25)"},adFeedbackList:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}}),{expandCardContainer:{hidden:!0,top:0,position:"absolute",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0)"},expandCardInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},expandCardAppIcon:{borderRadius:8,width:64,height:64,left:0},expandCardAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1},expandCardAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:17},expandCardAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},expandCardButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4}}),{dynamicContainer:{hidden:!0,position:"absolute",top:0,left:0}}),{pendantContainer:{hidden:!0,position:"absolute"}}),Ci=n(7239),Si=n(999),xi=n(3769),Pi=n(2958),Di=n(9390),Ri=[{op:"insert",id:"innerPendant",parent:"pendantContainer",tpl:{type:"image",id:"innerPendantImage",style:{width:80,height:60},options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wxgame_video_card.pendant_img"},events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",expr:"$scope.private.pendantContainer.style.hidden == $const.true",value:{list:[{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth < $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#sub($const.systemInfo.screenWidth, 92)",bottomExpr:"#rewardedVideoIsExpandStyle() ? #add(12, #multi(1032, #division($const.systemInfo.screenWidth, 960))) : 150"}},{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#rewardedVideoIsExpandStyle() ? #sub(#sub(#division($const.systemInfo.screenWidth, 2), #division($const.systemInfo.screenHeight, 6)), 92)  : #sub($const.systemInfo.screenWidth, 92)",bottom:20}}]}}],tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{id:924,key:172,extInfo:"pendant-click"}}]}}}}],Oi=L.DX["incentive-video"],Ni=function(e){return(0,ce.Wj)(e)},Mi=function(){return se._u.apply(void 0,arguments)},Li=I()(ki).root,Wi="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",Fi="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",Bi="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJAic1IGjzG9g458d7DpIe8URUq74t0dicbwKKc69rPBf8hiby1llOBTndbKUq2NTA9YaA/0?wx_fmt=png",ji=1e3,Ui=2e3,Gi=500,Vi=!1,Zi="portrait",Hi=0,Yi=0,zi=0,qi=0,Ki=0,Xi=0,Ji={};E.Z.onReady((function(){Ji=E.Z.safeArea||{};try{E.Z.global.window.pageOrientation&&(Zi=E.Z.global.window.pageOrientation)}catch(e){}if(Y.S3.isIOS?Vi=!0===E.Z.showStatusBar:Y.S3.isAndroid&&(Vi=!0===E.Z.showStatusBar||"true"===E.Z.showStatusBar),Y.S3.isWaGame){var e=n(4853).Z;e.onTouchStart((function(e){null!=e&&e.changedTouches&&e.changedTouches.length>0&&(Hi=Math.round(e.changedTouches[0].clientX),Yi=Math.round(e.changedTouches[0].clientY),zi=0,qi=0,Xi=0,Ki=+new Date)})),e.onTouchEnd((function(e){null!=e&&e.changedTouches&&e.changedTouches.length>0&&(zi=Math.round(e.changedTouches[0].clientX),qi=Math.round(e.changedTouches[0].clientY),Xi=+new Date-Ki)}))}}));var $i,Qi,ea,ta,na,ia,aa,ra,oa,sa,ca,la,ua,da,pa,fa,ha,va,ga,ya,ma,_a,wa,ba,Ia,Ea,Ta,ka,Aa,Ca,Sa,xa,Pa,Da=function(e,t){var n=e.touchendTimeStamp-e.touchstartTimeStamp;e.touchendTimeStamp>0&&e.touchstartTimeStamp>0&&n>=0&&(0,Si.J)(17035,{aid:t.aid,traceid:t.traceid,touch_start_x:Math.round(e.touchstartPosX),touch_start_y:Math.round(e.touchstartPosY),touch_end_x:Math.round(e.touchendPosX),touch_end_y:Math.round(e.touchendPosY),touch_duration:n,screenwidth:Y.S3.screenWidth,screenheight:Y.S3.screenHeight,device_orientation:Y.S3.deviceOrientation})},Ra=function(){var e=Ni(this);try{if(Y.S3.isIOS&&Y.S3.isApp&&e.adProxy.isValidCondition("widget_gray_measure_text")){var t;(0,ue.IN)("measureText",{text:e.button.value,fontSize:16,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete:function(e){t={width:e.width||0}}}),!1===e.button.style.hidden&&(e.button.style.width=t.width+24),e.data.flooringPage&&2===e.pageType&&((0,ue.IN)("measureText",{text:e.button.value,fontSize:e.pageCardButton.style.fontSize||14,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete:function(e){t={width:e.width||0}}}),e.pageCardButton.style.width=t.width+24)}else{var n=wi.Z.getTextWidthInAndroid(e.button.value,e.button.style.fontSize||16)+24;!1===e.button.style.hidden&&(e.button.style.width=n),!1===e.downloadButton.style.hidden&&(n=wi.Z.getTextWidthInAndroid(e.downloadButtonText.value,e.downloadButtonText.style.fontSize||13)+24,e.downloadButton.style.width=n+2,e.downloadButtonText.style.width=n,e.downloadProgressText.style.width=n),e.data.flooringPage&&2===e.pageType&&(n=wi.Z.getTextWidthInAndroid(e.button.value,e.pageCardButton.style.fontSize||14)+24,e.pageCardButton.style.width=n)}}catch(t){e.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_BUTTON_WIDTH_ERROR,t)}},Oa="video-ad has been destroyed",Na=function(){var e=Ni(this);return e.playableTipsWrap.animate({left:-144,duration:200}).then((function(){var t="即将跳转试玩",n={text:t=Y.S3.isIOS?"".concat(t," "):t,fontSize:12},i=(0,N.X1)(n)||72,a=(0,N.X1)({text:"放弃",fontSize:12})||24;return e.playableTipsContent.style.width=i,e.playableGiveUp.style.width=a,e.playableTipsWrap.style.width=i+a+32,e.playableTipsContent.value=t,e.playableGiveUp.value="放弃",e.playableGiveUp.style.hidden=!1,e.playableCancelBox.style.left=i+12,e.playableCancelBox.style.hidden=!1,e.playableCancelBox.style.width=a+20,(0,se.Vs)(300).then((function(){return e.playableTipsWrap.animate({left:0,duration:200})}))}))},Ma=function(e){if(!Ur.call(this)){var t=Ni(this);if("object"===Z()(e)&&e.length>0){var n,i=p()(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t[a]&&(t[a].style.width=Y.S3.screenWidth,t[a].style.height=Y.S3.screenHeight)}}catch(e){i.e(e)}finally{i.f()}}}},La=function(){var e=this;if(Ur.call(this))return Promise.reject({errMsg:Oa});var t=Ni(this);return Fa.call(this,"hide").then((function(){Y.S3.isWaGame||(t.adProxy.setPageOrientation(Y.S3.deviceOrientation),Y.S3.isAndroid&&(t.updateScreenInfoTimer&&(clearTimeout(t.updateScreenInfoTimer),t.updateScreenInfoTimer=null),t.updateScreenInfoTimer=setTimeout((function(){var n=Y.S3.screenWidth,i=Y.S3.screenHeight;(0,Y.uj)();var a=!1,r=0;Y.S3.screenHeight===i&&Y.S3.screenWidth===n||(a=!0,r=Y.S3.screenHeight-i),r&&(t.cardContainer.style.top+=r);var o=["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask"];Zr.call(e)&&o.push("video"),Ma.call(e,o),a&&Zr.call(e)&&(Ga.call(e,!0),Jr.call(e),ro.call(e))}),1e3)))}))},Wa=function(){if(Ur.call(this))return Promise.reject({errMsg:Oa});var e=Ni(this);return Fa.call(this,"show").then((function(){Y.S3.isWaGame||e.adProxy.setPageOrientation(Zi)})).catch((function(t){throw e.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR,t),t}))},Fa=function(e){var t=Ni(this);return Yr.call(this)?Promise.resolve():t.adProxy.operateFullscreen(e)},Ba=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ur.call(this))return!1;var n=Ni(this),i=n.adProxy.isTriggerClick(e),a=i?0:1;return t&&br.call(this,e,a),i},ja=function(){var e=this;if(!Ur.call(this)){var t=Ni(this),n=t.data,i=n.product_type,a=n.button_action,r=n.card,o=r.icon,s=r.name,c=r.wording,l=r.showTime,u=r.headBgImg,d=r.mpTagType,p=n.app,f=n.flooringPage,h=zr.call(this);t.cardShowTime=l,t.appIcon.src=o,t.appName.value=(0,se.$G)(s,20),t.appWording.value=c,t.appIcon.style.borderRadius=10,-1===[12,19].indexOf(i)&&("portrait"===Y.S3.deviceOrientation?t.appIcon.style.borderRadius=27:"landscape"===Y.S3.deviceOrientation&&(t.appIcon.style.borderRadius=22)),t.button.value=a.button_text,a.button_text||(12===i?t.button.value="下载":19===i&&(t.button.value="查看")),23===i&&t.adProxy.checkFollow(t.data.app.uin).then((function(n){var i=n?"查看公众号":a.button_text||"关注公众号";t.button.value=i,Ra.call(e),t.data.flooringPage&&1===t.pageType&&0===t.buttonTextType?t.pageButton.value=i:t.data.flooringPage&&2===t.pageType&&0===t.buttonTextType?t.pageCardButton.value=i:t.pageType||(t.defaultPageButton.value=i),t.expandCardButton.value=i,yr.call(e,Pi.A$.CHANGEADBTNTEXT,{text:i})})).catch((function(){var n=p.isFollowed?"查看公众号":a.button_text||"关注公众号";t.button.value=n,Ra.call(e),yr.call(e,Pi.A$.CHANGEADBTNTEXT,{text:n})})),1===t.buttonTextType&&(t.button.value=a.button_text,yr.call(this,Pi.A$.CHANGEADBTNTEXT,{text:a.button_text})),Ra.call(this),t.pageType=null!=f&&f.landpage_type?f.landpage_type:0,rr.call(this),h&&(t.expandCardAppIcon.bubbleEvent=!1),t.expandCardAppIcon.src=o,t.expandCardAppName.value=(0,se.$G)(s,20),t.expandCardAppWording.value=c,t.expandCardButton.value=t.button.value;var v=Y.S3.screenWidth,g=Y.S3.screenHeight,y=t.expandCardInfoContainer.style;if("portrait"===Y.S3.deviceOrientation?(y.width=v,y.justifyContent="flex-start",y.paddingLeft=0,y.paddingTop=48,y.height=400/375*v,y.bottom=0,y.position="absolute"):(y.justifyContent="center",y.paddingLeft=.672*g,y.width=y.paddingLeft+300,y.paddingTop=0,y.height=g,y.bottom=null,y.position=null),!h){var m=wi.Z.getTextWidth((0,se.$G)(s,20),17);t.expandCardAppIcon.style.left=134-m/2;for(var _=0,w=Object.keys(Ti);_<w.length;_++){var b=w[_],I=Ti[b];t[b]&&Object.assign(t[b].style,I)}}if(t.expandCardAppIcon.style.borderRadius=h?8:3,-1===[L.fY.OPEN_PLATFORM_APP_MOB,L.fY.APPLE_APP_STORE].indexOf(i)&&(t.expandCardAppIcon.style.borderRadius=h?32:12),f&&1===t.pageType&&"portrait"===Y.S3.deviceOrientation)t.pageAppIcon.src=o,t.pageAppIcon.style.borderRadius=t.appIcon.style.borderRadius,t.pageAppName.value=(0,se.$G)(s,20),t.pageAppWording.value=c,t.pageButton.value=t.button.value,t.imgBaseName="pageImg",t.pageImgContainer.style.width=v,t.pageImgContainer.style.height=v,t.pageImgBox.style.width=3*v,t.pageImgBox.style.height=v,t.pageImgBox.style.left=0,t.pageInfoContainer.style.width=v,t.pageInfoContainer.style.height=g-v,t.pageInfoContainer.style.top=v,t.pageImgTips.style.top=v-20,t.pageImgTips.style.left=v/2-17.5,Y.S3.isIOS&&(t.pageImgIcon0.style.borderRadius=4,t.pageImgIcon1.style.borderRadius=4,t.pageImgIcon2.style.borderRadius=4),t.pageImgIcon0.style.backgroundColor="#ffffff",t.pageImgIcon1.style.backgroundColor="rgba(255, 255, 255, 0.55)",t.pageImgIcon2.style.backgroundColor="rgba(255, 255, 255, 0.55)",ir.call(this),Ga.call(this);else if(f&&2===t.pageType&&"portrait"===Y.S3.deviceOrientation)t.pageCardContainer.style.width=v,t.pageCardAppIcon.src=o,t.pageCardAppIcon.style.borderRadius=t.appIcon.style.borderRadius,t.pageCardAppName.value=(0,se.$G)(s,20),t.pageCardAppWording.value=c,t.pageCardButton.value=t.button.value,t.pageCard.style.width=v,t.pageCardSplitLine.style.width=v-20,t.pageCardHotArea.style.width=v,t.pageCardImgContainer.style.width=v-20,t.pageCardImgBox.style.width=tr.call(this,{padding:10}),t.pageCardTipIcon.src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=f8ba19ac709edca00138c47585de39be&filekey=3033020101041f301d02016d040253480410f8ba19ac709edca00138c47585de39be020202d1040d00000004627466730000000131&hy=SH&storeid=32303138313031303133353430323030303461363337313336666664393336663561333230613030303030303664&bizid=1023",t.video.style.padding=0,t.video.style.paddingBottom=0,t.imgBaseName="pageCardImg",ir.call(this),Ga.call(this),t.pageHandler.style.hidden=!1;else if(f&&[3,4].indexOf(t.pageType)>-1){var E="视频结束后可试玩",T={text:E=Y.S3.isIOS?"".concat(E," "):E,fontSize:12},k=(0,N.X1)(T)||100;t.playableTipsContent.style.width=k,t.playableTipsWrap.style.width=k+24,t.cardContainer.style.top-=32}else if(!t.pageType){if(h&&(t.defaultPageAppIcon.bubbleEvent=!1),t.defaultPageAppIcon.src=o,t.defaultPageAppName.value=(0,se.$G)(s,20),t.defaultPageAppWording.value=c,t.defaultPageButton.value=t.button.value,!h){var A=wi.Z.getTextWidth((0,se.$G)(s,20),17);t.defaultPageAppIcon.style.left=134-A/2;for(var S=0,x=Object.keys(Ei);S<x.length;S++){var P=x[S],D=Ei[P];t[P]&&Object.assign(t[P].style,D)}}t.defaultPageAppIcon.style.borderRadius=h?8:3,-1===[L.fY.OPEN_PLATFORM_APP_MOB,L.fY.APPLE_APP_STORE].indexOf(i)&&(t.defaultPageAppIcon.style.borderRadius=h?32:12),t.defaultPageBackgroundImage.src=u||"",Jr.call(this)}if(8===d){var R=+new Date;(0,C.uQ)({buttonText:t.button.value,aid:t.adProxy.data.aid}).then((function(e){var n=+new Date;if(t.adProxy.reportRelationFetchDuration({startTime:R,endTime:n,showTime:t.showDetailTime||0}),e){var i=e.count,a=e.descText,r="- 最近已有".concat(i,"人").concat(a," -");t.pageType?1===t.pageType&&(t.pageAppConversion.value=r,t.pageAppConversion.style.hidden=!1):(t.defaultPageAppConversion.value=r,t.defaultPageAppConversion.style.hidden=!1),t.expandCardAppConversion.value=r,t.expandCardAppConversion.style.hidden=!1}else t.pageAppConversion.style.hidden=!0,t.defaultPageAppConversion.style.hidden=!0,t.expandCardAppConversion.style.hidden=!0})).catch((function(e){t.pageAppConversion.style.hidden=!0,t.defaultPageAppConversion.style.hidden=!0,t.expandCardAppConversion.style.hidden=!0,t.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_RELATION_FETCH_ERROR,e)}))}else t.pageAppConversion.style.hidden=!0,t.defaultPageAppConversion.style.hidden=!0,t.expandCardAppConversion.style.hidden=!0;t.androidAppState=0,t.button.style.hidden=!1,t.pageButton.style.hidden=!1,t.defaultPageButton.style.hidden=!1,t.expandCardButton.style.hidden=!1,t.downloadButton.style.hidden=!0,t.pageDownloadButton.style.hidden=!0,12===i&&t.adProxy.isValidCondition("widget_gray_video_download_v2")&&(t.button.style.hidden=!0,t.downloadButton.style.hidden=!1,t.downloadButtonText.value=a.button_text,t.downloadProgressText.value=a.button_text,Ra.call(this),1===t.pageType&&(t.pageButton.style.hidden=!0,t.pageDownloadButton.style.hidden=!1,t.pageDownloadButtonText.value=a.button_text,t.pageDownloadProgressText.value=a.button_text))}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ur.call(this))return!1;var t=Ni(this);if(t.direction)return t.direction===e.direction;if(1===t.pageType||!t.pageType)return!!t.flooringPageIsShow;if(2===t.pageType){if("left"===e.direction){var n=e.y,i=t.flooringPageIsShow?t.video.style.height-180:0,a=t.flooringPageIsShow?t.video.style.height:0;return!!(n>i&&n<a)}if("top"===e.direction){var r=e.y,o=0,s=t.flooringPageIsShow?t.video.style.height-180:t.video.style.height;return!!(r>o&&r<s)}}return!1},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Ur.call(this)){var t,n=Y.S3.screenWidth,i=Y.S3.screenHeight,a=Ni(this),r="",o="",s=0,c=0,l=0,u=0,d=(i-a.video.style.height)/2;1===a.pageType?(a.pageHandler.style.width=n,a.pageHandler.style.height=n,r="pageImgBox",c=n/4,s=3*n/4-a.pageImgBox.style.width,t={xRevise:!0,decideByDirection:!0,setImgTips:!0,posQueue:[0,-n,-2*n]}):2===a.pageType&&(a.pageHandler.style.width=n,a.pageHandler.style.height=a.video.style.height,a.pageHandler.style.top=(i-a.video.style.height)/2,(i!==a.video.style.height||e)&&(a.pageMask.style.hidden=!1,a.pageMask.style.width=n,a.pageMask.style.height=(i-a.video.style.height)/2,a.pageMask.style.top=(i+a.video.style.height)/2),r="pageCardImgBox",o="pageCardBody",s=n-(c=60)-a.pageCardImgBox.style.width,l=a.video.style.height-a.pageCardBody.style.height+10,!Y.S3.isWaGame&&Y.S3.isAndroid&&(l=a.video.style.height-a.pageCardBody.style.height+d+10),u=l+180,a.pageCardBody.style.top=u,t={yRevise:!0,directionMap:{up:l,down:u},logPagePull:!0,showTips:!0,xInertia:!0,handleTail:!0,xHead:0,xTail:n-a.pageCardImgBox.style.width-20,touchClick:!0,imgBoxHeight:180,cardHeight:60,buttonWidth:60,buttonHeight:30}),a.flooringPageInfos={xMin:s,xMax:c,yMin:l,yMax:u,xContainer:r,yContainer:o,infos:t}}},Va=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var n=Ni(this),i=!0===n.flooringPageIsShow?t.max:t.min;return n.pageCardBody.animate({top:i,duration:50}).then((function(){return lr.call(e,t)})).then((function(){return Ya.call(e)}))}},Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var t=Ni(this),n=e.event?e.event:{};if(za.call(this,n))if(t.flooringPageIsShow){var i=t.pageCard.getAbsolutePosition(),a=i.top,r=i.top+e.cardHeight,o=t.pageCardImgContainer.getAbsolutePosition(),s=o.top;if(n.y>a&&n.y<r){var c=t.pageCardButton.getAbsolutePosition(),l=c.top,u=c.top+e.buttonHeight,d=c.left,p=c.left+e.buttonWidth;n.y>l&&n.y<u&&n.x>d&&n.x<p?qa.call(this,n,"button",mi.REWARD_PAGE_BUTTON):qa.call(this,n,"card",mi.REWARD_PAGE_CARD)}else n.y>=s&&n.y<=t.video.style.height?qa.call(this,n,"img",mi.REWARD_PAGE_IMAGE):Va.call(this,e)}else{var f=t.pageCard.getAbsolutePosition(),h=f.top,v=f.top+e.cardHeight,g=t.pageCardButton.getAbsolutePosition(),y=g.top,m=g.top+e.buttonHeight,_=g.left,w=g.left+e.buttonWidth;n.y>h&&n.y<v?n.y>y&&n.y<m&&n.x>_&&n.x<w?qa.call(this,n,"button",mi.REWARD_PAGE_BUTTON):qa.call(this,n,"card",mi.REWARD_PAGE_CARD):Va.call(this,e)}}},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var t=Ni(this),n=e.imgBox?e.imgBox:"",i=e.xMin?e.xMin:0,a=e.xMax?e.xMax:0,r=e.xHead?e.xHead:0,o=e.xTail?e.xTail:0;return t[n].nextLayout((function(){var e=t[n].style.left,s=e;if(e>r&&e<=a?s=r:e>=i&&e<o&&(s=o),s!==e)return t[n].animate({left:s,duration:50})}))}},Ya=function(){if(!Ur.call(this)){var e=Ni(this);e.flooringPageIsShow?(e.pageCardTipIcon.style.hidden=!0,e.pageCardTip.style.hidden=!0):(e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.pageCardTipIcon.style.hidden=!1,e.pageCardTip.style.hidden=!1)}},za=function(e){if(!Ur.call(this)){var t=Ni(this);return!!(Math.abs(e.x-t.startPosX)<30&&Math.abs(e.y-t.startPosY)<30)}},qa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;Ur.call(this)||za.call(this,e)&&Ka.call(this,e,t,n)},Ka=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(!Ur.call(this)){var a=Ni(this);if([1,2].includes(a.pageType)&&sr.call(this,e,n),Y.S3.isAndroid&&12===a.data.product_type&&1===a.pageType&&a.adProxy.isValidCondition("widget_gray_video_download_v2"))Mr.call(this);else if(Y.S3.isIOS&&46===a.data.product_type&&6===a.data.dest_type)Promise.race([Ir.call(this,e,i),(0,se.Vs)(500)]).then((function(){Tr.call(t,{button:5},e),Rr.call(t)})).catch((function(){Tr.call(t,{button:5},e),Rr.call(t)}));else{Ir.call(this,e,i),Tr.call(this,{button:5},e);var r={};23===a.data.product_type&&(r["button"===n?"isButton":"toOfficalAccountDetail"]=!0),Rr.call(this,r)}}},Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var t=Ni(this),n=e.container?e.container:"",i=e.event?e.event:{},a=t[n].getAbsolutePosition();return{x:a.left+i.x,y:a.top+i.y}}},Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ur.call(this)){var n=Ni(this);n.isPress=e,n.startPosX=null!=t&&t.x?t.x:0,n.startPosY=null!=t&&t.y?t.y:0,n.lastPosX=null!=t&&t.x?t.x:0,n.lastPosY=null!=t&&t.y?t.y:0,n.lastSecondPosX=null!=t&&t.x?t.x:0,n.lastSecondPosY=null!=t&&t.y?t.y:0,n.direction="",n.startTime=e?+new Date:0,e&&n.throttleTimer&&clearTimeout(n.throttleTimer),n.throttleTimer=null,n.timeStamp=0,n.callCount=0,n.distanceList=[]}},$a=function(){if(!Ur.call(this))for(var e=Ni(this),t=e.imgBaseName,n=0;n<3;n++){var i=e[t+n].getAbsolutePosition();e["pageImgIcon".concat(n)].style.backgroundColor=0===i.left?"#ffffff":"rgba(255, 255, 255, 0.55)"}},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var t=Ni(this),n=e.event?e.event:{},i=e.direction?e.direction:"left",a="top"===i?n.y-t.lastPosY:n.x-t.lastPosX;Y.S3.isAndroid&&(a="top"===i?n.y-t.lastSecondPosY:n.x-t.lastSecondPosX);var r=e.critical?e.critical:0;return"top"===i?a<0&&Math.abs(a)>=r?"up":"down":a<0&&Math.abs(a)>=r?"right":"left"}},er=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ur.call(this))return Promise.reject({errMsg:Oa});var n=Ni(this),i=t.direction?t.direction:"left",a=t.imgBox?t.imgBox:"",r="top"===i?t.event.y:t.event.x,o=Qa.call(this,t),s=t.directionMap?t.directionMap:{},c=t.posQueue?t.posQueue:[],l=null;if(Object.keys(s).length>0)l=s[o]?s[o]:0;else{r=n[a].style[i],c.sort((function(e,t){return e-t}));for(var u=0,d=c.length-1;u<d;){var p=Math.floor((u+d)/2),f=d-u,h=c[p];if(r===h){l=h;break}if(r>h?u=p:d=p,f<=1)break}if(!l)if(t.decideByDirection)l=c[o]||("right"===o?c[u]:c[d]);else{var v=c[d],g=c[u];l=Math.abs(r-v)>=Math.abs(r-g)?g:v}}return Promise.resolve().then((function(){n[a].style[i]=l})).then((function(){if(t.logPagePull)return lr.call(e,t);Ja.call(e)})).then((function(){if(t.showTips)return Ya.call(e)})).then((function(){if(t.setImgTips)return n[a].nextLayout((function(){$a.call(e)}))}))},tr=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)&&t&&"object"===Z()(t)){var n=Ni(this),i=t.padding?t.padding:0,a=n.pageType,r=n.data.flooringPage.img_list?n.data.flooringPage.img_list:[];r="string"==typeof r?JSON.parse(r):r;var o=0;return r.forEach((function(t,n){var r=nr.call(e,{pageType:a,width:t.width,height:t.height}).width;o+=0===n?r:i+r})),o}},nr=function(e){if(!Ur.call(this)){var t={},n=Y.S3.screenWidth;if(!e||"object"!==Z()(e))return t;var i=e.pageType,a=e.width,r=e.height;return 1!==i&&i?2===i&&a===r?(t.scale=150/a,t.width=150,t.height=150):2===i&&a!==r&&(t.scale=150/r,t.width=150*a/r,t.height=150):(t.scale=n/a,t.width=n,t.height=n),t}},ir=function(){var e=this;if(!Ur.call(this)){var t=Ni(this),n=t.pageType,i=t.data.flooringPage.img_list?t.data.flooringPage.img_list:[];i="string"==typeof i?JSON.parse(i):i;var a=t.imgBaseName?t.imgBaseName:"";i.forEach((function(i,r){var o=a+r,s=nr.call(e,{pageType:n,width:i.width,height:i.height}),c=s.width,l=s.height,u=s.scale;t[o].scale=u,t[o].style.width=c,t[o].style.height=l,t[o].src=i.image_url}))}},ar=function(){var e=this;if(Ur.call(this))return Promise.resolve();var t=Ni(this);if(!t.data.flooringPage)return Promise.resolve();mr.call(this,Pi.dA.REWARDEDVIDEOSHOWFLOORINGPAGE);var n=t.flooringPageInfos,i=n.yMin,a=n.yMax;return 2!==t.pageType||t.flooringPageIsShow?1===t.pageType?t.pageContainer.animate({left:0,duration:300}).then((function(){return lr.call(e)})):t.pageType?Promise.resolve():(t.cardContainer.animate({opacity:0,duration:280}),t.defaultPageContainer.animate({opacity:1,duration:280}).then((function(){return lr.call(e)}))):t.pageCardBody.animate({top:i,duration:50}).then((function(){return t.flooringPageAutoShow=!0,lr.call(e,{min:i,max:a})})).then((function(){return Ya.call(e)}))},rr=function(){if(!Ur.call(this)){var e=Ni(this);if([1,2].includes(e.pageType)){e.flooringPageState.pageType=e.pageType,e.flooringPageState.card={click:0},e.flooringPageState.button={click:0};for(var t=0;t<=3&&(3!==t||2===e.pageType);t++)e.flooringPageState["img".concat(t)]={exposure:0,click:0}}}},or=function(){if(!Ur.call(this)){var e=Ni(this);if(Y.S3.isIOS){for(var t=0;t<3;t++)e["pageImg".concat(t)].src=Bi,e["pageCardImg".concat(t)].src=Bi;e.pageCardImg3.src=Bi,e.pageAppIcon.src=Bi,e.pageCardAppIcon.src=Bi,e.pageCardTipIcon.src=Bi}}},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Ur.call(this)){var n=Ni(this);if("img"===t)for(var i=n.imgBaseName,a=0;a<=3&&(3!==a||2===n.pageType);a++){var r=n[i+a].getAbsolutePosition(),o=n[i+a].style.width,s=n[i+a].style.height,c=r.left,l=r.left+o,u=r.top,d=r.top+s;e.x>=c&&e.x<=l&&e.y>=u&&e.y<=d&&(n.flooringPageState["img".concat(a)].click+=1)}else["card","button"].includes(t)&&(n.flooringPageState[t].click+=1)}},cr=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Ur.call(this)){var i=Ni(this);if(n){if(i.pageType)for(var a=i.imgBaseName,r=0;r<=3&&(3!==r||2===i.pageType);r++){var o=i[a+r].getAbsolutePosition(),s=i[a+r].style.width,c=-s/2,l=Y.S3.screenWidth-s/2;o.left>c&&o.left<l&&(i.flooringPageState["img".concat(r)].exposure+=1)}}else i.exposureTimer&&(clearTimeout(i.exposureTimer),i.exposureTimer=null),i.exposureTimer=setTimeout((function(){return e.call(t,!0)}),1e3)}},lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var t=Ni(this);if(2===t.pageType){var n=e.min?e.min:0,i=e.max?e.max:0;t.pageCardBody.style.top!==n||t.flooringPageIsShow||t.flooringPageAutoShow?t.pageCardBody.style.top===i&&t.flooringPageIsShow?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,ur.call(this,{type:2,staytime:0,componentsstartstr:""}),ur.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageShowTime=0,t.flooringPageCloseTime=0,rr.call(this)):t.pageCardBody.style.top===n&&t.flooringPageAutoShow?(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,ur.call(this,{type:4,staytime:0,componentsstartstr:""}),cr.call(this)):e.isClose&&t.flooringPageIsShow&&(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,ur.call(this,{type:5,staytime:0,componentsstartstr:""}),ur.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,rr.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,ur.call(this,{type:1,staytime:0,componentsstartstr:""}),cr.call(this))}else 1===t.pageType?e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,ur.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,rr.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,ur.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),cr.call(this)):t.pageType||(e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,ur.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,rr.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,ur.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),cr.call(this)))}},ur=function(e){if(!Ur.call(this)){var t=Ni(this);1===t.pageType&&delete e.type;var n=[];return n.push(e),t.adProxy.reportFlooringPage(t.pageType,n)}},dr=function(){var e=this;if(Ur.call(this))return Promise.reject({errMsg:Oa});var t=Ni(this);return t.adProxy.fetch().then((function(n){try{t.adProxy.setTimePoint("p4");var i=Object.keys(t.emitter.emitter).includes("_events")?Object.keys(t.emitter.emitter._events):[];return"devtools"!==Y.S3.platform||i.includes("_error")?(t.data=n,t.isData=!0,pr.call(e),t.adProxy.preloadLanding(),t.emitter.emit("load"),void t.adProxy.setTimePoint("p5")):void console.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。（无广告返回时，建议不设置激励视频入口）")}catch(e){throw t.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_PARSE_ERROR,e),{}}}))},pr=function(){if(!Ur.call(this)){var e=Ni(this),t=e.data,n=Y.S3.deviceOrientation,i=Y.S3.screenWidth,a=Y.S3.screenHeight;if(e.container.style.left=0,Y.S3.isIOS){var r="portrait"===n?Ji.top?44:12:10,o="portrait"===n?Ji.top?78:46:44;e.topBar.style.top=r,e.topBarFix.style.top=r,e.adFeedbackList.style.top=o,e.adFeedbackMenu.style.top=o}e.container.style.top=a,e.video.style.padding=8,e.video.style.paddingBottom=16;if(Ma.call(this,["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask"]),i<a)e.cardContainer.style.width=i-16,e.cardContainer.style.top=a-130,e.cardContainer.style.left=8,e.topBar.style.left=0,e.topBar.style.width=i,e.card.style.height=90;else if(i>=a){var s=Ji.top||0;e.cardContainer.style.width=348,e.cardContainer.style.top=a-104,e.cardContainer.style.left=s+18,e.topBar.style.width=i-2*s-16,e.topBar.style.left=s+8,e.card.style.height=72}if(Vi&&(e.topBar.style.top=e.topBar.style.top+30,e.topBarFix.style.top=e.topBarFix.style.top+30,e.adFeedbackList.style.top=e.adFeedbackList.style.top+30,e.adFeedbackMenu.style.top=e.adFeedbackMenu.style.top+30),Y.S3.isWaGame?e.container.style.fixed&&delete e.container.style.fixed:e.container.style.fixed=!0,e.dialog.style.top=a>138?(a-138)/2:0,e.dialog.style.left=i>300?(i-300)/2:0,e.dialogCloseTip.style.top=(a-36)/2,e.dialogCloseTip.style.left=(i-124)/2,Hr.call(this))e.cardContainer.style.hidden=!0,e.container.style.backgroundColor="rgba(0, 0, 0, 0)",e.topBar.style.hidden=!0,e.topBarFix.style.hidden=!0,e.video.style.hidden=!0,e.video.src&&(e.video.src="https://wxa.wxs.qq.com/images/wxapp/empty.mp4");else{var c,l;e.container.style.backgroundColor="#000000";var u=t.product_type,d=io.call(this),p=d.src,f=d.poster,h=d.duration;e.cardContainer.style.hidden=to.call(this),e.expandCardContainer.style.hidden=!to.call(this),Y.S3.isIOS&&e.video.src===p&&e.video.seek(0),Y.S3.isIOS?(e.video.poster=f,(0,se.Vs)(500).then((function(){e.video.src=p}))):(e.video.src=p,e.video.poster=f),e.adProxy.setTimePoint("p8"),e.buttonTextType=e.data.button_action.text_type||0,ro.call(this),Y.S3.isAndroid&&(e.preloadVideo=!0,e.preloadVideoSuccess=!1,e.adProxy.preloadVideo([p]).catch((function(t){e.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_PRELOAD_ERROR,t)})));var v=e.data.rewardedTime,g=Math.ceil((h>v?v:h)/1e3).toString();e.countDown.value=g,e.countDownFix.value=g,e.countDownAppend.value="秒后可获得奖励",e.countDownAppendFix.value="秒后可获得奖励",e.countDown.style.width=2===g.length?19:12,e.countDownFix.style.width=2===g.length?19:12,e.countDownAppend.style.width=100,e.countDownAppendFix.style.width=100,ja.call(this),e.adProxy.isValidCondition("widget_gray_close_v2")&&(e.adFeedback.style.hidden=!1,e.close.value="关闭",e.close.style.width=29),12===u&&(e.adProxy.setAppInstallState(!1),Nr.call(this));var y=[];(null===(c=e.data.crtInfo)||void 0===c||null===(l=c.wxgame_video_card)||void 0===l?void 0:l.pendant_img)&&(y=y.concat(Ri));var m=e.adProxy.data.adDynamicList,_=null!=m&&m.length?y.concat(m):y;vr.call(this,_)}}},fr=function(e){var t=this,n=Ni(this),i=(0,G.ei)(Y.S3,["screenWidth","screenHeight","deviceOrientation"]);return(0,Di.K)(e,{$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:u()({},i),time:Date.now()},$scope:{private:n,safeArea:Ji}},{"#rewardedVideoIsExpandStyle":function(){return to.call(t)}})},hr=null,vr=function(e){var t=this,n=Ni(this),i=(0,G.ei)(Y.S3,["screenWidth","screenHeight","deviceOrientation"]);null!=e&&e.length&&(n.dynamicElems||(n.dynamicElems={}),n.dynamicOldStyle||(n.dynamicOldStyle={}),n.dynamicEmitter||gr.call(this),e.forEach((function(e){var r=e.op,o=e.expr;if(!o||fr.call(t,o))if("insert"===r){var s,c=e.id,l=e.parent,d=e.tpl,p=e.bubbleEvent;if(null!==(s=n.dynamicElems)&&void 0!==s&&s[c]){var f,h,v;if(i.screenWidth===hr)return;null===(f=(h=n.dynamicElems[c]).remove)||void 0===f||f.call(h),(0,Ii.unmount)(null===(v=n.dynamicElems[c])||void 0===v?void 0:v.referComponent)}var g=(0,Ii.render)(xi.kq,{manager:null,reporter:null,emitter:n.dynamicEmitter,adProxy:n.adProxy,template:d,systemInfo:u()({},i),scope:{private:n,safeArea:Ji},adData:n.adProxy.data,adDatas:n.adProxy.datas,adCustomId:bi,isEmpty:!1},!1);!1!==p&&g.updateBubbleEvent(),n.dynamicElems[c]=g.getRootElement(),n[l]&&n[l].add(n.dynamicElems[c])}else if("setStyle"===r){var y=e.id,m=e.style,_=n[y]||n.dynamicElems[y]||null;if(_){var w=!1;n.dynamicOldStyle&&!n.dynamicOldStyle[y]&&(w=!0,n.dynamicOldStyle[y]={});for(var b=0,I=Object.keys(m);b<I.length;b++){var E=I[b],T=E,k=m[E];if(E.includes("Expr")){var A=E.split("Expr");if(2===A.length)T=a()(A,1)[0],k=fr.call(t,k)}w&&(n.dynamicOldStyle[y][T]=_.style[T]),_.style[T]=k}}}else if("setAttrs"===r){var C=e.id,S=e.attrs,x=n[C]||n.dynamicElems[C]||null;if(x)for(var P=0,D=Object.keys(S);P<D.length;P++){var R=D[P];x[R]=S[R]}}})),hr=i.screenWidth),mr.call(this,Pi.dA.REWARDEDVIDEOHANDLEDYNAMICDONE)},gr=function(){var e=this,t=Ni(this);t.dynamicEmitter=new oe.v,t.dynamicEmitter.on("adCustomEvent",(function(n){var i=n.action,a=n.adCustomId,r=n.value;if(a===bi)if(i===Pi.A$.LANDAD){var o,s=null===(o=n.value)||void 0===o?void 0:o.event;if(!Ba.call(e,s))return;Ka.call(e,s,"",mi.REWARD_DYNAMIC_CONTENT)}else if(i===Pi.A$.BTNTAP){var c,l=null===(c=n.value)||void 0===c?void 0:c.event;if(!Ba.call(e,l))return;Ka.call(e,l,"button",mi.REWARD_DYNAMIC_BUTTON)}else if(i===Pi.A$.REPORTADMONITORDATA){var u=r.id,d=r.key,p=r.extInfo,f=u?{idKeyGroup:u,idKey:d}:d;t.adProxy.reportAdMonitorData(f,p)}else if(i===Pi.A$.REWARDEDVIDEODYNAMIC){var h=r.list;(0,Y.uj)(),vr.call(e,h)}}))},yr=function(e,t){var n=Ni(this);if(n.dynamicElems){for(var i=[],a=0,r=Object.keys(n.dynamicElems);a<r.length;a++){var o=r[a];i.push(n.dynamicElems[o].ready())}Promise.all(i).then((function(){n.dynamicEmitter&&n.dynamicEmitter.emit("adCustomEvent",{adCustomId:bi,action:e,value:t})}))}},mr=function(e,t){var n=Ni(this);if(n.dynamicElems)for(var i=0,a=Object.keys(n.dynamicElems);i<a.length;i++){var r,o=a[i],s=null===(r=n.dynamicElems[o])||void 0===r?void 0:r.referComponent;s&&s.emitComponentEvent(e,t)}},_r=function(){var e=Ni(this);wr.call(this);var t=io.call(this);e.keepAliveTimer=setTimeout((function(){e.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_KEEP_ALIVE,{currentTime:e.currentTime,duration:t.duration,src:e.video.src,preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},wr=function(){var e=Ni(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},br=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Ur.call(this))return Promise.reject({errMsg:Oa});var i=Ni(this),a=2===i.pageType?i.pageCard.layoutBox:i.card.layoutBox,r=a.width,o=a.height;[0,2,3].includes(n)&&(i.clickCount+=1);var s={slotid:Oi,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,click_time:+new Date,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:Number(r)||0,ad_height:Number(o)||0,press_interval:e.pressInterval,block_click:n};return i.adProxy.reportTouchClick(s)},Ir=function(e,t){if(Ur.call(this))return Promise.reject({errMsg:Oa});var n=Ni(this),i=io.call(this),a=Promise.resolve(),r={currentTime:n.currentTime,duration:i.duration},o=n.card,s=e.absoluteX,c=e.absoluteY;2===n.pageType?(o=n.pageCardContainer,s=Math.round(e.x),c=Math.round(e.y)):o=[mi.REWARD_CARD_BUTTON,mi.REWARD_CARD].indexOf(t)>-1?n.card:n.container;var l=o.getAbsolutePosition(),u=l.left,d=l.top,p=o.layoutBox,f=p.width,h=p.height;return a=n.adProxy.reportClick({clickAbsoluteLeft:s,clickAbsoluteTop:c,clickRelativeLeft:s-u,clickRelativeTop:c-d,pressInterval:e.pressInterval,left:u,top:d,width:f,height:h,videoData:r}),qr.call(this,t),Mi(a,"激励视频","点击广告卡片"),kr.call(this,{stage:1002}),a},Er=function(e){var t=e.playType,n=e.conditionType;if(Ur.call(this))return Promise.reject({errMsg:Oa});var i=Ni(this),a=io.call(this);return i.adProxy.reportVideo({playType:t,conditionType:n,playDuration:i.currentTime,videoDuration:a.duration,muted:i.video.muted,rewardedTime:i.data.rewardedTime,isRewarded:i.isRewarded})},Tr=function(e){var t,n=e.button,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ur.call(this))return Promise.reject({errMsg:Oa});var a=Ni(this),r=io.call(this),o=5===n?+new Date:0,s=i?i.pressInterval:0;return a.adProxy.reportBehaviorButton({button:n,isEnded:a.isEnded,playDuration:a.currentTime,videoDuration:null!==(t=null==r?void 0:r.duration)&&void 0!==t?t:0,preloadVideo:a.preloadVideo?1:0,preloadVideoSuccess:a.preloadVideoSuccess?1:0,videoFirstPlay:a.videoFirstPlayTime,cardFirstShow:a.cardFirstShowTime,clickCard:o,pressInterval:s,currentPlayUrl:a.video.src,lastFetchUrl:r?r.src:""})},kr=function(e){var t=e.stage;if(Ur.call(this))return Promise.reject({errMsg:Oa});var n={adtype:2,stage:t};return Ni(this).adProxy.reportADFunnelModel(n)},Ar=function(e){e?(0,Ci.y4)(Ci.F0.EVENT_CANVAS_ADS_FIN):(0,Ci.y4)(Ci.F0.EVENT_CANVAS_ADS_CANCEL)},Cr=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!Ur.call(this)){var n=Ni(this);n.adProxy.reportTimePoints({slotid:Oi,costtype:null!==(e=n.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,extInfo:{preloadVideoSuccess:n.preloadVideoSuccess?1:0}});var i=n.isRewarded;n.sound.style.hidden=!1,n.soundFix.style.hidden=!1,n.splitLine.style.hidden=!1,n.splitLineFix.style.hidden=!1,n.landingCount=0,n.clickCount=0,n.isPlaying=!1,n.isVideoCalledPlay=!1,n.isFirstPlaySuccess=!1,n.isShowed=!1,n.isRewarded=!1,n.isEnded=!1,n.isData=!1,n.disableGaussBlur=!1;try{var a;if(n.dynamicElems)for(var r=0,o=Object.keys(n.dynamicElems);r<o.length;r++){var s=o[r],c=n.dynamicElems[s];null!=c&&c.remove&&c.remove(),c.referComponent&&(0,Ii.unmount)(c.referComponent)}if(n.dynamicOldStyle)for(var l=0,u=Object.keys(n.dynamicOldStyle);l<u.length;l++)for(var d,p=u[l],f=n[p]||(null===(d=n.dynamicElems)||void 0===d?void 0:d[p])||null,h=n.dynamicOldStyle[p],v=0,g=Object.keys(h);v<g.length;v++){var y=g[v];f.style[y]=h[y]}n.dynamicElems=null,n.dynamicOldStyle=null,null!==(a=n.dynamicEmitter)&&void 0!==a&&a.off&&n.dynamicEmitter.off("adCustomEvent"),n.dynamicEmitter=null}catch(e){}n.isCancelPlayablePage=!1,n.isLandingPlayblePage=!1,n.playableTipsContent.value="视频结束后可试玩",n.playableGiveUp.value="放弃",n.playableGiveUp.style.color="#07C160",n.playableGiveUp.style.opacity=1,n.playableTipsWrap.style.width=132,n.playableTipsWrap.style.left=0,n.playableTipsWrap.style.hidden=!0,n.cardContainer.style.hidden=!0,n.playableTipsContent.style.width=120,n.playableGiveUp.style.hidden=!0,n.playableCancelBox.style.hidden=!0,n.cardContainer.style.opacity=1,n.rewardPageCostTime=0,n.isShowedExposureReported=!1,n.isViewableExposureReported=!1,n.adProxy.isViewable=!0,Y.S3.isWaGame||(n.isFullscreen=!1),n.downloadProgress.style.width=0,n.pageDownloadProgress.style.width=0,2!==t&&(!Y.S3.isWaGame&&(Y.S3.isIOS||n.data&&n.data.crt_size===L.vK.CRT_SIZE_REWARD_LANDINGPAGE)?(0,se.Vs)(100).then((function(){n.emitter.emit("close",{isEnded:i}),Ar(i)})):(n.emitter.emit("close",{isEnded:i}),Ar(i))),n.adProxy.reset();var m=dr.call(this);m.catch((function(){})),n.adFetchResult=m,n.container.style.hidden=!0,n.adCover.hide(),i?kr.call(this,{stage:1005}):kr.call(this,{stage:1006}),1===n.pageType?n.pageContainer.style.hidden=!0:2===n.pageType?(n.pageHandler.style.hidden=!0,n.pageCardBody.style.hidden=!0,n.pageMask.style.hidden=!0,n.pageCardTip.style.hidden=!0,n.video.style.padding=8,n.video.style.paddingBottom=16):n.pageType||(n.defaultPageContainer.style.hidden=!0),n.pageHandler.style.hidden=!0,lr.call(this,{isClose:!0}),Y.S3.isAndroid&&n.adProxy.setInnerAudioOption(!0).catch((function(){})),n.showTipsTimer&&clearTimeout(n.showTipsTimer),n.exposureTimer&&clearTimeout(n.exposureTimer),n.updateScreenInfoTimer&&clearTimeout(n.updateScreenInfoTimer),n.layoutTimer&&clearTimeout(n.layoutTimer),n.rewardPageTimer&&clearTimeout(n.rewardPageTimer),n.reportDurationTimer&&clearTimeout(n.reportDurationTimer),n.pageType=0,n.imgBaseName="",he("show",n.adType,0),he("close",n.adType,+new Date)}},Sr=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(Ur.call(this))return Promise.reject({errMsg:Oa});var n=Ni(this);return Hr.call(this)||Yr.call(this)?xr.call(this,t):(Er.call(this,{playType:n.isEnded?"complete":"partial",conditionType:"close"}),1===t?(Cr.call(this),Promise.resolve()):[2,3].includes(t)?Promise.all([Wa.call(this),Cr.call(this,t)]):n.container.animate({top:Y.S3.screenHeight,duration:Gi}).then((function(){return Wa.call(e)})).then((function(){return Cr.call(e)})))},xr=function(e){if(Ur.call(this))return Promise.reject({errMsg:Oa});var t=Ni(this);return Yr.call(this)||(t.container.style.top=Y.S3.screenHeight,t.topBar.style.hidden=!0,t.topBarFix.style.hidden=!1,t.dialogClose.value="放弃",t.dialogCancel.value="继续",t.video.style.hidden=!1,t.showDialogContainer=!1),1===e?(Cr.call(this),Promise.resolve()):Promise.all([Wa.call(this),Cr.call(this,e)])},Pr=function(){if(!Ur.call(this)){var e=Ni(this);if(e.rewardPageCostTime>=15e3)e.isEnded=!0,e.isRewarded=!0,Sr.call(this),Tr.call(this,{button:4});else{e.showDialogContainer=!0,e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续浏览页面",e.adProxy.setRightButtonHide(!0).catch((function(){}))}}},Dr=function(){if(!Ur.call(this)){var e=Ni(this);if(wr.call(this),e.isRewarded)Sr.call(this),Tr.call(this,{button:4});else{e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续观看视频",ao.call(this,"pause"),e.isPause=!0}}},Rr=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var n,i=Ni(this),a=io.call(this);if(i.notReportExit=!0,i.landingCount+=1,i.landingCount>1)i.adProxy.reportRepeatClick({slotId:Oi,costType:null!==(n=i.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,clkCnt:i.landingCount,lastClkPeriod:+new Date-i.lastLandingTime,retCode:i.lastJsapiStatus,costTime:i.lastJsapiCostTime,pageStayTime:i.landingPageCostTime,jsapiName:i.lastJsapiName});i.lastLandingTime=+new Date,i.lastJsapiStatus=2,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0;var r=i.adProxy.land(t);if(23===i.data.product_type&&t&&t.isButton&&!i.adProxy.data.biz_info.is_subscribed?(r.then((function(t){var n=/ok/.test(t.errMsg);n&&(0===i.buttonTextType&&(i.button.value="查看公众号",Ra.call(e),yr.call(e,Pi.A$.CHANGEADBTNTEXT,{text:"查看公众号"})),i.data.flooringPage&&1===i.pageType&&0===i.buttonTextType?i.pageButton.value="查看公众号":i.data.flooringPage&&2===i.pageType&&0===i.buttonTextType?i.pageCardButton.value="查看公众号":i.pageType||(i.defaultPageButton.value="查看公众号"),i.expandCardButton.value="查看公众号",i.adProxy.data.biz_info&&(i.adProxy.data.biz_info.is_subscribed=1),i.adProxy.reportAdIDKey({key:Co.IN.REWARDED_VIDEO_FOLLOW_SUCCESS})),t.errMsg&&(i.lastJsapiName=t.errMsg.replace(":ok","").replace(":fail cancel",""));var a,r=+new Date;(i.lastJsapiStatus=0,i.lastJsapiCostTime=r-i.lastLandingTime,"private_addContact"===i.lastJsapiName)&&i.adProxy.reportLandingTime({slotId:Oi,costType:null!==(a=i.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,openTime:i.lastLandingTime,closeTime:r,stayTime:i.lastJsapiCostTime,jsapiName:i.lastJsapiName,clickTime:i.lastLandingTime,clkCnt:i.landingCount,retCode:i.lastJsapiStatus,costTime:i.lastJsapiCostTime,actTypeInt:n?2:3,actTypeStr:n?"关注":"取消"});Y.S3.isWaGame||!Y.S3.isAndroid||Yr.call(e)||setTimeout((function(){i.adProxy.hideVirtualBottomNavigationBar().catch((function(){})),i.container.forceUpdate()}),250)})).catch((function(){i.lastJsapiStatus=1})),Or.call(this,r)):(i.flooringPageCloseTime=(new Date).getTime(),r.then((function(t){t.errMsg&&(i.lastJsapiName=t.errMsg.replace(":ok","")),"private_openUrl"===i.lastJsapiName||"navigateToMiniProgram"===i.lastJsapiName||"openADCanvas"===i.lastJsapiName||"launchApplication"===i.lastJsapiName?(i.isLandingPage=!0,wr.call(e),i.flooringPageIsShow&&(ur.call(e,{type:3,staytime:i.flooringPageCloseTime-i.flooringPageShowTime,componentsstartstr:JSON.stringify(i.flooringPageState)}),i.flooringPageShowTime=0,i.flooringPageCloseTime=0,rr.call(e))):i.lastJsapiStatus=0,i.lastJsapiCostTime=+new Date-i.lastLandingTime})).catch((function(){i.lastJsapiStatus=1}))),Hr.call(this)||Yr.call(this)){setTimeout((function(){i.notReportExit=!1}),1e3);var o=i.adProxy.reportVideo({playType:i.isPlaying?"partial":"complete",conditionType:"land",playDuration:i.currentTime,videoDuration:a.duration,muted:i.video.muted});Mi(o,"激励视频","跳转落地页")}return r}},Or=function(e){if(!Ur.call(this)){var t=Ni(this),n=e.then((function(e){return/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):Promise.resolve()})).catch((function(){return t.adProxy.reportFollow({result:"fail"})}));return Mi(n,"激励视频","关注"),n}},Nr=function(){var e=this;if(!Ur.call(this)){var t=Ni(this),n=t.data.appInfo,i=n.apkName,a=n.versionCode,r=n.urlScheme;t.adProxy.getInstallState(i).then((function(n){if(n.isInstalled&&(void 0===n.versionCode||n.versionCode>=a)){if(t.adProxy.setAppInstallState(!0),t.androidAppState=4,t.button&&r&&r.trim().length>0){if(t.button.value="进入应用",t.pageCardButton.value="进入应用",t.pageButton.value="进入应用",t.defaultPageButton.value="进入应用",t.expandCardButton.value="进入应用",yr.call(e,Pi.A$.CHANGEADBTNTEXT,{text:"进入应用"}),1===t.buttonTextType){var i=t.data.button_action.button_text;t.button.value=i,t.pageCardButton.value=i,t.pageButton.value=i,t.defaultPageButton.value=i,t.expandCardButton.value=i,yr.call(e,Pi.A$.CHANGEADBTNTEXT,{text:i})}Ra.call(e)}if(t.adProxy.isValidCondition("widget_gray_video_download_v2")&&t.downloadButtonText&&r&&r.trim().length>0){if(t.downloadButtonText.value="进入应用",t.downloadProgressText.value="进入应用",1===t.buttonTextType){var o=t.data.button_action.button_text;t.downloadButtonText.value=o,t.downloadProgressText.value=o}if(1===t.pageType&&(t.pageDownloadButtonText.value="进入应用",t.pageDownloadProgressText.value="进入应用",1===t.buttonTextType)){var s=t.data.button_action.button_text;t.pageDownloadButtonText.value=s,t.pageDownloadProgressText.value=s}Ra.call(e)}}else t.adProxy.isValidCondition("widget_gray_video_download_v2")&&4===t.androidAppState&&(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,Ra.call(e),1===t.pageType&&(t.pageDownloadButtonText.value=t.data.button_action.button_text,t.pageDownloadProgressText.value=t.data.button_action.button_text),t.androidAppState=0)})).catch((function(){}))}},Mr=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ur.call(this)){var n=Ni(this);Ir.call(this,t,mi.REWARD_DOWNLOAD);var i,a=n.data.appInfo,r=a.appName,o=a.apkName,s=a.apkUrl,c=a.appMd5,l=a.urlScheme,u=n.adProxy.data,d=u.aid,p=u.traceid,f=u.apurl,h=0,v="";if(n.landingCount+=1,n.lastLandingTime=+new Date,n.lastJsapiStatus=0,n.lastJsapiCostTime=0,4===n.androidAppState)n.adProxy.launchApplication(l).catch((function(){Rr.call(e,{isButton:!0})})),n.lastJsapiName="launchApplication",n.isLandingPage=!0;else if(0===n.androidAppState){var g=[d,p,o.replace(/./g,"_"),0,20,f.indexOf("ad.wx.com")>-1?1:0].join(".");n.adProxy.addDownloadTaskStraight(r,s,c,g).then((function(t){n.androidDownloadId=t.downloadId,setTimeout(Lr.bind(e),ji)})).catch((function(){Rr.call(e,{isButton:!0})})),n.lastJsapiName="addDownloadTaskStraight",h=4,v="下载"}else 1===n.androidAppState?(n.adProxy.pauseDownloadTask(n.androidDownloadId).catch((function(){})),n.downloadButtonText.value="继续下载",n.downloadProgressText.value="继续下载",1===n.pageType&&(n.pageDownloadButtonText.value="继续下载",n.pageDownloadProgressText.value="继续下载"),Ra.call(this),n.androidAppState=2,n.lastJsapiName="pauseDownloadTask",h=5,v="暂停"):2===n.androidAppState?(n.adProxy.resumeDownloadTask(n.androidDownloadId).then((function(){setTimeout(Lr.bind(e),ji)})).catch((function(){})),n.downloadButtonText.value="暂停下载",n.downloadProgressText.value="暂停下载",1===n.pageType&&(n.pageDownloadButtonText.value="暂停下载",n.pageDownloadProgressText.value="暂停下载"),Ra.call(this),n.androidAppState=1,n.lastJsapiName="resumeDownloadTask",h=6,v="继续"):3===n.androidAppState&&(n.adProxy.installDownloadTask(n.androidDownloadId).catch((function(){})),n.lastJsapiName="installDownloadTask",h=7,v="安装");if(h>0)n.adProxy.reportLandingTime({slotId:Oi,costType:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,openTime:n.lastLandingTime,clickTime:n.lastLandingTime,clkCnt:n.landingCount,jsapiName:n.lastJsapiName,actTypeInt:h,actTypeStr:v})}},Lr=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(!Ur.call(this)){var i=Ni(this);i.adProxy.queryDownloadTask(i.androidDownloadId).then((function(n){if("download_succ"===n.state)i.downloadButtonText.value="安装应用",i.downloadProgressText.value="安装应用",i.downloadProgress.style.width=i.downloadButton.style.width,1===i.pageType&&(i.pageDownloadButtonText.value="安装应用",i.pageDownloadProgressText.value="安装应用",i.pageDownloadProgress.style.width=i.pageDownloadButton.style.width),i.androidAppState=3,Ra.call(t);else if("downloading"===n.state)i.downloadButtonText.value="暂停下载",i.downloadProgressText.value="暂停下载",i.downloadProgress.style.width=i.downloadButton.style.width*parseInt(n.progress,10)/100,1===i.pageType&&(i.pageDownloadButtonText.value="暂停下载",i.pageDownloadProgressText.value="暂停下载",i.pageDownloadProgress.style.width=i.pageDownloadButton.style.width*parseInt(n.progress,10)/100),i.androidAppState=1,Ra.call(t);else if("download_fail"===n.state){if(i.downloadButtonText.value=i.data.button_action.button_text,i.downloadProgressText.value=i.data.button_action.button_text,i.downloadProgress.style.width=0,1===i.pageType&&(i.pageDownloadButtonText.value=i.data.button_action.button_text,i.pageDownloadProgressText.value=i.data.button_action.button_text,i.pageDownloadProgress.style.width=0,1===i.buttonTextType)){var a=i.data.button_action.button_text;i.pageDownloadButtonText.value=a}i.androidAppState=0,Ra.call(t)}"downloading"!==n.state&&"default"!==n.state||setTimeout(e.bind(t),ji)})).catch((function(){n>0&&e.call(t,n-1)}))}},Wr=function(e){var t=e.firstGradeId,n=void 0===t?1:t,i=e.firstGradeDesc,a=void 0===i?"广告角标":i,r=e.secondGradeId,o=void 0===r?0:r,s=e.secondGradeDesc,c=void 0===s?"":s,l=e.feedbackReason,u=void 0===l?0:l;if(!Ur.call(this)){var d=Ni(this);n&&!o&&(d.clickFirstGradeTime=+new Date),d.adProxy.reportAdFeedbackData({adWidth:Y.S3.screenWidth,adHeight:Y.S3.screenHeight,adPosX:0,adPosY:0,expTime:d.startExposureTime,firstGradeId:n,firstGradeDesc:a,firstGradeTime:n?d.clickFirstGradeTime:0,secondGradeId:o,secondGradeDesc:c,secondGradeTime:o?+new Date:0,feedbackReason:u})}},Fr=function(e){var t=Ni(this),n={adWidth:Y.S3.screenWidth,adHeight:Y.S3.screenHeight,adPosX:0,adPosY:0},i={dismatch:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1},quality:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4},duplicate:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}};if(Array.isArray(e)){var a,r=p()(e);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=o.type,c=o.expTime,l=o.isClickAd,d=o.clickAdTimeMs,f=o.feedbackTimeMs;if("good"!==s){var h=i[s]||{};t.adProxy.reportAdFeedbackData(u()(u()(u()({},n),h),{},{expTime:c||0,isClickAd:l,clickAdTimeMs:d||0,secondGradeTime:f||0}))}}}catch(e){r.e(e)}finally{r.f()}}},Br=function(){var e=Ni(this),t=Y.S3.isWaGame?"count":"count_".concat(e.adProxy.getWebviewInfo().currentWebviewId),n=ve(t,e.adType)||0;he(t,e.adType,n>0?n-1:0),(0,re.Tb)(e.onShow),(0,re.b$)(e.onHide),e.emitter.off("_error"),e.emitter.off("load"),e.emitter.off("close"),Q.uo.remove(e.container),(0,ce.bn)(this)},jr=function(){var e=this;if(!Ur.call(this)){var t=Ni(this),n=Promise.resolve();t.isShowed&&(n=Wa.call(this).then((function(){t.adCover.hide(),Y.S3.isAndroid&&t.adProxy.setInnerAudioOption(!0).catch((function(){})),he("show",t.adType,0),he("close",t.adType,+new Date)}))),n.then((function(){Br.call(e)})).catch((function(){Br.call(e)})),this._destroyed=!0}},Ur=function(){return this._destroyed},Gr=function(e){var t=Ni(this),n=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:Y.S3.screenWidth,height:Y.S3.screenHeight});"showed"===e?t.isShowedExposureReported=!0:"viewable"===e&&(t.isViewableExposureReported=!0),Mi(n,"激励浏览","原始曝光")},Vr=function(){var e=this,t=Ni(this);return Yr.call(this)||(t.container.style.hidden=!1,t.container.style.top=0,t.adCover.show()),t.container.nextLayout().then((function(){return Ur.call(e)?Promise.reject({errMsg:Oa}):(La.call(e).then((function(){Y.S3.isWaGame||(t.isFullscreen=!0)})).catch((function(e){t.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR,e)})),Rr.call(e))})).then((function(n){if(Yr.call(e)){n?t.adProxy.reportAdMonitorData(Co.IN.REWARD_CHANNELS_CALLBACK_SUCCESS,n):t.adProxy.reportAdMonitorData(Co.IN.REWARD_CHANNELS_CALLBACK_FAILED);var i=n||{},a=i.rewardedDuration,r=i.feedbackInfo,o=null!=a&&a>=15;t.isEnded=o,t.isRewarded=o,Sr.call(e),Tr.call(e,{button:o?4:1}),Fr.call(e,r)}})).catch((function(e){throw he("show",t.adType,0),e}))},Zr=function(){var e;return(null===(e=Ni(this).data)||void 0===e?void 0:e.crt_size)!==To.CRT_SIZE_REWARD_LANDINGPAGE},Hr=function(){var e,t,n=Ni(this);return(null===(e=n.data)||void 0===e?void 0:e.crt_size)===To.CRT_SIZE_REWARD_LANDINGPAGE&&(null===(t=n.data)||void 0===t?void 0:t.dest_type)!==wo.DEST_TYPE_CHANNELS},Yr=function(){var e,t,n=Ni(this);return(null===(e=n.data)||void 0===e?void 0:e.crt_size)===To.CRT_SIZE_REWARD_LANDINGPAGE&&(null===(t=n.data)||void 0===t?void 0:t.dest_type)===wo.DEST_TYPE_CHANNELS},zr=function(){var e=Ni(this),t=e.data.product_type;return[L.fY.OPEN_PLATFORM_APP_MOB,L.fY.APPLE_APP_STORE,L.fY.WECHAT,L.fY.MINI_GAME].includes(t)||!e.expandCardUseLogoStrategy},qr=function(e){Ni(this).adProxy.reportMMClickPos({clickPos:e})},Kr=function(){var e=this,t=Ni(this);if($r.call(this)){t.disableGaussBlur=!0;var n=io.call(this),i=n.poster,a=n.src;t.video.poster!==i&&(t.video.poster=i),t.video.src!==a&&(t.video.src=a,setTimeout((function(){t.isVideoCalledPlay&&ao.call(e,"play")}),0)),t.video.style.width=Y.S3.screenWidth,t.video.style.height=Y.S3.screenHeight,Xr.call(this)}},Xr=function(){var e=Ni(this);"portrait"===Y.S3.deviceOrientation?e.video.style.bottom=217*Y.S3.screenWidth/160-Y.S3.screenHeight/2:e.video.style.left=43*-Y.S3.screenHeight/96},Jr=function(){var e=Ni(this),t=Y.S3.deviceOrientation,n=Y.S3.screenWidth,i=Y.S3.screenHeight,a="portrait"===t,r=a?i:n,o=a?n:i;e.defaultPageBackgroundImage.style.width=r,e.defaultPageBackgroundImage.style.height=r;var s=(r-o)/-2;a?(e.defaultPageBackgroundImage.style.left=s,e.defaultPageBackgroundImage.style.top=0):(e.defaultPageBackgroundImage.style.left=0,e.defaultPageBackgroundImage.style.top=s)},$r=function(){var e=Ni(this);return!(!e.data||e.disableGaussBlur)&&eo(e.data)},Qr=function(e){var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((function(e){return null!=e})).join("."):null},eo=function(e){var t,n,i=no(e),a="portrait"===Y.S3.deviceOrientation,r=e.crt_size===To.CRT_SIZE_REWARD_VEDIO916;if(Y.S3.isAndroid){var o,s,c=Qr((null==e||null===(o=e.condition)||void 0===o?void 0:o.widget_gray_rewrad_use_gauss_blur_android_system_version)||""),l=Qr((null==e||null===(s=e.condition)||void 0===s?void 0:s.widget_gray_rewrad_use_gauss_blur_android_wechat_version)||""),u=Qr(Y.S3.systemVersion),d=Qr(Y.S3.wechatVersion);if(c&&u&&(0,ee.yC)(u,c)<0)return!1;if(l&&d&&(0,ee.yC)(d,l)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(n=e.gaussVideo)||void 0===n?void 0:n.src)&&a!==r&&[To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916].includes(e.crt_size)&&(i||a))},to=function(){var e=Ni(this);return!!e.data&&no(e.data)},no=function(e){var t=e.flooringPage,n="portrait"===Y.S3.deviceOrientation,i=[To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);return Boolean(n!==i&&!Y.S3.isIPad&&[To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size)&&![2,3,4].includes(null==t?void 0:t.landpage_type))},io=function(){var e,t,n=Ni(this);return $r.call(this)&&null!==(e=n.data)&&void 0!==e&&e.gaussVideo?n.data.gaussVideo:(null==n||null===(t=n.data)||void 0===t?void 0:t.shortVideo)||null},ao=function(e){var t=Ni(this),n=t.video;n&&("play"===e?(t.isVideoCalledPlay=!0,n.play()):"pause"===e?(t.isVideoCalledPlay=!1,n.pause()):"stop"===e&&(t.isVideoCalledPlay=!1,n.stop()))},ro=function(){var e=Ni(this),t=Y.S3.deviceOrientation,n=Y.S3.screenWidth,i=Y.S3.screenHeight,a=io.call(this),r=a.width,o=a.height;if(e.video.style.width=n,e.video.style.height=i,e.video.style.left=0,e.video.style.bottom=0,$r.call(this)){if("portrait"===t&&r<o)e.video.style.height=Math.floor(n/r*o),e.video.style.width=n;else if("landscape"===t&&r>o){var s=Math.floor(i*r/o);e.video.style.width=s,e.video.style.height=i,e.video.style.left=(n-s)/2}}else to.call(this)&&Xr.call(this)},oo=(function(e){X()(n,e);var t=$()(n);function n(e){var i,r=e.adUnitId,o=e.multiton,s=void 0!==o&&o,c=e.pluginId,l=void 0===c?"":c;h()(this,n),(i=t.call(this))._destroyed=void 0;var u=Ni(q()(i));u.emitter=new oe.v,u.androidAppState=0,u.androidDownloadId=0,u.adUnitId=r,u.adType="incentive-video",u.adProxy=new pl({adUnitId:r,adType:"incentive-video",pluginAppid:l}),u.adCover=new ae({adUnitId:r,adType:"incentive-video"}),u.isShowedExposureReported=!1,u.isViewableExposureReported=!1,u.isCardExposureReported=!1,u.dynamicElems=null,u.dynamicOldStyle=null,u.dynamicEmitter=null,u.expandCardUseLogoStrategy=!1,u.rewardPageCostTime=0,u.rewardPageTimer=null,u.showDialogContainer=!1,u.isData=!1,u.isFirstPlay=!1,u.isFirstPlaySuccess=!1,u.isPlaying=!1,u.isVideoCalledPlay=!1,u.isRewarded=!1,u.isEnded=!1,u.isPause=!1,u.currentTime=0,u.cardShowTime=0,u.videoFirstPlayTime=0,u.preloadVideo=!1,u.preloadVideoSuccess=!1,u.cardFirstShowTime=0,u.clickCount=0,u.landingCount=0,u.lastLandingTime=0,u.lastJsapiName="",u.lastJsapiStatus=0,u.lastJsapiCostTime=0,u.isLandingPage=!1,u.landingPageCostTime=0,u.hideTime=0,u.showTime=0,u.startExposureTime=0,u.clickFirstGradeTime=0,u.flooringPageIsShow=!1,u.flooringPageShowTime=0,u.flooringPageCloseTime=0,u.flooringPageState={},u.flooringPageAutoShow=!1,u.showTipsTimer=null,u.exposureTimer=null,u.isCancelPlayablePage=!1,u.isLandingPlayblePage=!1,u.buttonTextType=0,u.isPress=!1,u.startPosX=0,u.startPosY=0,u.lastPosX=0,u.lastPosY=0,u.lastSecondPosX=0,u.lastSecondPosY=0,u.direction="",u.throttleTimer=null,u.timeStamp=0,u.callCount=0,u.distanceList=[],u.startTime=0,u.lastStartTime=0,u.lastMoveTime=0,u.flooringPageInfos={},u.weappTouchEventHandler=null,u.updateScreenInfoTimer=null,u.layoutTimer=null,u.closeEventCount=0,u.reportDurationTimer=null,u.disableGaussBlur=!1,i._destroyed=!1,le.i.call(q()(i),Li,Ai);var d=Y.S3.deviceOrientation,p=Y.S3.screenWidth,f=Y.S3.screenHeight;u.container.style.width=p,u.container.style.height=f,u.container.style.top=f,u.container.style.hidden=!0,u.topBar.style.width=p,u.sound.src=Fi,u.soundFix.src=Fi,u.appIcon.src=Bi,or.call(q()(i)),Y.S3.isIOS&&(u.video.obeyMuteSwitch=!0),Q.uo.add(u.container),Vi&&(u.topBar.style.top=u.topBar.style.top+30,u.topBarFix.style.top=u.topBarFix.style.top+30,u.adFeedbackList.style.top=u.adFeedbackList.style.top+30,u.adFeedbackMenu.style.top=u.adFeedbackMenu.style.top+30);Ma.call(q()(i),["dialogContainer","dialogMask"]),u.dialog.style.top=f>138?(f-138)/2:0,u.dialog.style.left=p>300?(p-300)/2:0,Y.S3.isWaGame||(u.container.fullscreen=!0,u.isFullscreen=!1);var v=dr.call(q()(i));v.catch((function(){})),u.adFetchResult=v,u.isSwitched=!1,Y.S3.isWaGame||Ie((function(){if(!Ur.call(q()(i))){var e=u.adProxy.getWebviewInfo(),t=e.openType,n=e.createWebviewId,a=e.lastWebviewId;if(["navigateTo","switchTab"].includes(t)&&n===a&&(u.isSwitched=!0),["navigateBack","navigateTo"].includes(t)&&n===a&&u.isShowed&&u.isData){var r=u.isFullscreen?3:1;Tr.call(q()(i),{button:6}),Sr.call(q()(i),r)}}})),u.close.on("click",(function(e){Ba.call(q()(i),e,!1)&&Dr.call(q()(i))})),u.closeFix.on("click",(function(e){Ba.call(q()(i),e,!1)&&Dr.call(q()(i))})),u.dialogClose.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.dialogContainer.style.hidden=!0,Sr.call(q()(i)),Tr.call(q()(i),{button:1}))})),u.dialogCancel.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.dialogContainer.style.hidden=!0,Hr.call(q()(i))?(u.showDialogContainer=!1,Rr.call(q()(i))):(ao.call(q()(i),"play"),_r.call(q()(i))),Tr.call(q()(i),{button:2}))})),u.sound.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.video.muted=!u.video.muted,u.sound.src=u.video.muted?Fi:Wi)})),u.soundFix.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.video.muted=!u.video.muted,u.soundFix.src=u.video.muted?Fi:Wi)})),u.adFeedback.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.adFeedbackList.style.hidden=!u.adFeedbackMenu.style.hidden||!u.adFeedbackList.style.hidden,u.adFeedbackList.style.hidden||Wr.call(q()(i),{firstGradeId:1,firstGradeDesc:"广告角标"}))})),u.adFeedbackBtn.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.adProxy.openFeedbackUrl(Y.S3.isWaGame?1003:1005),u.adFeedbackList.style.hidden=!0,Wr.call(q()(i),{secondGradeId:1,secondGradeDesc:"投诉"}))})),u.adDislikeBtn.on("click",(function(e){Ba.call(q()(i),e,!1)&&(Wr.call(q()(i),{secondGradeId:2,secondGradeDesc:"不感兴趣"}),u.adFeedbackList.style.hidden=!0,u.adFeedbackMenu.style.hidden=!1)})),u.adQualityBtn.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.adFeedbackMenu.style.hidden=!0,Wr.call(q()(i),{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),u.dialogCloseTip.style.hidden=!1,(0,se.Vs)(Ui).then((function(){u.dialogCloseTip.style.hidden=!0})))})),u.adDuplicateBtn.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.adFeedbackMenu.style.hidden=!0,Wr.call(q()(i),{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),u.dialogCloseTip.style.hidden=!1,(0,se.Vs)(Ui).then((function(){u.dialogCloseTip.style.hidden=!0})))})),u.adDismatchBtn.on("click",(function(e){Ba.call(q()(i),e,!1)&&(u.adFeedbackMenu.style.hidden=!0,Wr.call(q()(i),{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),u.dialogCloseTip.style.hidden=!1,(0,se.Vs)(Ui).then((function(){u.dialogCloseTip.style.hidden=!0})))})),u.video.onTimeUpdate((function(e){var t=Number(e.duration),n=Number(e.position);try{if(Ur.call(q()(i))||!u.isShowed)return;if(_r.call(q()(i)),u.isFirstPlay){var a=0;u.showTime>u.videoFirstPlayTime&&(a=u.showTime-u.videoFirstPlayTime),u.adProxy.setTimePoint("p21",{time:Date.now()-1e3*n}),u.adProxy.reportVideoLoadTime({beginTime:u.videoFirstPlayTime,endTime:(new Date).getTime()-Math.floor(1e3*n),departureTime:a,preloadVideo:u.preloadVideo?1:0,preloadVideoSuccess:u.preloadVideoSuccess?1:0,reportType:1}),u.isFirstPlay=!1,kr.call(q()(i),{stage:1004})}if(u.isPlaying=!0,n>0&&(u.currentTime=1e3*n),n>=1&&!u.isViewableExposureReported){var r=u.video.style,o=r.width,s=r.height;u.isViewableExposureReported=!0,u.adProxy.isViewable=!0;var c=u.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:o,height:s});Mi(c,"激励视频","可视曝光")}Math.ceil(t-n)<=6&&[3,4].indexOf(u.pageType)>-1&&u.playableGiveUp.style.hidden&&Na.call(q()(i));var l=u.data.rewardedTime,p=io.call(q()(i)).duration,f=t>l/1e3?l/1e3:t||p/1e3,h=Math.ceil((p>l?l:p)/1e3);if(0===t&&(u.reportDurationTimer&&clearTimeout(u.reportDurationTimer),u.reportDurationTimer=setTimeout((function(){u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_DURATION_ZERO,{duration:t,durationFromAd:p,rewardedTime:l})}),1e3)),f>n){var v=Math.ceil(f-n);v>h&&(v=h),u.countDown.value=v.toString(),u.countDownFix.value=v.toString(),u.countDownAppend.value="秒后可获得奖励",u.countDownAppendFix.value="秒后可获得奖励",u.countDown.style.width=2===v.toString().length?19:12,u.countDownFix.style.width=2===v.toString().length?19:12,u.countDownAppend.style.width=100,u.countDownAppendFix.style.width=100}else u.countDown.style.hidden=!0,u.countDownFix.style.hidden=!0,u.sound.style.hidden=!0,u.soundFix.style.hidden=!0,u.splitLine.style.hidden=!0,u.splitLineFix.style.hidden=!0,u.countDownAppend.value="已获得奖励",u.countDownAppendFix.value="已获得奖励",u.countDownAppend.style.width=72,u.countDownAppendFix.style.width=72,u.isRewarded=!0;if((1e3*n>=u.cardShowTime||1e3*n>0)&&u.card.style.hidden){if(u.data.flooringPage&&2===u.pageType&&"portrait"===d?u.pageCardBody.style.hidden=!1:(u.playableTipsWrap.style.hidden=!(u.data.flooringPage&&[3,4].indexOf(u.pageType)>-1),u.card.style.hidden=!1),u.isCardExposureReported)return;u.card.nextLayout((function(){var e=u.card.getAbsolutePosition(),t=e.left,n=e.top,a=u.card.layoutBox,r=a.width,o=a.height;u.isCardExposureReported=!0;var s=u.adProxy.reportExposure({exposureType:"incentiveVideoCard",left:t,top:n,width:r,height:o});Mi(s,"激励视频","卡片曝光"),u.cardFirstShowTime=(new Date).getTime(),u.data.flooringPage&&2===u.pageType&&(u.showTipsTimer=setTimeout((function(){Ya.call(q()(i))}),3e3))}))}mr.call(q()(i),Pi.dA.REWARDEDVIDEOTIMEUPDATE,{event:e})}catch(e){u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_RENDER_ERROR,e)}})),u.video.onEnded((function(){var e,t;if(!Ur.call(q()(i))&&u.isShowed){u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_END),wr.call(q()(i)),u.countDown.style.hidden=!0,u.countDownFix.style.hidden=!0,u.sound.style.hidden=!0,u.soundFix.style.hidden=!0,u.splitLine.style.hidden=!0,u.splitLineFix.style.hidden=!0,u.countDownAppend.value="已获得奖励",u.countDownAppendFix.value="已获得奖励",u.countDownAppend.style.width=72,u.countDownAppendFix.style.width=72,u.isRewarded=!0,u.isPlaying=!1,u.isVideoCalledPlay=!1,u.isEnded=!0,u.isPause=!1;var n=io.call(q()(i)).duration;u.currentTime=n;var a=null===(e=u.data)||void 0===e||null===(t=e.card)||void 0===t?void 0:t.headBgImg,r=u.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:u.currentTime,videoDuration:n,muted:u.video.muted});if(u.data.flooringPage&&1===u.pageType&&"portrait"===d)u.pageContainer.style.width=p,u.pageContainer.style.height=f,u.pageContainer.style.left=p,u.pageContainer.style.hidden=!1,u.pageHandler.style.hidden=!1,u.pageHandler.style.zIndex=1000003,u.topBar.style.zIndex=1000004,u.pageImgTips.style.zIndex=1000004,u.pageContainer.nextLayout((function(){ar.call(q()(i))}));else if(u.data.flooringPage&&2===u.pageType&&"portrait"===d)ar.call(q()(i));else if(u.data.flooringPage&&[3,4].indexOf(u.pageType)>-1&&!u.isCancelPlayablePage){var o=u.data.flooringPage.page_url||"";if(!o&&u.data.crtInfo)try{o=u.data.crtInfo.wxgame_video_card.flooring_page.page_url||""}catch(e){}u.adProxy.handleRewardedVideoPlayableLand(o,u.pageType).then((function(){u.isLandingPlayblePage=!0}))}else!u.pageType&&a&&(u.defaultPageContainer.style.hidden=!1,u.defaultPageContainer.style.opacity=0,u.defaultPageContainer.nextLayout((function(){ar.call(q()(i))})));Mi(r,"激励视频","播放完成")}})),u.video.onError((function(e){u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_LOAD_ERROR,e),wr.call(q()(i)),$r.call(q()(i))&&Kr.call(q()(i))})),u.playableCancelBox.on("click",(function(e){var t;if(Ba.call(q()(i),e)&&!u.isCancelPlayablePage){u.isCancelPlayablePage=!0,u.playableGiveUp.value="已放弃",u.playableGiveUp.style.color="#ffffff",u.playableGiveUp.style.opacity=.6;var n=(0,N.X1)({text:"已放弃",fontSize:12})||36;u.playableGiveUp.style.width=n,u.playableTipsWrap.style.width=u.playableTipsContent.style.width+n+32,u.adProxy.reportCancelRewardPlayablePage({costtype:null!==(t=u.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,slotid:Oi,is_reward:1,is_cancel:1})}})),u.pageButton.on("click",(function(e){Ba.call(q()(i),e)&&Ka.call(q()(i),e,"button",mi.REWARD_OLD_ENDPAGE_BUTTON)}));var g=function(e){return function(t){if(Ba.call(q()(i),t)){var n=zr.call(q()(i));if(!(n&&"wrapper"===e||!n&&["logo","wording"].includes(e))){var r=[[mi.REWARD_ENDPAGE_HEAD_IMG,n&&"logo"===e],[mi.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED,n&&["wording","wrapper"].includes(e)],[mi.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED,!n&&["wording","wrapper"].includes(e)],[mi.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED,n&&"button"===e],[mi.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED,!n&&"button"===e]].find((function(e){return a()(e,2)[1]}))[0];Ka.call(q()(i),t,"button"===e?"button":"",r)}}}},y=function(e){return function(t){if(Ba.call(q()(i),t)){var n=zr.call(q()(i));if(!(n&&"wrapper"===e||!n&&["logo","wording"].includes(e))){var r=[[mi.REWARD_EXPAND_CARD_HEAD_IMG,n&&"logo"===e],[mi.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED,n&&["wording","wrapper"].includes(e)],[mi.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED,!n&&["wording","wrapper"].includes(e)],[mi.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED,n&&"button"===e],[mi.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED,!n&&"button"===e]].find((function(e){return a()(e,2)[1]}))[0];Ka.call(q()(i),t,"button"===e?"button":"",r)}}}};if(u.defaultPageButton.on("click",g("button")),u.defaultPageAppIcon.on("click",g("logo")),u.defaultPageAppName.on("click",g("wording")),u.defaultPageAppWording.on("click",g("wording")),u.defaultPageWordingWrapper.on("click",g("wrapper")),u.expandCardButton.on("click",y("button")),u.expandCardAppIcon.on("click",y("logo")),u.expandCardAppName.on("click",y("wording")),u.expandCardAppWording.on("click",y("wording")),u.expandCardWordingWrapper.on("click",y("wrapper")),u.pageDownloadButton.on("click",(function(e){Ba.call(q()(i),e)&&Mr.call(q()(i),e)})),u.button.on("click",(function(e){Ba.call(q()(i),e)&&(Y.S3.isIOS&&46===u.data.product_type&&6===u.data.dest_type?Promise.race([Ir.call(q()(i),e,mi.REWARD_CARD_BUTTON),(0,se.Vs)(500)]).then((function(){Tr.call(q()(i),{button:5},e),Rr.call(q()(i))})).catch((function(){Tr.call(q()(i),{button:5},e),Rr.call(q()(i))})):(Ir.call(q()(i),e,mi.REWARD_CARD_BUTTON),Tr.call(q()(i),{button:5},e),23===u.data.product_type?Rr.call(q()(i),{isButton:!0}):Rr.call(q()(i))))})),u.downloadButton.on("click",(function(e){Ba.call(q()(i),e)&&Mr.call(q()(i),e)})),u.card.on("click",(function(e){Ba.call(q()(i),e)&&(Y.S3.isIOS&&46===u.data.product_type&&6===u.data.dest_type?Promise.race([Ir.call(q()(i),e,mi.REWARD_CARD),(0,se.Vs)(500)]).then((function(){Tr.call(q()(i),{button:5},e),Rr.call(q()(i))})).catch((function(){Tr.call(q()(i),{button:5},e),Rr.call(q()(i))})):(Ir.call(q()(i),e,mi.REWARD_CARD),Tr.call(q()(i),{button:5},e),23===u.data.product_type?Rr.call(q()(i),{toOfficalAccountDetail:!0}):Rr.call(q()(i))))})),u.pageHandler.on("touchstart",(function(e){if(!Ur.call(q()(i))){var t=Xa.call(q()(i),{event:e,container:"pageHandler"});u.startPosX=t.x,u.startPosY=t.y,u.lastPosX=t.x,u.lastPosY=t.y,u.lastStartTime=(new Date).getTime()}})),u.pageHandler.on("touchmove",(function(e){if(!Ur.call(q()(i))){var t=u.pageHandler.getAbsolutePosition(),n=t.left+e[0].x,a=t.top+e[0].y,r=u.flooringPageInfos,o=r.xMin,s=r.xMax,c=r.yMin,l=r.yMax,d=r.xContainer,p=r.yContainer;if(n-u.lastPosX!=0&&d&&Ua.call(q()(i),{x:n,y:a,direction:"left"})){var f=u[d].style.left;(f+=n-u.lastPosX)>=o&&f<=s&&(u[d].style.left=f,u.lastSecondPosX=u.lastPosX,u.lastPosX=n,u.direction="left",u.lastMoveTime=(new Date).getTime())}if(a-u.lastPosY!=0&&p&&Ua.call(q()(i),{x:n,y:a,direction:"top"})){var h=u[p].style.top;(h+=a-u.lastPosY)>=c&&h<=l&&(u[p].style.top=h,u.lastSecondPosY=u.lastPosY,u.lastPosY=a,u.direction="top")}}})),u.pageHandler.on("touchend",(function(e){if(!Ur.call(q()(i))){var t=Xa.call(q()(i),{event:e,container:"pageHandler"}),n=u.flooringPageInfos,a=n.xMin,r=n.xMax,o=n.yMin,s=n.yMax,c=n.xContainer,l=n.yContainer,d=n.infos;if(d.event=t,d.event&&(d.event.pressInterval=(new Date).getTime()-u.lastStartTime),d.touchClick&&Za.call(q()(i),Object.assign({},d,{event:t,max:s,min:o})),"top"===u.direction&&d.yRevise)er.call(q()(i),Object.assign({},d,{max:s,min:o,direction:"top",imgBox:l}));else if("left"===u.direction&&d.xRevise)er.call(q()(i),Object.assign({},d,{max:r,min:a,direction:"left",imgBox:c})),cr.call(q()(i));else if("left"===u.direction&&d.xInertia){var p=t.x-u.lastPosX,f=u[c].style.left+5*p;f>=d.xHead&&f<=d.xTail?u[c].style.left=f:Ha.call(q()(i),Object.assign({},d,{xMax:r,xMin:a,imgBox:c})),cr.call(q()(i))}else u.startPosX=0,u.startPosY=0,u.lastPosX=0,u.lastPosY=0,u.lastSecondPosX=0,u.lastSecondPosY=0,u.direction="";u.direction=""}})),u.onShow=function(){if(!Ur.call(q()(i))&&(u.adProxy.setTimePoint("p11"),[3,4].indexOf(u.pageType)>-1&&u.isLandingPlayblePage&&Sr.call(q()(i)),!Yr.call(q()(i)))){if(Hr.call(q()(i))&&u.isShowed&&!u.showDialogContainer)return u.rewardPageTimer&&clearTimeout(u.rewardPageTimer),u.rewardPageCostTime+=+new Date-u.hideTime-400,Pr.call(q()(i)),setTimeout((function(){u.lastJsapiStatus=0,u.isLandingPage=!1}),10),void(Y.S3.isWaGame||!Y.S3.isAndroid||Yr.call(q()(i))||(u.adProxy.hideVirtualBottomNavigationBar().catch((function(){})),u.layoutTimer=setTimeout((function(){u.container.forceUpdate()}),250)));!u.isShowed||u.isEnded||u.isPause||setTimeout((function(){!u.isShowed||u.isEnded||u.isPause||(ao.call(q()(i),"play"),_r.call(q()(i)))}),1e3),u.data&&23===u.data.product_type?u.adProxy.checkFollow(u.data.app.uin).then((function(e){var t=u.data.button_action.button_text;0===u.buttonTextType&&(u.button.value=e?"查看公众号":t,Ra.call(q()(i)),yr.call(q()(i),Pi.A$.CHANGEADBTNTEXT,{text:e?"查看公众号":t})),u.data.flooringPage&&2===u.pageType&&0===u.buttonTextType?u.pageCardButton.value=e?"查看公众号":t:u.data.flooringPage&&1===u.pageType&&0===u.buttonTextType?u.pageButton.value=e?"查看公众号":t:u.pageType||(u.defaultPageButton.value=e?"查看公众号":t),u.expandCardButton.value=e?"查看公众号":t,u.adProxy.data.biz_info&&(u.adProxy.data.biz_info.is_subscribed=e?1:0)})):u.data&&12===u.data.product_type&&Nr.call(q()(i)),u.showTime=+new Date,setTimeout((function(){var e;(u.flooringPageIsShow&&(u.flooringPageShowTime=+new Date,cr.call(q()(i))),u.isLandingPage)&&(u.lastJsapiStatus=0,u.isLandingPage=!1,u.landingPageCostTime=u.showTime-u.hideTime,u.adProxy.reportLandingTime({slotId:Oi,costType:null!==(e=u.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,openTime:u.hideTime,closeTime:u.showTime,stayTime:u.landingPageCostTime,jsapiName:u.lastJsapiName,clickTime:u.lastLandingTime,clkCnt:u.landingCount,retCode:u.lastJsapiStatus,costTime:u.lastJsapiCostTime,actTypeInt:1}),Y.S3.isWaGame||!Y.S3.isAndroid||Yr.call(q()(i))||(u.adProxy.hideVirtualBottomNavigationBar().catch((function(){})),u.layoutTimer=setTimeout((function(){u.container.forceUpdate()}),250)),u.adProxy.setRightButtonHide(!0).catch((function(){})))}),10)}},(0,re.dN)(u.onShow),u.onHide=function(){if(!Ur.call(q()(i))){var e=io.call(q()(i));if(u.hideTime=+new Date,Hr.call(q()(i))&&u.isShowed){var t=u.adProxy.checkCanvasXmlState();return!t&&!u.isShowedExposureReported&&Gr.call(q()(i),"showed"),!t&&!u.isViewableExposureReported&&Gr.call(q()(i),"viewable")}if(!u.notReportExit&&u.isShowed){wr.call(q()(i));var n=u.adProxy.reportVideo({playType:u.isPlaying?"partial":"complete",conditionType:"exit",playDuration:u.currentTime,videoDuration:e.duration,muted:u.video.muted});Mi(n,"激励视频","退出小游戏"),u.flooringPageIsShow&&(u.flooringPageCloseTime=(new Date).getTime(),ur.call(q()(i),{type:6,staytime:u.flooringPageCloseTime-u.flooringPageShowTime,componentsstartstr:JSON.stringify(u.flooringPageState)}),u.flooringPageShowTime=0,u.flooringPageCloseTime=0,rr.call(q()(i)))}}},(0,re.vv)(u.onHide),(0,ue.jQ)("onVideoResourceLoad",(function(e){!u.isShowed&&u.video&&u.video.src===e.resource&&(u.preloadVideoSuccess=!0,u.video.src=e.resource,u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_PRELOAD_SUCCESS))})),!0===s){var m=Y.S3.isWaGame?"count":"count_".concat(u.adProxy.getWebviewInfo().currentWebviewId),_=(ve(m,u.adType)||0)+1;he(m,u.adType,_),_>=5&&(console.warn("系统检测到您创建的激励视频广告实例过多，由于您当前使用的是多例模式，为避免影响".concat(Y.S3.isWaGame?"小游戏":"小程序","性能，请减少实例创建数量或调用destroy方法销毁无用的实例")),5===_&&u.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_INSTANCE_BROKEN))}return i}g()(n,[{key:"load",value:function(){if(Ur.call(this))return Promise.reject({errMsg:Oa});var e=Ni(this);if(e.isShowed)return Promise.reject({errMsg:"can't invoke load() while video-ad is showed"});if(e.isData)return Promise.resolve();var t=dr.call(this);return e.adFetchResult=t.catch((function(t){var n=-12001===t.errCode?{errMsg:"RewardedVideoAd fail no permission"}:t;throw e.emitter.emit("_error",n),n})),e.adFetchResult}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.branchId,i=t.branchDim;if(Ur.call(this))return Promise.reject({errMsg:Oa});var a=Ni(this);if(a.isShowed)return Promise.resolve();if(!a.isData)return Promise.reject({errMsg:"no advertisement data available, please invoke load()"});var r=ve("show",a.adType)||0;if(1===r)return a.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_OTHER_SHOW_ERROR),Promise.reject({errMsg:"can't invoke show() while other video-ad is showed"});kr.call(this,{stage:1001});var o=(new Date).getTime();return a.isSwitched=!1,he("show",a.adType,1),a.adProxy.setTimePoint("p19"),n?a.adProxy.recordAnalyseBranchInfo({branchId:n,branchDim:i}):a.adProxy.resetAnalyseBranchInfo(),a.adFetchResult.then((function(){if(Ur.call(e))return Promise.reject({errMsg:Oa});(0,Y.uj)(),pr.call(e);var t=Y.S3.screenWidth,n=Y.S3.screenHeight;return Y.S3.isWaGame?a.adProxy.reportVideoLastClick({touchStartX:Math.round(Hi),touchStartY:Math.round(Yi),touchEndX:Math.round(zi),touchEndY:Math.round(qi),touchDuration:Xi,screenWidth:t,screenHeight:n}):(a.weappTouchEventHandler&&(0,O.sv)(a.weappTouchEventHandler),a.weappTouchEventHandler=(0,O.L9)(Da,{aid:a.adProxy.data.aid,traceid:a.adProxy.data.traceid}),(0,ue.nY)("emitWeappTouchEvent")),a.adProxy.reportVideoLoadTime({beginTime:o,endTime:(new Date).getTime(),reportType:2}),a.isShowed=!0,a.startExposureTime=0,a.isShowedExposureReported=!1,a.isViewableExposureReported=!1,a.isCardExposureReported=!1,a.adProxy.isViewable=!1,Hr.call(e)||Yr.call(e)?Vr.call(e):(a.adProxy.isValidCondition("widget_gray_video_sound")?(_i(),a.video.muted=!1,Y.S3.isIOS&&(a.video.obeyMuteSwitch=!0),a.sound.src=Wi,a.soundFix.src=Wi):(a.video.muted=!0,a.sound.src=Fi,a.soundFix.src=Fi),a.count.style.hidden=!1,a.countDown.style.hidden=!1,a.splitLineLeft.style.hidden=!1,a.countDownFix.style.hidden=!1,a.card.style.hidden=!0,a.container.style.hidden=!1,a.adFeedbackList.style.hidden=!0,a.adCover.show(),a.adProxy.setTimePoint("p15"),a.container.nextLayout().then((function(){return(0,se.Vs)(500)})).then((function(){if(Ur.call(e))return Promise.reject({errMsg:Oa});if(a.isSwitched)return Sr.call(e,1);La.call(e).then((function(){a.topBar.style.hidden=!1,a.topBarFix.style.hidden=!0,Y.S3.isWaGame||(a.isFullscreen=!0)})).catch((function(){a.topBar.style.hidden=!0,a.topBarFix.style.hidden=!1}));var t={top:0,duration:Gi};return a.container.animate(t).then((function(){(0,Ci.y4)(Ci.F0.EVENT_CANVAS_BEFORE_ADS);var t=a.video.style,n=t.width,i=t.height,r=a.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:n,height:i});return a.startExposureTime=+new Date,Mi(r,"激励视频","原始曝光"),(0,se.Vs)(500).then((function(){a.isFirstPlay=!0,a.videoFirstPlayTime=(new Date).getTime(),a.adProxy.setTimePoint("p20"),ao.call(e,"play"),_r.call(e),mr.call(e,Pi.dA.REWARDEDVIDEOPLAY)}))})).then((function(){a.isFirstPlaySuccess=!0;var t=io.call(e),n=a.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:t.duration,muted:a.video.muted});Mi(n,"激励视频","开始播放")})).catch((function(t){var n={errMsg:t,isSwitched:a.isSwitched};return a.adProxy.reportAdMonitorData(Co.IN.REWARDED_VIDEO_ANIMATE_ERROR,n),Sr.call(e,2)}))})).catch((function(e){throw he("show",a.adType,0),e})))})).catch((function(e){throw he("show",a.adType,0),e}))}},{key:"isReady",value:function(){return!Ur.call(this)&&Ni(this).isData}},{key:"destory",value:function(){jr.call(this)}},{key:"destroy",value:function(){jr.call(this)}},{key:"onError",value:function(e){Ur.call(this)||Ni(this).emitter.on("_error",e)}},{key:"offError",value:function(e){Ur.call(this)||Ni(this).emitter.off("_error",e)}},{key:"onLoad",value:function(e){Ur.call(this)||Ni(this).emitter.on("load",e)}},{key:"offLoad",value:function(e){Ur.call(this)||Ni(this).emitter.off("load",e)}},{key:"onClose",value:function(e){if(!Ur.call(this)){var t=Ni(this);t.emitter.on("close",e),e&&"function"==typeof e&&(t.closeEventCount+=1,t.closeEventCount>1&&console.warn("激励视频广告组件检测到您绑定了多次 onClose 事件，绑定重复的事件会产生多次重复的回调，请确认您绑定的事件是否重复，以免造成事件重复回调问题。"))}}},{key:"offClose",value:function(e){if(!Ur.call(this)){var t=Ni(this);t.emitter.off("close",e),e&&"function"==typeof e&&t.closeEventCount>0&&(t.closeEventCount-=1),e||(t.closeEventCount=0)}}}])}(ce.wA),$i=F(),Qi=F(),ea=F(),ta=F(),na=F(),ia=F(),aa=F(),ra=F(),oa=F(),sa=F(),ca=F(),la=F(),ua=F(),da=F(),pa=F(),fa=F(),ha=F(),va=F(),ga=F(),ya=F(),ma=F(),_a=F(),wa=F(),ba=F(),Ia=F(),Ea=F(),Ta=F(),ka=F(),Aa=F(),Ca=function(){function e(t){h()(this,e),this.adProxy=t,this.timePoints={},this.analyseBranchInfo=null}return g()(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"data",get:function(){return this.adProxy.data}},{key:"convertedAdData",get:function(){return this.adProxy.convertedAdData}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"adUnitId",get:function(){return this.adProxy.getAdUnitId()}},{key:"pluginAppid",get:function(){return this.adProxy.getPluginAppid()}},{key:"lastClickTime",get:function(){return this.adProxy.getLastClickTime()}},{key:"getTimePoint",value:function(e){return this.timePoints[e]?this.timePoints[e]:0}},{key:"setTimePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("splashAd"!==this.adType){["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});var n=t.time;this.timePoints[e]=n||Date.now()}else this.timePoints[e]=Date.now()}},{key:"reportTimePoints",value:function(e){var t,n=e.slotid,i=e.costtype,a=e.splash_instance_id,r=void 0===a?"":a,o=e.scene,s=void 0===o?0:o,c=e.errCode,l=void 0===c?0:c,d=e.extInfo,p=void 0===d?{}:d;if(["customAd","incentive-video","splashAd","interstitialAd"].includes(this.adType)){this.reportMMData(19837,u()({slotid:n,costtype:i,ext_info:JSON.stringify(Object.assign({},p,{adUnitId:this.adUnitId,is_game:!0})),instance_id:r,scene:s,crt_size:(null===(t=this.data)||void 0===t?void 0:t.crt_size)||0,error_code:l},this.timePoints))}}},{key:"reportCloseAction",value:function(e){return this.reportMMData(16743,e)}},{key:"reportAdEntranceExposure",value:function(e){return this.reportMMData(18988,e)}},{key:"reportTouchClick",value:function(e){return this.reportMMData(16487,e)}},{key:"reportCancelRewardPlayablePage",value:function(e){return this.reportMMData(20299,e)}},{key:"formatMMData",value:function(e,t){var n,i=(0,H.x)(e);if(!i||0===i.length)return null;var a=this.data||{aid:0,traceid:"",crt_size:0};if("grid"===this.adType&&-1!==[16139].indexOf(e))try{a=this.datas[this.datas.length-1]}catch(e){}return Object.assign(t,{aid:a.aid,traceid:a.traceid,crt_size:a.crt_size,slotid:L.DX[this.adType],report_time:Date.now(),ad_pos_type:null!==(n=L._W[this.adType])&&void 0!==n?n:0,publisher_appid:this.pluginAppid?this.pluginAppid:Y.S3.gameAppId,appid:this.pluginAppid?this.pluginAppid:Y.S3.gameAppId,orig_weapp_id:this.pluginAppid?Y.S3.gameAppId:"",network_type:Y.S3.adNetworkType,wechat_version:Y.S3.wechatVersion,platform:Y.S3.platform,system_version:Y.S3.systemVersion,device_orientation:Y.S3.deviceOrientation,wxapp_lib_version:Y.S3.SDKVersion,wxapp_lib_time:Y.S3.SDKVersionTime,machine_type:Y.S3.model,machine_brand:Y.S3.brand,screen_width:Y.S3.screenWidth,screen_height:Y.S3.screenHeight,ad_platform:Y.S3.isWaGame?1:0,ad_unit_id:this.adUnitId}),i.map((function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}}))}},{key:"reportMMData",value:function(e,t){var n=this.formatMMData(e,t);return(0,A.Lo)({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:n})}})}},{key:"reportAbnormalDetect",value:function(e){var t={adunit_id:this.adUnitId,appid:Y.S3.gameAppId};if(Object.assign(e,t),"object"===Z()(e))return this.reportMMData(16139,e)}},{key:"reportAdIDKey",value:function(e){var t,n=e.key,i=e.id,a=n;"object"===Z()(a)&&(!i&&(i=a.idKeyGroup),a=a.idKey),i||(i=null!==(t=L.gQ[this.adType])&&void 0!==t?t:924),0===a&&(a="0"),Reporter.reportIDKeyDirectly({id:i,key:a})}},{key:"processStackMsg",value:function(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t="".concat(n,"@").concat(t)),t}},{key:"reportAdIDKeyErrorData",value:function(e){var t,n,i=e.key,a=e.id,r=e.extInfo,o=i,s=a,c=void 0===r?"":r;"object"===Z()(o)&&(!s&&(s=o.idKeyGroup),o=o.idKey),0===o&&(o="0");var l="",u="";try{if(this.data){var d={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url};if([To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(this.data.crt_size)){var p=this.convertedAdData;p&&(d.is_gauss_blur=eo(p),d.is_expand_style=no(p),u=d.is_gauss_blur?p.gaussVideo.src:p.shortVideo.src)}else this.adProxy.isBannerAd()&&(u=this.data.image_url);l=JSON.stringify(d)}if(c&&"string"!=typeof c)try{c instanceof Error&&(c=this.processStackMsg(c)),c=JSON.stringify(c)}catch(e){c=c.toString()}}catch(e){var f;c=this.processStackMsg(e),u="",l=null===(f=this.data)||void 0===f?void 0:f.crt_size}return this.reportMMData(16295,{id_key:o,id_key_group:null!==(t=null!==(n=s)&&void 0!==n?n:L.gQ[this.adType])&&void 0!==t?t:924,report_time:+new Date,source_url:u,expand_feild:l,expand_feild2:c,scene:this.adProxy.scene||0})}},{key:"reportAdMonitorData",value:function(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}},{key:"reportEndPage",value:function(e){var t=e.slotid,n=e.costtype,i=e.isGame,a=void 0===i?0:i,r=e.posType,o=e.ace_type,s=e.exposure_duration,c=void 0===s?0:s;return this.reportMMData(19002,{slotid:t,costtype:n,is_game:a,pos_type:r,ace_type:o,exposure_duration:c})}},{key:"reportAdFeedbackData",value:function(e){var t,n,i={};if("grid"===this.adType){var a,r={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(a=this.datas)||void 0===a||a.forEach((function(e){e.extBackComm&&r.viewid.push(e.extBackComm.viewid),r.s_pt.push(e.pt),r.s_aid.push(e.aid),r.s_trace_id.push(e.traceid)})),i.grid_feedback_info=r}return this.reportMMData(17045,{appid:Y.S3.gameAppId,weapp_path:Y.S0.weappPath,ad_unit_id:this.adUnitId,device_type:Y.S3.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:Y.S3.screenHeight,screen_width:Y.S3.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:L.DX[this.adType],service_type:Y.S3.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(n=e.clickAdTimeMs)&&void 0!==n?n:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify(i)})}},{key:"reportBehaviorButton",value:function(e){var t=e.button,n=e.playDuration,i=e.preloadVideo,a=e.preloadVideoSuccess,r=e.videoFirstPlay,o=e.cardFirstShow,s=e.clickCard,c=e.pressInterval,l=e.currentPlayUrl,u=e.lastFetchUrl,d=e.isEnded,p=e.videoDuration;return this.reportMMData(16e3,{click_button:t,play_duration:n,click_close_ts:+new Date,preload_video:i,preload_video_success:a,video_first_play_ts:r,card_first_show_ts:o,click_card_ts:s,press_interval:c,current_play_url:l,last_fetch_url:u,is_ended:d?1:0,video_duration:p})}},{key:"reportVideoLoadTime",value:function(e){var t=e.beginTime,n=void 0===t?0:t,i=e.endTime,a=void 0===i?0:i,r=e.departureTime,o=void 0===r?0:r,s=e.preloadVideo,c=void 0===s?0:s,l=e.preloadVideoSuccess,u=void 0===l?0:l,d=e.reportType,p=void 0===d?0:d,f=a-o-n;return f>0?this.reportMMData(15730,{load_begin_time:n,load_end_time:a,load_departure_time:o,load_cost_time:f,preload_video:c,preload_video_success:u,report_type:p}):Promise.resolve()}},{key:"reportRepeatClick",value:function(e){var t=e.slotId,n=e.costType,i=e.clkCnt,a=e.lastClkPeriod,r=e.retCode,o=e.costTime,s=e.pageStayTime,c=e.jsapiName;return this.reportMMData(15979,{slotid:t,costtype:n,clkcnt:i,currenttime:+new Date,lastclkperiod:a,retcode:r,costtime:o,pagestaytime:s,jsapiname:c})}},{key:"reportLandingTime",value:function(e){var t=e.slotId,n=e.costType,i=e.openTime,a=e.closeTime,r=e.stayTime,o=e.jsapiName,s=e.clickTime,c=e.clkCnt,l=e.retCode,u=e.costTime,d=e.actTypeInt,p=e.actTypeStr;return this.reportMMData(15980,{slotid:t,costtype:n,currenttime:s,opentime:i,closetime:a,staytime:r,jsapiname:o,clkcnt:c,retcode:l,costtime:u,act_type_int:d,act_type_str:p})}},{key:"reportVideoLastClick",value:function(e){var t=e.touchStartX,n=e.touchStartY,i=e.touchEndX,a=e.touchEndY,r=e.touchDuration,o=e.screenWidth,s=e.screenHeight;return this.reportMMData(17035,{touch_start_x:t,touch_start_y:n,touch_end_x:i,touch_end_y:a,touch_duration:r,screenwidth:o,screenheight:s})}},{key:"reportBannerLastClick",value:function(e){var t=e.lastClickArr,n=e.top,i=e.left,a=e.width,r=e.height,o=e.expMs,s=e.clickMs,c=e.bannerClkScreenX,l=e.bannerClkScreenY,u=e.lastShowTime;return this.reportMMData(18072,{last_clicks:t,banner_x:n,banner_y:i,banner_width:a,banner_height:r,exp_ms:o,clk_ms:s,banner_clk_screen_x:c,banner_clk_screen_y:l,last_show_time:u,slotid:L.DX[this.adType]})}},{key:"reportRelationFetchDuration",value:function(e){var t=e.startTime,n=e.showTime,i=e.endTime;return this.reportMMData(19429,{start_time:t,show_time:n,end_time:i,show_delay_duration:0===n?0:i-n,fetch_duration:i-t})}},{key:"reportMMClickPos",value:function(e){var t,n=e.clickPos;return this.reportMMData(20480,{slotid:L.DX[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:n})}},{key:"reportADFunnelModel",value:function(e){var t=[e.adtype,e.stage].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:t,force:!0,immediately:!0})}},{key:"recordAnalyseBranchInfo",value:function(e){var t=e.branchId,n=e.branchDim;this.analyseBranchInfo={branchId:t,branchDim:n}}},{key:"resetAnalyseBranchInfo",value:function(){this.analyseBranchInfo=null}},{key:"reportAnalyseInfo",value:function(e){var t=L.WG[this.adType]||"viewable";if(Y.S3.isWaGame&&e===t){var n=this.analyseBranchInfo;n&&("release"!==Y.S3.envVersion&&this.adProxy.reportAnalyseDebugInfo(n),this.reportMMData(20317,{branch_id:n.branchId,branch_dim:n.branchDim}))}}},{key:"reportRewardGaussVideo",value:function(e){var t=e.useGaussVideo,n=e.useExpandStyle,i=e.videoUrl,a=e.gaussVideoUrl,r=e.expUseGaussVideo,o=e.expUseExpandStyle;this.reportMMData(21644,{use_gauss_video:t?1:0,video_url:i,gauss_video_url:a,use_expand_style:n?1:0,exp_use_gauss_video:r,exp_use_expand_style:o})}},{key:"reportPopupClickAction",value:function(e){var t=e.buttonType,n=e.buttonTime,i=e.adClkTime,a=e.adExpTime,r=e.adClkX,o=e.adClkY,s=e.adWidth,c=e.adHeight,l=e.isGame,u=e.costtype;this.reportMMData(23415,{adunitid:this.adUnitId,button_type:t,button_time:n,ad_clk_time:i,ad_exp_time:a,ad_clk_x:r,ad_clk_y:o,ad_width:s,ad_height:c,is_game:l,costtype:u})}}]),e}(),m()(Ca.prototype,"getTimePoint",[$i],Object.getOwnPropertyDescriptor(Ca.prototype,"getTimePoint"),Ca.prototype),m()(Ca.prototype,"setTimePoint",[Qi],Object.getOwnPropertyDescriptor(Ca.prototype,"setTimePoint"),Ca.prototype),m()(Ca.prototype,"reportTimePoints",[ea],Object.getOwnPropertyDescriptor(Ca.prototype,"reportTimePoints"),Ca.prototype),m()(Ca.prototype,"reportCloseAction",[ta],Object.getOwnPropertyDescriptor(Ca.prototype,"reportCloseAction"),Ca.prototype),m()(Ca.prototype,"reportAdEntranceExposure",[na],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAdEntranceExposure"),Ca.prototype),m()(Ca.prototype,"reportTouchClick",[ia],Object.getOwnPropertyDescriptor(Ca.prototype,"reportTouchClick"),Ca.prototype),m()(Ca.prototype,"reportCancelRewardPlayablePage",[aa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportCancelRewardPlayablePage"),Ca.prototype),m()(Ca.prototype,"reportMMData",[ra],Object.getOwnPropertyDescriptor(Ca.prototype,"reportMMData"),Ca.prototype),m()(Ca.prototype,"reportAbnormalDetect",[oa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAbnormalDetect"),Ca.prototype),m()(Ca.prototype,"reportAdIDKey",[sa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAdIDKey"),Ca.prototype),m()(Ca.prototype,"processStackMsg",[ca],Object.getOwnPropertyDescriptor(Ca.prototype,"processStackMsg"),Ca.prototype),m()(Ca.prototype,"reportAdIDKeyErrorData",[la],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAdIDKeyErrorData"),Ca.prototype),m()(Ca.prototype,"reportAdMonitorData",[ua],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAdMonitorData"),Ca.prototype),m()(Ca.prototype,"reportEndPage",[da],Object.getOwnPropertyDescriptor(Ca.prototype,"reportEndPage"),Ca.prototype),m()(Ca.prototype,"reportAdFeedbackData",[pa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAdFeedbackData"),Ca.prototype),m()(Ca.prototype,"reportBehaviorButton",[fa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportBehaviorButton"),Ca.prototype),m()(Ca.prototype,"reportVideoLoadTime",[ha],Object.getOwnPropertyDescriptor(Ca.prototype,"reportVideoLoadTime"),Ca.prototype),m()(Ca.prototype,"reportRepeatClick",[va],Object.getOwnPropertyDescriptor(Ca.prototype,"reportRepeatClick"),Ca.prototype),m()(Ca.prototype,"reportLandingTime",[ga],Object.getOwnPropertyDescriptor(Ca.prototype,"reportLandingTime"),Ca.prototype),m()(Ca.prototype,"reportVideoLastClick",[ya],Object.getOwnPropertyDescriptor(Ca.prototype,"reportVideoLastClick"),Ca.prototype),m()(Ca.prototype,"reportBannerLastClick",[ma],Object.getOwnPropertyDescriptor(Ca.prototype,"reportBannerLastClick"),Ca.prototype),m()(Ca.prototype,"reportRelationFetchDuration",[_a],Object.getOwnPropertyDescriptor(Ca.prototype,"reportRelationFetchDuration"),Ca.prototype),m()(Ca.prototype,"reportMMClickPos",[wa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportMMClickPos"),Ca.prototype),m()(Ca.prototype,"reportADFunnelModel",[ba],Object.getOwnPropertyDescriptor(Ca.prototype,"reportADFunnelModel"),Ca.prototype),m()(Ca.prototype,"recordAnalyseBranchInfo",[Ia],Object.getOwnPropertyDescriptor(Ca.prototype,"recordAnalyseBranchInfo"),Ca.prototype),m()(Ca.prototype,"resetAnalyseBranchInfo",[Ea],Object.getOwnPropertyDescriptor(Ca.prototype,"resetAnalyseBranchInfo"),Ca.prototype),m()(Ca.prototype,"reportAnalyseInfo",[Ta],Object.getOwnPropertyDescriptor(Ca.prototype,"reportAnalyseInfo"),Ca.prototype),m()(Ca.prototype,"reportRewardGaussVideo",[ka],Object.getOwnPropertyDescriptor(Ca.prototype,"reportRewardGaussVideo"),Ca.prototype),m()(Ca.prototype,"reportPopupClickAction",[Aa],Object.getOwnPropertyDescriptor(Ca.prototype,"reportPopupClickAction"),Ca.prototype),Ca);!function(e){e[e.kUnknown=0]="kUnknown",e[e.kVideo=1]="kVideo",e[e.kArticle=2]="kArticle"}(Sa||(Sa={})),function(e){e[e.EXPOSE=1]="EXPOSE",e[e.CLICK=2]="CLICK"}(xa||(xa={})),function(e){e[e.kDeviceUnknow=0]="kDeviceUnknow",e[e.kDeviceAndroid=1]="kDeviceAndroid",e[e.kDeviceIphone=2]="kDeviceIphone",e[e.kDeviceIpad=3]="kDeviceIpad",e[e.kDeviceTv=4]="kDeviceTv"}(Pa||(Pa={}));var so,co,lo,uo,po,fo,ho,vo,go;n(3592),n(767);!function(e){e[e.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",e[e.AppServiceType_GAME=2]="AppServiceType_GAME"}(so||(so={})),function(e){e[e.AllOS=0]="AllOS",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e[e.Winphone=3]="Winphone",e[e.JAVA=4]="JAVA",e[e.OS_UNKNOWN=5]="OS_UNKNOWN",e[e.SYMBIAN=6]="SYMBIAN",e[e.S40asha=7]="S40asha",e[e.Webwx=8]="Webwx",e[e.Blackberry=9]="Blackberry",e[e.Windows=10]="Windows"}(co||(co={})),function(e){e[e.kUnknownNetwork=0]="kUnknownNetwork",e[e.kWIFI=1]="kWIFI",e[e.k2G=2]="k2G",e[e.k3G=3]="k3G",e[e.k4G=4]="k4G",e[e.k5G=5]="k5G",e[e.kAll=10]="kAll"}(lo||(lo={})),function(e){e[e.kUnknownCarrier=0]="kUnknownCarrier",e[e.kCMCC=1]="kCMCC",e[e.kCUCC=2]="kCUCC",e[e.kCTCC=3]="kCTCC"}(uo||(uo={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CMNET=1]="CMNET",e[e.CMWAP=2]="CMWAP",e[e.THREEGNET=3]="THREEGNET",e[e.THREEGWAP=4]="THREEGWAP",e[e.UNINET=5]="UNINET",e[e.UNIWAP=6]="UNIWAP",e[e.WIFI=7]="WIFI",e[e.CTWAP=8]="CTWAP",e[e.CTNET=9]="CTNET",e[e.THREEGNET_UNINET=10]="THREEGNET_UNINET",e[e.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",e[e.CTNET_CTWAP=12]="CTNET_CTWAP",e[e.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",e[e.WIMAX=14]="WIMAX"}(po||(po={})),function(e){e[e.Default_Source=0]="Default_Source",e[e.MediaPlatform=1]="MediaPlatform",e[e.WeApp=2]="WeApp",e[e.Moments=3]="Moments",e[e.BizTimeLine=4]="BizTimeLine"}(fo||(fo={})),function(e){e[e.JSON=0]="JSON",e[e.XML=1]="XML"}(ho||(ho={})),function(e){e[e.Unknown_sys=-1]="Unknown_sys",e[e.Windows=0]="Windows",e[e.Ios=1]="Ios",e[e.Android=2]="Android"}(vo||(vo={})),function(e){e[e.Unknown_type=0]="Unknown_type",e[e.Wifi=1]="Wifi",e[e.TwoG=2]="TwoG",e[e.TreeG=3]="TreeG",e[e.FourG=4]="FourG",e[e.FiveG=5]="FiveG",e[e.Ethernet=6]="Ethernet"}(go||(go={}));var yo,mo,_o,wo,bo,Io,Eo;n(5185);!function(e){e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS"}(yo||(yo={})),function(e){e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD"}(mo||(mo={})),function(e){e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED"}(_o||(_o={})),function(e){e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",e[e.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",e[e.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",e[e.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE"}(wo||(wo={})),function(e){e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",e[e.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO"}(bo||(bo={})),function(e){e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX"}(Io||(Io={})),function(e){e[e.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",e[e.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",e[e.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",e[e.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",e[e.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",e[e.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",e[e.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",e[e.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",e[e.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",e[e.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",e[e.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",e[e.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",e[e.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT"}(Eo||(Eo={}));var To,ko,Ao,Co=n(1232);!function(e){e[e.PIC_TIME5=555]="PIC_TIME5",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",e[e.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916"}(To||(To={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL"}(ko||(ko={})),function(e){e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY"}(Ao||(Ao={}));var So,xo={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},Po={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},Do=[123,124,126,127,128,129,130,131,132,133,134,135,136,137,138],Ro=[To.CRT_SIZE_WX_APPLICATION,To.CRT_SIZE_WX_APPLICATION_NEW,To.CRT_SIZE_WX_APPLICATION_X,To.CRT_SIZE_WX_APPLICATION_CARD,To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_TABLE_SCREEN_IMAGE,To.CRT_SIZE_REWARD_LANDINGPAGE,To.CRT_SIZE_INSERT_VIDEO,To.CRT_SIZE_MULTI_POS_NEW_PIC,To.CRT_SIZE_MULTI_POS_VEDIO,To.CRT_SIZE_MULTI_POS_GRID,To.CRT_SIZE_CPM_PIC,To.CRT_SIZE_COVER_AD,To.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916];!function(e){e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON=2001]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON=2002]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT=2003]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER=2004]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT=2005]="MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION=2006]="MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION=2007]="MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_FOLLOW=2008]="MMOCAD_CLICKPOS_BIZ_FOLLOW",e[e.MMOCAD_CLICKPOS_BIZ_LIKE=2009]="MMOCAD_CLICKPOS_BIZ_LIKE",e[e.MMOCAD_CLICKPOS_BIZ_COMMENT=2010]="MMOCAD_CLICKPOS_BIZ_COMMENT",e[e.MMOCAD_CLICKPOS_BIZ_HEADIMAGE=2011]="MMOCAD_CLICKPOS_BIZ_HEADIMAGE",e[e.MMOCAD_CLICKPOS_BIZ_NICKNAME=2012]="MMOCAD_CLICKPOS_BIZ_NICKNAME",e[e.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD=2013]="MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD"}(So||(So={}));var Oo,No,Mo,Lo,Wo,Fo,Bo,jo,Uo,Go,Vo,Zo,Ho,Yo,zo,qo,Ko,Xo,Jo,$o,Qo,es;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.VIDEO=1]="VIDEO",e[e.LIVE=2]="LIVE"}(Oo||(Oo={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ROOM=1]="ROOM",e[e.RESERVATION=2]="RESERVATION"}(No||(No={})),function(e){e[e.NONE=1]="NONE",e[e.ON_AIR=2]="ON_AIR",e[e.ENDED=3]="ENDED",e[e.IN_PREPARE=4]="IN_PREPARE"}(Mo||(Mo={})),function(e){e[e.NONE=0]="NONE",e[e.NICKNAME=1]="NICKNAME",e[e.LINK=2]="LINK",e[e.RESOURCE=3]="RESOURCE",e[e.ACTIONBUTTON=4]="ACTIONBUTTON",e[e.CANVASBUTTON=5]="CANVASBUTTON",e[e.TAGBUTTON=6]="TAGBUTTON"}(Lo||(Lo={}));var ts=1,ns=new Set,is=(Wo=F(),Fo=F(),Bo=F(),jo=F(),Uo=F(),Go=F(),Vo=F(),Zo=F(),Ho=F(),Yo=F(),zo=F(),qo=F(),Ko=F(),Xo=F(),Jo=F(),$o=F(),Qo=F(),es=function(){function e(t){h()(this,e),this.adProxy=t,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=ts,ts+=1,ns.add(this.adUnitId)}return g()(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"adUnitId",get:function(){return this.adProxy.getAdUnitId()}},{key:"slotData",get:function(){return this.adProxy.getSlotData()}},{key:"pluginAppid",get:function(){return this.adProxy.getPluginAppid()}},{key:"data",get:function(){return this.adProxy.data}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"reportAdMonitorData",get:function(){return this.adProxy.reportAdMonitorData}},{key:"reset",value:function(){this.lastVideoReportTime=0}},{key:"getLastClickTime",value:function(){return this.lastClickTime}},{key:"getLastAdReqTs",value:function(){return this.lastAdReqTs}},{key:"setLastExposureTime",value:function(e){this.lastExposureTime=e}},{key:"setLastClickTime",value:function(e){this.lastClickTime=e}},{key:"setLastAdReqTs",value:function(e){this.lastAdReqTs=e}},{key:"reportFollow",value:function(e){var t=this,n=e.result,i=5;return this.adProxy.isRewardedVideoAd()?i=6:[To.CRT_SIZE_TABLE_SCREEN_IMAGE,To.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(i=8),(0,A.Lo)({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[n],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:i}}).catch((function(e){throw t.reportAdMonitorData(Co.IN.FOLLOW_REPORT_ERROR,e),e}))}},{key:"getExtraExpOrClkData",value:function(e){var t,n=this,i=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?i=e.multiList.map((function(e,t){return{idx:t,waid:n.datas[e].waid||""}})):this.data.waid&&(i=[{idx:0,waid:this.data.waid}]);var a=u()(u()({},(0,Y.v3)()),{},{weapp_enter_scene:(null===E.Z||void 0===E.Z||null===(t=E.Z.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(i)}),r=u()({},a),o=u()({},a);if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var s,c={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(s=e.multiList)||void 0===s||s.forEach((function(e){var t=n.datas[e];t.extBackComm&&c.viewid.push(t.extBackComm.viewid),c.s_pt.push(t.pt),c.s_aid.push(t.aid),c.s_trace_id.push(t.traceid)})),r.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:c.viewid}),s_trace_id:JSON.stringify(c.s_trace_id),s_aid:JSON.stringify(c.s_aid),s_pt:JSON.stringify(c.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var l,d=this.adProxy.adDataIndex;o.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(l=this.data.extBackComm)||void 0===l?void 0:l.viewid,box_index:d}}if("customAd"===this.adType){var p,f=null===(p=this.data.extBackComm)||void 0===p?void 0:p.sub_templ_id;f&&(r.sub_templ_id=f,o.sub_templ_id=f)}if("incentive-video"===this.adType&&this.data.isPlayable&&(r.is_playable=1,o.is_playable=1),["interstitialAd","incentive-video","customAd"].includes(this.adType)&&e.videoData){var h=e.videoData,v=h.currentTime,g=h.duration;(v||g)&&(o.video_play_time=v,o.video_duration=g)}if("grid"===this.adType)if("exposure"===e.reportType){var y,m={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(y=this.datas)||void 0===y||y.forEach((function(e){e.extBackComm&&m.viewid.push(e.extBackComm.viewid),m.s_pt.push(e.pt),m.s_aid.push(e.aid),m.s_trace_id.push(e.traceid)})),r.box_ad_exposure={report_mode:1,box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:JSON.stringify({viewid:m.viewid}),s_trace_id:JSON.stringify(m.s_trace_id),s_aid:JSON.stringify(m.s_aid),s_pt:JSON.stringify(m.s_pt)}}else if("click"===e.reportType){var _,w=e.clickAdIndex||0;o.box_ad_click={box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:null===(_=this.data.extBackComm)||void 0===_?void 0:_.viewid,box_index:w}}return{extExposureComm:r,extClickComm:o}}},{key:"reportExpOrClk",value:function(e){var t=this,n=3;if("exposure"===e.reportType?(n={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var i=this.adProxy.adDataIndex;e.multiList.forEach((function(e){t.adProxy.setCurrentData(e),(0,ue.IN)("adDataReport",{adInfo:t.adProxy.getTransmissionChainData({logtype:n})})})),this.adProxy.setCurrentData(i)}else(0,ue.IN)("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:n})});var a=this.getExtraExpOrClkData(e),r=a.extExposureComm,o=a.extClickComm,s=this.getExpOrClkCommonArgs(e),c="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(o)}:{exposure_type:L.qi[e.exposureType],ext_exposure_comm:JSON.stringify(r)};return(0,A.Lo)({apiName:"advert_report",reqData:u()(u()(u()({},s),c),{},{report_type:L.yd[e.reportType],weapp_extra_data:JSON.stringify(s.weapp_extra_data),ad_group_id:s.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:s.weapp_gh_id})})}},{key:"getExpOrClkCommonArgs",value:function(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:L.DX[this.adType],pos_type:L.UJ[this.adType],sdk_version:Y.S3.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:Y.S3.startTime.valueOf(),wegame_enter_ts:Y.S0.enterForegroundTime.valueOf(),wegame_user_duration:Y.S0.gameDuration+(Date.now()-Y.S0.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:u()(u()({},this.getWeappExtraData()),e.weappExtraData||{})}}},{key:"reportClick",value:function(e){var t=this;return this.lastClickTime=+new Date,this.reportExpOrClk(u()({reportType:"click"},e)).catch((function(e){throw t.reportAdMonitorData(Co.IN.CLICK_REPORT_ERROR,e),e}))}},{key:"reportExposure",value:function(e){var t=this;return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk(u()({reportType:"exposure"},e)).catch((function(e){throw t.reportAdMonitorData(Co.IN.EXPOSURE_REPORT_ERROR,e),e}))}},{key:"reportFlooringPage",value:function(e,t){var n={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:Y.S3.gameAppId,orig_weapp_id:this.pluginAppid?Y.S3.gameAppId:""},i=null==t?void 0:t.map((function(e){return u()(u()({},n),e)})),a={};return 1===e?a.rewared_video_ending_page_a=i:2===e&&(a.rewared_video_ending_page_b=i),(0,A.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(a)}})}},{key:"reportAntifraud",value:function(e){var t=u()(u()({},e),{},{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:Y.S3.gameAppId,orig_weapp_id:this.pluginAppid?Y.S3.gameAppId:"",network_type:Y.S3.adNetworkType,wechat_version:Y.S3.wechatVersion,platform:Y.S3.platform,system_version:Y.S3.systemVersion,device_orientation:Y.S3.deviceOrientation,wxapp_lib_version:Y.S3.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:Y.S3.brand||"",machine_type:Y.S3.model||"",clientimptime:this.lastAdReqTs}),n={};return n.antifraud_table_screen_report=[t],(0,A.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(n)}})}},{key:"reportVideo",value:function(e){var t=e.playType,n=e.conditionType,i=e.muted,a=e.playDuration,r=e.videoDuration,o=e.rewardedTime,s=e.isRewarded,c=(0,A.Lo)({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,trace_id:this.data.traceid,viewid:this.data.wx_game_video.short_video.viewid,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[t],play_duration:a-this.lastVideoReportTime,video_duration:r,auto_play:!0,muted:i,rewarded_time:o&&Math.min(o,r),is_rewarded:s},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[n]}});return this.lastVideoReportTime=a,c}},{key:"getWxaReportDetail",value:function(e){var t=e.top,n=void 0===t?0:t,i=e.left,a=void 0===i?0:i;return{page_x:a||0,page_y:n||0,screen_x:a||0,screen_y:n||0,ad_number:ts-1,ad_unit_number:ns.size,ad_index:this.index,page_enter_time:Y.S0.enterForegroundTime.valueOf(),phone_screen_width:Y.S3.screenWidth,phone_screen_height:Y.S3.screenHeight}}},{key:"getWeappExtraData",value:function(){var e,t;return{weixin_version:Y.S3.wechatVersion,os_version:Y.S3.systemVersion,machine_brand:Y.S3.brand||"",machine_type:Y.S3.model,network_type:Y.S3.adNetworkType,start_ts:Y.S3.startTime.valueOf(),enter_ts:Y.S0.enterForegroundTime.valueOf(),user_duration:Y.S0.gameDuration+(Date.now()-Y.S0.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=E.Z.host)||void 0===e?void 0:e.env,app_appid:null===(t=E.Z.host)||void 0===t?void 0:t.appId}}},{key:"composeExposureCommonInfo",value:function(e){var t,n=e.top,i=void 0===n?0:n,a=e.left,r=void 0===a?0:a,o=e.width,s=void 0===o?0:o,c=e.height,l=void 0===c?0:c,d=e.adType,p=void 0===d?"incentive-video":d;try{t=this.data.weapp_info.original_id}catch(e){}var f=u()({},(0,Y.v3)()),h=this.getWeappExtraData(),v=this.getWxaReportDetail({top:i,left:r}),g={report_type:0,pos_id:L.DX[this.adType],sdk_version:Y.S3.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:t,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:s,ad_h:l,from_game:1,from_h5:0,wegame_start_ts:Y.S3.startTime.valueOf(),wegame_enter_ts:Y.S0.enterForegroundTime.valueOf(),wegame_user_duration:Y.S0.gameDuration+(Date.now()-Y.S0.enterForegroundTime.getTime()),pos_type:L.UJ[p],wxa_report_detail:v,weapp_extra_data:JSON.stringify(h),ext_exposure_comm:JSON.stringify(f)};return JSON.stringify(g)}},{key:"reportInstallFollow",value:function(e){var t=this.data.condition;t&&1===t.widget_gray_report_install_follow&&(0,A.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}},{key:"reportAnalyseDebugInfo",value:function(e){var t=this,n=L.wE[this.adType];return n||this.reportAdMonitorData(Co.IN.ANALYSE_DEBUG_REPORT_ERROR,new Error("invalid reportType ".concat(this.adType))),(0,A.Lo)({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:n}]}}).catch((function(e){t.reportAdMonitorData(Co.IN.ANALYSE_DEBUG_REPORT_ERROR,e)}))}},{key:"reportIPV4",value:function(){var e=this;setTimeout((function(){try{var t,n=e.datas&&e.datas.length>0?e.datas[0]:e.data;null!=n&&null!==(t=n.extBackComm)&&void 0!==t&&t.ip_ping_url&&Qe({url:(0,T.Uj)(n.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}}]),e}(),m()(es.prototype,"getLastClickTime",[Wo],Object.getOwnPropertyDescriptor(es.prototype,"getLastClickTime"),es.prototype),m()(es.prototype,"getLastAdReqTs",[Fo],Object.getOwnPropertyDescriptor(es.prototype,"getLastAdReqTs"),es.prototype),m()(es.prototype,"setLastExposureTime",[Bo],Object.getOwnPropertyDescriptor(es.prototype,"setLastExposureTime"),es.prototype),m()(es.prototype,"setLastClickTime",[jo],Object.getOwnPropertyDescriptor(es.prototype,"setLastClickTime"),es.prototype),m()(es.prototype,"setLastAdReqTs",[Uo],Object.getOwnPropertyDescriptor(es.prototype,"setLastAdReqTs"),es.prototype),m()(es.prototype,"reportFollow",[Go],Object.getOwnPropertyDescriptor(es.prototype,"reportFollow"),es.prototype),m()(es.prototype,"getExpOrClkCommonArgs",[Vo],Object.getOwnPropertyDescriptor(es.prototype,"getExpOrClkCommonArgs"),es.prototype),m()(es.prototype,"reportClick",[Zo],Object.getOwnPropertyDescriptor(es.prototype,"reportClick"),es.prototype),m()(es.prototype,"reportExposure",[Ho],Object.getOwnPropertyDescriptor(es.prototype,"reportExposure"),es.prototype),m()(es.prototype,"reportFlooringPage",[Yo],Object.getOwnPropertyDescriptor(es.prototype,"reportFlooringPage"),es.prototype),m()(es.prototype,"reportAntifraud",[zo],Object.getOwnPropertyDescriptor(es.prototype,"reportAntifraud"),es.prototype),m()(es.prototype,"reportVideo",[qo],Object.getOwnPropertyDescriptor(es.prototype,"reportVideo"),es.prototype),m()(es.prototype,"getWxaReportDetail",[Ko],Object.getOwnPropertyDescriptor(es.prototype,"getWxaReportDetail"),es.prototype),m()(es.prototype,"composeExposureCommonInfo",[Xo],Object.getOwnPropertyDescriptor(es.prototype,"composeExposureCommonInfo"),es.prototype),m()(es.prototype,"reportInstallFollow",[Jo],Object.getOwnPropertyDescriptor(es.prototype,"reportInstallFollow"),es.prototype),m()(es.prototype,"reportAnalyseDebugInfo",[$o],Object.getOwnPropertyDescriptor(es.prototype,"reportAnalyseDebugInfo"),es.prototype),m()(es.prototype,"reportIPV4",[Qo],Object.getOwnPropertyDescriptor(es.prototype,"reportIPV4"),es.prototype),es);function as(e){return{appId:e.weapp_info&&e.weapp_info.appid,appType:46==e.product_type?1004:1e3,path:e.url,openRate:e.extBackComm&&e.extBackComm.pctr||0}}n(2158),n(6010);var rs,os,ss,cs,ls,us,ds,ps,fs,hs,vs,gs,ys,ms=(rs=F(),os=F(),ss=F(),cs=F(),ls=F(),us=F(),ds=F(),ps=F(),fs=F(),hs=F(),vs=F(),gs=F(),ys=function(){function e(t){h()(this,e),this.adProxy=t,this.isAppInstalled=!1}var t,n,i,a;return g()(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"data",get:function(){return this.adProxy.data}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"reportAdMonitorData",get:function(){return this.adProxy.reportAdMonitorData}},{key:"isValidCondition",get:function(){return this.adProxy.isValidCondition}},{key:"getFullRl",value:function(){var e=this.data.rl;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+="?viewid=".concat(this.data.extBackComm.viewid):e+="&viewid=".concat(this.data.extBackComm.viewid))}catch(e){}return e}},{key:"getFollowPageUrl",value:function(e,t){var n={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:Y.S3.isWaGame?147:140};return(0,G.a3)(t,n)}},{key:"isPrefetch",value:function(e){var t,n,i,a,r,o,s,c,l={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(n=t[0])||void 0===n||null===(i=n.wxgame_video_card)||void 0===i||null===(a=i.flooring_page)||void 0===a?void 0:a.page_url}[e],u={url:this.data.dest_type===wo.DEST_TYPE_OUTER,jump_url:(null===(r=this.data.button_action)||void 0===r?void 0:r.jump_type)===wo.DEST_TYPE_OUTER,playable_url:!0}[e];return l&&u&&Boolean(null===(o=this.data)||void 0===o||null===(s=o.extBackComm)||void 0===s||null===(c=s.material_handler_info)||void 0===c?void 0:c.h5_preload_info[e])}},{key:"getTransmissionChainData",value:function(e){var t=e.logtype,n=void 0===t?3:t,i={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:n};return Object.keys(i).map((function(e){return"".concat(e,"=").concat(i[e])})).join("&")}},{key:"setAppInstallState",value:function(e){this.isAppInstalled=e}},{key:"land",value:(a=c()(w().mark((function e(){var t,n,i,a,r,o,s,c,l,u,d,p,f,h,v,g,y,m,_,b,I,E=this,T=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.length>0&&void 0!==T[0]?T[0]:{},n=t.isButton,i=void 0!==n&&n,a=this.data,r=a.dest_type,o=a.product_type,s=a.url,c={isButton:i},!i){e.next=45;break}if(this.isPrefetch("jump_url")&&this.adProxy.reportAdMonitorData(Co.IN.H5_PRELOAD_BUTTON_CLICKED),l=this.data.button_action,u=l.jump_type,d=l.jump_url,o!==ko.IOS){e.next=8;break}return e.abrupt("return",this.openAppStore());case 8:if(o!==ko.WE_CHAT){e.next=42;break}if(p=this.data.biz_info,f=p.user_name,!p.is_subscribed){e.next=14;break}if(10!==u){e.next=13;break}return e.abrupt("return",this.landPage(u,s,c));case 13:return e.abrupt("return",(0,A.Yo)({url:this.getFollowPageUrl(this.data,d),adInfo:this.getTransmissionChainData({logtype:3})}));case 14:return e.prev=14,e.next=17,this.adProxy.addContact({username:f,isWaGame:Y.S3.isWaGame});case 17:h=e.sent,v=this.data,g=v.ext_info,y=v.uxinfo;try{m=JSON.parse(g)}catch(e){}if(!(/ok|added/.test(h.errMsg)&&m&&m.guide_group_id&&y)){e.next=31;break}return e.prev=22,e.next=25,(0,C.LQ)({guide_group_id:m.guide_group_id,uxinfo:y});case 25:this.adProxy.reportAdIDKey({key:Co.IN.BIND_GUIDE_SUCCESS}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(22),this.reportAdMonitorData(Co.IN.BIND_GUIDE_ERROR,e.t0);case 31:return e.abrupt("return",h);case 34:if(e.prev=34,e.t1=e.catch(14),!/cancel/.test(e.t1.errMsg)){e.next=38;break}return e.abrupt("return",e.t1);case 38:throw this.reportAdMonitorData(Co.IN.ADD_CONTACT_ERROR,e.t1),e.t1;case 40:e.next=43;break;case 42:return e.abrupt("return",this.landPage(u,d,c));case 43:e.next=55;break;case 45:if(this.isPrefetch("url")&&this.adProxy.reportAdMonitorData(Co.IN.H5_PRELOAD_CARD_CLICKED),!([12,19].indexOf(o)>-1)){e.next=54;break}if(_=this.data.app_info.url_scheme,Y.S3.isIOS&&(b=JSON.stringify({aid:this.data.aid,ad_uid:null===(I=this.data.extBackComm)||void 0===I?void 0:I.uid,scene_id:4001})),!(_&&_.trim().length>0)){e.next=53;break}if(!Y.S3.isAndroid||this.isAppInstalled){e.next=52;break}return e.abrupt("return",this.landPage(r,s,c));case 52:return e.abrupt("return",this.adProxy.launchApplication({schemeUrl:_,isIosDirect:Y.S3.isIOS,appInfo:this.data.app_info,extraData:b}).catch((function(){return E.landPage(r,s,c)})));case 53:case 54:return e.abrupt("return",this.landPage(r,s,c));case 55:case"end":return e.stop()}}),e,this,[[14,34],[22,28]])}))),function(){return a.apply(this,arguments)})},{key:"landPage",value:function(e,t,n){var i=this;if(e===wo.DEST_TYPE_APPDETAIL&&Y.S3.isIOS){var a,r=this.data.app_info.appinfo_url,o=JSON.stringify({aid:this.data.aid,ad_uid:null===(a=this.data.extBackComm)||void 0===a?void 0:a.uid,scene_id:4001});return this.adProxy.launchApplication({schemeUrl:r,extraData:o}).catch((function(){return(0,A.Yo)({url:r,adInfo:i.getTransmissionChainData({logtype:3})}).catch((function(e){throw i.reportAdMonitorData(Co.IN.OPEN_URL_ERROR,e),e}))}))}if(e===wo.DEST_TYPE_BIZ)return(0,A.Yo)({url:this.getFollowPageUrl(this.data,t),adInfo:this.getTransmissionChainData({logtype:3})}).catch((function(e){throw i.reportAdMonitorData(Co.IN.OPEN_URL_ERROR,e),e}));if(e===wo.DEST_TYPE_WECHAT_APPLET){var s=this.data,c=s.weapp_info.appid,l=s.traceid,u=s.aid,d=s.uxinfo;return(0,A.Be)({appId:c,path:t,traceid:l,aid:u,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:d}).catch((function(e){throw i.reportAdMonitorData(Co.IN.OPEN_WXAPP_ERROR,e),e}))}if(e===wo.DEST_TYPE_CANVAS){var p=this.data,f=p.canvas_info,h=p.pos_type;return(0,A._t)({canvasInfo:f,posType:h}).catch((function(e){throw i.reportAdMonitorData(Co.IN.OPEN_CANVAS_ERROR,e),e}))}if(10===e){var v=this.data.biz_info.user_name;return this.adProxy.openProfile({username:v}).catch((function(e){throw e}))}return e===wo.DEST_TYPE_CHANNELS?this.jumpChannels("activity",n):e===wo.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live",n):e===wo.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile",n):(0,A.Yo)({url:t,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((function(e){throw i.reportAdMonitorData(Co.IN.OPEN_URL_ERROR,e),e}))}},{key:"getChannelsExtraInfo",value:function(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}},{key:"jumpChannels",value:(i=c()(w().mark((function e(t,n){var i,a,r,o,s,c,l,d,p,f,h;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.isButton,r=null===(i=this.data)||void 0===i?void 0:i.extBackComm.channels_info,o=this.data,s=o.crt_size,c=o.apurl,l=o.rl,d={feedId:r.id,nonceId:r.nonce_id,finderUserName:r.username,reportExtraInfo:this.getChannelsExtraInfo(a?Lo.ACTIONBUTTON:Lo.RESOURCE)},p={activity:Co.IN.OPEN_CHANNELS_ACTIVITY_SUCCESS,live:Co.IN.OPEN_CHANNELS_LIVE_SUCCESS,userProfile:Co.IN.OPEN_CHANNELS_USER_PROFILE_SUCCESS}[t],f={activity:Co.IN.OPEN_CHANNELS_ACTIVITY_FAILED,live:Co.IN.OPEN_CHANNELS_LIVE_FAILED,userProfile:Co.IN.OPEN_CHANNELS_USER_PROFILE_FAILED}[t],!r){e.next=39;break}if("activity"!==t||s!==To.CRT_SIZE_REWARD_LANDINGPAGE){e.next=19;break}return e.prev=8,e.next=11,this.adProxy.openChannelsRewardedVideoAd(u()(u()({},d),{},{expReportLink:c,clkReportLink:l,reportInfo:this.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:Y.S3.screenWidth,height:Y.S3.screenHeight}),clickPosMap:{follow:So.MMOCAD_CLICKPOS_BIZ_FOLLOW,like:So.MMOCAD_CLICKPOS_BIZ_LIKE,comment:So.MMOCAD_CLICKPOS_BIZ_COMMENT,headimage:So.MMOCAD_CLICKPOS_BIZ_HEADIMAGE,nickname:So.MMOCAD_CLICKPOS_BIZ_NICKNAME,forward:So.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD},feedbackUrl:this.getFeedbackUrl(Y.S3.isWaGame?1003:1005)}));case 11:return h=e.sent,this.reportAdMonitorData(p),e.abrupt("return",h);case 16:e.prev=16,e.t0=e.catch(8),this.reportAdMonitorData(f,e.t0);case 19:e.prev=19,e.t1=t,e.next="activity"===e.t1?23:"live"===e.t1?26:"userProfile"===e.t1?29:32;break;case 23:return e.next=25,this.adProxy.openChannelsRewardedVideoAd(u()(u()({},d),{},{adJSAPIType:1}));case 25:return e.abrupt("break",32);case 26:return e.next=28,this.adProxy.openChannelsLive(d);case 28:return e.abrupt("break",32);case 29:return e.next=31,this.adProxy.openChannelsUserProfile(d);case 31:return e.abrupt("break",32);case 32:return this.reportAdMonitorData(p),e.abrupt("return");case 36:e.prev=36,e.t2=e.catch(19),this.reportAdMonitorData(f,e.t2);case 39:return this.reportAdMonitorData(f,new Error("channelsInfo is empty")),e.abrupt("return");case 41:case"end":return e.stop()}}),e,this,[[8,16],[19,36]])}))),function(e,t){return i.apply(this,arguments)})},{key:"openAppStore",value:function(){var e,t=this,n=this.data.app_info,i=n.appinfo_url,a=n.url_scheme,r=JSON.stringify({aid:this.data.aid,ad_uid:null===(e=this.data.extBackComm)||void 0===e?void 0:e.uid,scene_id:4001});return a&&a.trim().length>0?this.adProxy.launchApplication({schemeUrl:a,isIosDirect:!0,appInfo:this.data.app_info,extraData:r}).catch((function(){return t.adProxy.launchApplication({schemeUrl:i,extraData:r}).catch((function(){return(0,A.Yo)({url:i,adInfo:t.getTransmissionChainData({logtype:3})}).catch((function(e){throw t.reportAdMonitorData(Co.IN.OPEN_URL_ERROR,e),e}))}))})):this.adProxy.launchApplication({schemeUrl:i,extraData:r}).catch((function(){return(0,A.Yo)({url:i,adInfo:t.getTransmissionChainData({logtype:3})}).catch((function(e){throw t.reportAdMonitorData(Co.IN.OPEN_URL_ERROR,e),e}))}))}},{key:"preloadLanding",value:function(){var e=this;try{if(6===this.data.dest_type){var t=[],n=[];if("grid"===this.adType?this.datas.forEach((function(e){var i;null!==(i=e.weapp_info)&&void 0!==i&&i.appid&&(t.push(e.weapp_info.appid),n.push(as(e)))})):(t=[this.data.weapp_info.appid],n.push(as(this.data))),(0,ue.IN)("batchGetContact",{appIds:t}),Y.S3.isAndroid)this.isValidCondition("widget_gray_batchload_app")&&(0,ue.IN)("batchPreloadMiniProgram",{openParams:{visitScene:Y.S0.currentScene,businessScene:1,innerScene:1095},preloadList:n,success:function(t){e.reportAdMonitorData(Co.IN.BATCHLOAD_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Co.IN.BATCHLOAD_ERROR,t)}});else if(Y.S3.isIOS){var i="app";this.data.product_type===ko.MINI_GAME&&(i="game"),this.isValidCondition("widget_gray_preload_env")&&(Y.S3.isAndroid||"app"===i)&&(0,ue.IN)("preloadMiniProgramEnv",{type:i,success:function(t){e.reportAdMonitorData(Co.IN.PRELOAD_MINIENV_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Co.IN.PRELOAD_MINIENV_ERROR,t)}}),this.isValidCondition("widget_gray_predownload_app")&&(0,ue.IN)("predownloadMiniProgramPackage",{username:"".concat(this.data.weapp_info.original_id,"@app"),path:this.data.url,scene:1,success:function(t){e.reportAdMonitorData(Co.IN.PREDOWNLOAD_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Co.IN.PREDOWNLOAD_ERROR,t)}})}}}catch(e){}}},{key:"checkFollow",value:(n=c()(w().mark((function e(t){var n,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.Lo)({apiName:"webapi_checkcontact",reqData:{biz_uin:t}});case 2:return n=e.sent,i=n.rawData,e.abrupt("return",1===JSON.parse(i).is_subscribed);case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getFeedbackUrl",value:function(e){var t=this.data.material_id_list||[],n=encodeURIComponent("[".concat(t.toString(),"]"))||"",i=(0,G.a3)("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:n||"",machine_type:Y.S3.model,publisher_appid:Y.S3.gameAppId});if("grid"===this.adType){var a=[],r=[],o=[];this.datas.forEach((function(e){a.push(e.traceid),r.push(e.material_id_list||[]),o.push(e.aid)}));var s={traceid:JSON.stringify(a),source:e,aid:JSON.stringify(o),material_id:JSON.stringify(r),machine_type:Y.S3.model,publisher_appid:Y.S3.gameAppId};i=(0,G.a3)("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html?ismulity=1#wechat_redirect",s)}return i}},{key:"openFeedbackUrl",value:function(e){var t=this.getFeedbackUrl(e);return(0,A.Yo)({url:t})}},{key:"checkPreloadH5Page",value:(t=c()(w().mark((function e(){var t,n,i,a,r,o,s,c,l,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new Set,s=this.data.url,c=null===(t=this.data.button_action)||void 0===t?void 0:t.jump_url,l=null===(n=this.data.crtInfo)||void 0===n||null===(i=n[0])||void 0===i||null===(a=i.wxgame_video_card)||void 0===a||null===(r=a.flooring_page)||void 0===r?void 0:r.page_url,this.isPrefetch("url")&&("1"!==(0,G.Wz)(s).prefetch&&(s=(0,G.a3)(s,{prefetch:1}),this.data.url=s),o.add(s)),this.isPrefetch("jump_url")&&("1"!==(0,G.Wz)(c).prefetch&&(c=(0,G.a3)(c,{prefetch:1}),this.data.button_action.jump_url=c),o.add(c)),this.isPrefetch("playable_url")&&("1"!==(0,G.Wz)(l).prefetch&&(l=(0,G.a3)(l,{prefetch:1}),this.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=l),o.add(l)),!(u=pe()(o).map((function(e){return{url:e,bizScene:20002}}))).length){e.next=18;break}return e.prev=9,e.next=12,this.adProxy.preloadH5Page({urlList:u});case 12:this.reportAdMonitorData(Co.IN.H5_PRELOAD_SUCCESS),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),this.reportAdMonitorData(Co.IN.H5_PRELOAD_FAILED,e.t0);case 18:case"end":return e.stop()}}),e,this,[[9,15]])}))),function(){return t.apply(this,arguments)})}]),e}(),m()(ys.prototype,"isPrefetch",[rs],Object.getOwnPropertyDescriptor(ys.prototype,"isPrefetch"),ys.prototype),m()(ys.prototype,"getTransmissionChainData",[os],Object.getOwnPropertyDescriptor(ys.prototype,"getTransmissionChainData"),ys.prototype),m()(ys.prototype,"setAppInstallState",[ss],Object.getOwnPropertyDescriptor(ys.prototype,"setAppInstallState"),ys.prototype),m()(ys.prototype,"land",[cs],Object.getOwnPropertyDescriptor(ys.prototype,"land"),ys.prototype),m()(ys.prototype,"landPage",[ls],Object.getOwnPropertyDescriptor(ys.prototype,"landPage"),ys.prototype),m()(ys.prototype,"getChannelsExtraInfo",[us],Object.getOwnPropertyDescriptor(ys.prototype,"getChannelsExtraInfo"),ys.prototype),m()(ys.prototype,"openAppStore",[ds],Object.getOwnPropertyDescriptor(ys.prototype,"openAppStore"),ys.prototype),m()(ys.prototype,"preloadLanding",[ps],Object.getOwnPropertyDescriptor(ys.prototype,"preloadLanding"),ys.prototype),m()(ys.prototype,"checkFollow",[fs],Object.getOwnPropertyDescriptor(ys.prototype,"checkFollow"),ys.prototype),m()(ys.prototype,"getFeedbackUrl",[hs],Object.getOwnPropertyDescriptor(ys.prototype,"getFeedbackUrl"),ys.prototype),m()(ys.prototype,"openFeedbackUrl",[vs],Object.getOwnPropertyDescriptor(ys.prototype,"openFeedbackUrl"),ys.prototype),m()(ys.prototype,"checkPreloadH5Page",[gs],Object.getOwnPropertyDescriptor(ys.prototype,"checkPreloadH5Page"),ys.prototype),ys);const _s=BabelRuntimeHelpers.initializerDefineProperty;var ws=n.n(_s);BabelRuntimeHelpers.initializerWarningHelper;var bs,Is,Es,Ts,ks,As,Cs,Ss,xs,Ps,Ds,Rs,Os,Ns,Ms,Ls,Ws,Fs,Bs,js,Us,Gs,Vs,Zs,Hs,Ys,zs,qs,Ks,Xs,Js,$s,Qs,ec,tc,nc,ic,ac,rc,oc,sc,cc,lc,uc,dc,pc,fc,hc,vc,gc,yc,mc=n(1126),_c=(0,n(2984).Z)("getChannelsLiveInfo","webapi_getfinderviewlastlive",{},{},(function(e){return{export_id:e.feedId,finder_username:e.finderUserName}}),(function(e){e.live_info&&e.live_info.length&&(e.feedId=e.live_info[0].export_id,e.nonceId=e.live_info[0].nonce_id,e.description=e.live_info[0].description,e.status=e.live_info[0].status,e.headUrl=e.live_info[0].head_url,e.nickname=e.live_info[0].nickname),delete e.live_info,delete e.rawData}));n(5645);var wc,bc,Ic,Ec,Tc,kc,Ac,Cc,Sc,xc,Pc,Dc,Rc,Oc,Nc,Mc,Lc,Wc=__safeway__.apiSign.makeApiSign,Fc=function(e){return function(t){return new Promise((function(n,i){e(Object.assign({},t,{success:n,fail:i}))}))}},Bc=function(e,t,n){var i;e.errMsg=e.errMsg||"".concat(t,":ok");var a,r=0===e.errMsg.indexOf("".concat(t,":ok")),o=0===e.errMsg.indexOf("".concat(t,":fail"));if(r)null==n||null===(a=n.success)||void 0===a||a.call(n,e);else if(o){var s;null==n||null===(s=n.fail)||void 0===s||s.call(n,e)}null==n||null===(i=n.complete)||void 0===i||i.call(n,e)},jc=function(e){var t=e.username,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("profile",{username:t,scene:75,success:n,fail:i,complete:a})},Uc=function(e){var t=e.username,n=e.isWaGame,i=e.success,a=e.fail,r=e.complete;(0,ue.IN)("private_addContact",{username:t,scene:n?146:139,webtype:1,success:i,fail:a,complete:r})},Gc=function(e){var t=e.schemeUrl,n=e.isIosDirect,i=e.appInfo,a=e.extraData,r=e.success,o=e.fail,s=e.complete,c={};n&&(c.appId=i.app_id,c.installSchemeUrl=i.appinfo_url,c.installAction=0),a&&(c.extraData=a),(0,ue.IN)("launchApplication",Object.assign(c,{schemeUrl:t,operateDirectly:1,success:r,fail:o,complete:s}))},Vc=function(e){var t=e.appUrl,n=e.success,i=e.fail,a=e.complete,r=Wc("downloadAppInternal",{appUrl:t,operateDirectly:1,success:n,fail:i,complete:a});(0,ue.IN)("downloadAppInternal",r)},Zc=function(e){var t=e.packageName,n=e.success,i=e.fail,a=e.complete,r=Wc("getInstallState",{packageName:t,permissionBytes:[1,1,1],success:n,fail:i,complete:a});(0,ue.IN)("getInstallState",r)},Hc=function(e){var t=e.downloadId,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("queryDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:i,complete:a})},Yc=function(e){var t=e.downloadId,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("pauseDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:i,complete:a})},zc=function(e){var t=e.downloadId,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("resumeDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:i,complete:a})},qc=function(e){var t=e.downloadId,n=e.success,i=e.fail,a=e.complete,r=Wc("installDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:i,complete:a});(0,ue.IN)("installDownloadTask",r)},Kc=function(e){var t=e.isHide,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("setNavigationBarRightButton",{hide:t,success:n,fail:i,complete:a})},Xc=function(e){var t=e.isHide,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("private_setNavigationBarRightButton",{hide:t,success:n,fail:i,complete:a})},Jc=function(e){var t=e.resources,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("loadVideoResource",{resources:t,success:n,fail:i,complete:a})},$c=function(e){var t=e.orientation,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("private_setPageOrientation",{orientation:t,success:n,fail:i,complete:a})},Qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete;(0,ue.IN)("hideVirtualBottomNavigationBar",{success:t,fail:n,complete:i})},el=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete;(0,ue.IN)("showVirtualBottomNavigationBar",{success:t,fail:n,complete:i})},tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete;(0,ue.IN)("showStatusBar",{success:t,fail:n,complete:i})},nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,i=e.complete;(0,ue.IN)("hideStatusBar",{success:t,fail:n,complete:i})},il=function(e){var t=e.success,n=e.fail,i=e.complete,a=e.feedId,r=e.nonceId,o=e.finderUserName,s=e.reportExtraInfo;(0,mc.d)("openChannelsActivity",{feedId:a,nonceId:r,finderUserName:o,reportExtraInfo:s,permissionBytes:[1,1,1]},(function(e){Bc(e,"openChannelsActivity",{success:t,fail:n,complete:i})}))},al=function(e){var t=e.success,n=e.fail,i=e.complete,a=e.feedId,r=e.nonceId,o=e.finderUserName,s=e.reportExtraInfo;(0,mc.d)("openChannelsLive",{feedId:a,nonceId:r,finderUserName:o,reportExtraInfo:s,permissionBytes:[1,1,1]},(function(e){Bc(e,"openChannelsLive",{success:t,fail:n,complete:i})}))},rl=function(e){var t=e.success,n=e.fail,i=e.complete,a=e.finderUserName,r=e.reportExtraInfo;(0,mc.d)("openChannelsUserProfile",{finderUserName:a,reportExtraInfo:r,permissionBytes:[1,1,1]},(function(e){Bc(e,"openChannelsUserProfile",{success:t,fail:n,complete:i})}))},ol=function(e){var t=e.success,n=e.fail,i=e.complete,a=e.feedId,r=e.nonceId,o=e.finderUserName,s=e.reportExtraInfo,c=e.adJSAPIType,l=e.expReportLink,u=e.clkReportLink,d=e.reportInfo,p=e.clickPosMap,f=e.feedbackUrl;(0,ue.IN)("openChannelsRewardedVideoAd",{feedId:a,nonceId:r,finderUserName:o,reportExtraInfo:s,adJSAPIType:c,expReportLink:l,clkReportLink:u,reportInfo:d,clickPosMap:p,feedbackUrl:f,success:t,fail:n,complete:i})},sl=function(e){var t=e.mixWithOther,n=void 0===t||t,i=e.obeyMuteSwitch,a=void 0===i||i,r=e.success,o=e.fail,s=e.complete;(0,ue.IN)("setInnerAudioOption",{mixWithOther:n,obeyMuteSwitch:a,success:r,fail:o,complete:s})},cl=function(e){var t=e.urlList,n=e.success,i=e.fail,a=e.complete;(0,ue.IN)("private_onWebPageUrlExposed",{urlList:t,success:n,fail:i,complete:a})},ll=Fc((function(e){var t=e.taskName,n=e.taskUrl,i=e.fileMd5,a=e.extInfo,r=e.success,o=e.fail,s=e.complete,c=Wc("addDownloadTaskStraight",{taskName:t,taskUrl:n,fileMd5:i,extInfo:a,permissionBytes:[1,1,1],success:r,fail:o,complete:s});(0,ue.IN)("addDownloadTaskStraight",c)})),ul=(bs=F(),Is=F(),Es=F(),Ts=F(),ks=F(),As=F(),Cs=F(),Ss=F(),xs=F(),Ps=F(),Ds=F(),Rs=F(),Os=F(),Ns=F(),Ms=F(),Ls=F(),Ws=F(),Fs=F(),Bs=F(),js=F(),Us=F(),Gs=F(),Vs=F(),Zs=F(),Hs=F(),Ys=function e(){h()(this,e),ws()(this,"setNavigationBarRightButton",zs,this),ws()(this,"setMiniProgramNavigationBarRightButton",qs,this),ws()(this,"hideVirtualBottomNavigationBar",Ks,this),ws()(this,"showVirtualBottomNavigationBar",Xs,this),ws()(this,"showStatusBar",Js,this),ws()(this,"hideStatusBar",$s,this),ws()(this,"openProfile",Qs,this),ws()(this,"addContact",ec,this),ws()(this,"downloadAppInternal",tc,this),ws()(this,"openChannelsActivity",nc,this),ws()(this,"openChannelsRewardedVideoAd",ic,this),ws()(this,"openChannelsLive",ac,this),ws()(this,"openChannelsUserProfile",rc,this),ws()(this,"getChannelsLiveInfo",oc,this),ws()(this,"getNetworkType",sc,this),ws()(this,"preloadH5Page",cc,this),this.innerPreloadVideo=Fc(Jc),ws()(this,"preloadVideo",lc,this),this.innerLaunchApplication=Fc(Gc),ws()(this,"launchApplication",uc,this),this.innerGetInstallState=Fc(Zc),ws()(this,"getInstallState",dc,this),this.innerQueryDownloadTask=Fc(Hc),ws()(this,"queryDownloadTask",pc,this),this.innerPauseDownloadTask=Fc(Yc),ws()(this,"pauseDownloadTask",fc,this),this.innerResumeDownloadTask=Fc(zc),ws()(this,"resumeDownloadTask",hc,this),this.innerInstallDownloadTask=Fc(qc),ws()(this,"installDownloadTask",vc,this),this.innerSetPageOrientation=Fc($c),ws()(this,"setPageOrientation",gc,this),this.innerSetInnerAudioOption=Fc(sl),ws()(this,"setInnerAudioOption",yc,this)},zs=m()(Ys.prototype,"setNavigationBarRightButton",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Kc)}}),qs=m()(Ys.prototype,"setMiniProgramNavigationBarRightButton",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Xc)}}),Ks=m()(Ys.prototype,"hideVirtualBottomNavigationBar",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Qc)}}),Xs=m()(Ys.prototype,"showVirtualBottomNavigationBar",[Ts],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(el)}}),Js=m()(Ys.prototype,"showStatusBar",[ks],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(tl)}}),$s=m()(Ys.prototype,"hideStatusBar",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(nl)}}),Qs=m()(Ys.prototype,"openProfile",[Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(jc)}}),ec=m()(Ys.prototype,"addContact",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Uc)}}),tc=m()(Ys.prototype,"downloadAppInternal",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Vc)}}),nc=m()(Ys.prototype,"openChannelsActivity",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(il)}}),ic=m()(Ys.prototype,"openChannelsRewardedVideoAd",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(ol)}}),ac=m()(Ys.prototype,"openChannelsLive",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(al)}}),rc=m()(Ys.prototype,"openChannelsUserProfile",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(rl)}}),oc=m()(Ys.prototype,"getChannelsLiveInfo",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(_c)}}),sc=m()(Ys.prototype,"getNetworkType",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(Oe._V)}}),cc=m()(Ys.prototype,"preloadH5Page",[Ls],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fc(cl)}}),lc=m()(Ys.prototype,"preloadVideo",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerPreloadVideo({resources:t})}}}),uc=m()(Ys.prototype,"launchApplication",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n="string"==typeof t?{schemeUrl:t}:t;return e.innerLaunchApplication(n)}}}),dc=m()(Ys.prototype,"getInstallState",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerGetInstallState({packageName:t})}}}),pc=m()(Ys.prototype,"queryDownloadTask",[js],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerQueryDownloadTask({downloadId:t})}}}),fc=m()(Ys.prototype,"pauseDownloadTask",[Us],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerPauseDownloadTask({downloadId:t})}}}),hc=m()(Ys.prototype,"resumeDownloadTask",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerResumeDownloadTask({downloadId:t})}}}),vc=m()(Ys.prototype,"installDownloadTask",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerInstallDownloadTask({downloadId:t})}}}),gc=m()(Ys.prototype,"setPageOrientation",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.innerSetPageOrientation({orientation:t})}}}),yc=m()(Ys.prototype,"setInnerAudioOption",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){return e.innerSetInnerAudioOption({mixWithOther:t,obeyMuteSwitch:n})}}}),Ys),dl=!1,pl=(wc=j("handleAdDataDone"),bc=U("handleAdDataError"),Ic=j("handleAdDataDone"),Ec=U("handleAdDataError"),Tc=j("handleAdDataDone"),kc=U("handleAdDataError"),Ac=j("handleAdDataDone"),Cc=U("handleAdDataError"),Sc=j("handleAdDataDone"),xc=U("handleAdDataError"),Pc=j("handleAdDataDone"),Dc=U("handleAdDataError"),Rc=j("handleAdDataDone"),Oc=U("handleAdDataError"),Nc=function(e,t,n){var i=n.value;n.value=function(){var e=this,t=function(t){Lc&&Lc in e&&"function"==typeof e[Lc]&&e[Lc](t)};try{for(var n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];var s=(n=i).call.apply(n,[this].concat(r));return s instanceof Promise?s.catch((function(e){return t(e)})):s}catch(e){t(e)}}},Mc=function(){function e(t){var n=this,i=t.adUnitId,a=t.adType,r=t.pluginAppid,o=void 0===r?"":r;h()(this,e),this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.slotData={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.webviewId=Y.S0.currentWebviewId,this.fetchRetryCount=0,this.isCanvasXmlHook=!1,this.handledInNewFetch=!1,this.nativeMethodInvoker=new ul,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.datas=[],this.data={},this.convertedAdData=null,this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,"splashAd"!==a&&(0,Y.lv)(),this.adUnitId=i,this.adType=a,this.pluginAppid=Y.S3.isWaGame?"":o,this.mmReporter=new oo(this),this.cgiReporter=new is(this),this.lander=new ms(this),this.bindProxyMethods(),this.setTimePoint("p1"),(0,O.lc)((function(e){if(e.webviewId===Y.S0.currentWebviewId&&n.data&&n.isViewable){var t=n.data.uxinfo;(0,S.R)({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}}))}var t,n,i,r,s;return g()(e,[{key:"bindProxyMethods",value:function(){for(var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],n=function(){var t,n=a[i],r=(0,G.Zw)(n),o=p()(r);try{var s=function(){var i,a,r,o=t.value;a=o,(null===(r=(i=n)&&i[W])||void 0===r?void 0:r.has(a))&&(e[o]=function(){var e;return(e=n)[o].apply(e,arguments)})};for(o.s();!(t=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}},i=0,a=t;i<a.length;i++)n()}},{key:"isLimitRequest",value:function(){return"checkAd"!==this.lastAdRespone&&0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime}},{key:"convertTestAdData",value:function(e){try{var t,n=(0,G.Xh)(e),i=JSON.parse(n.crt_exp_info);if(n.crtExpInfo=i,1002===i.exp_type){if(null!==(t=n.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var a=JSON.parse(i.exp_data);n.wx_game_video.wxgame_video_card.flooring_page=a}}else if(1001===i.exp_type){n.profile_exp=!0;var r=i.exp_data&&"string"==typeof i.exp_data?JSON.parse(i.exp_data):i.exp_data;n.dest_type=r.dest_type;var o={};if(n.button_action)try{o=JSON.parse(e.button_action)}catch(e){}o.jump_type=r.jump_type,n.button_action=JSON.stringify(o)}else if(105===i.exp_type)n.ad_style_data=i.exp_data;else if(106===i.exp_type){var s=i.exp_data&&"string"==typeof i.exp_data?JSON.parse(i.exp_data):i.exp_data;(0,G.Ee)(n,s),n.common_exp=!0}else if(i.exp_type&&[108,109,2001].includes(i.exp_type))n.ad_dynamic_list=i.exp_data;else if(i.crt_size&&[To.CRT_SIZE_WX_APPLICATION_NEW,To.CRT_SIZE_WX_APPLICATION_X].includes(i.crt_size)){if(n.crt_size=i.crt_size,n.ad_width=i.width,n.material_width=i.width,n.ad_height=i.height,n.material_height=i.height,n.image_url=i.image_url,i.dest_url&&n.url&&[1,3,6].includes(n.dest_type)){var c=(0,G.Wz)(n.url),l={};c.weixinadkey&&(l.weixinadkey=c.weixinadkey),c.ticket&&(l.ticket=c.ticket),c.gdt_vid&&(l.gdt_vid=c.gdt_vid),c.weixinadinfo&&(l.weixinadinfo=c.weixinadinfo),n.url=(0,G.a3)(i.dest_url,l)}n.watermark_text=i.watermark||""}else if(i.landpage_type){var u;null!==(u=n.wx_game_video)&&void 0!==u&&u.wxgame_video_card&&(n.wx_game_video.wxgame_video_card.flooring_page=i)}return n}catch(t){return e}}},{key:"getFetchArgs",value:function(e,t){var n,i,a=e.isAdInterval,r={scene_type:Y.S0.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:Y.S3.gameAppId,orig_weapp_id:this.pluginAppid?Y.S3.gameAppId:"",weapp_path:Y.S0.weappPath,pos_id:"",network_type:Y.S3.adNetworkType,orientation:{landscape:1,portrait:2}[Y.S3.deviceOrientation],sdk_version:Y.S3.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:Y.S3.startTime.valueOf(),wxa_enter_ts:Y.S0.enterForegroundTime.valueOf(),weixin_version:Y.S3.wechatVersion,os_version:Y.S3.systemVersion,machine_type:Y.S3.model,is_ad_interval:!!a,env:null===(n=E.Z.host)||void 0===n?void 0:n.env,app_appid:null===(i=E.Z.host)||void 0===i?void 0:i.appId})};r.pos_id=L.DX[this.adType];var o={};return"grid"===this.adType?o.box_slot_ad={count:String(this.slotData.gridCount),box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)}:"splashAd"===this.adType?(o.splash_ad={count:String(5)},o.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,o.request_type=(null==t?void 0:t.requestType)||1,o.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],delete r.appid):"customAd"===this.adType&&(o={is_adunit_tmpl:!0}),(0,T.er)()&&(o.in_3rd_app=1),r.ext_slot_custom_comm=JSON.stringify(o),r}},{key:"validateFetchEnv",value:function(){if((0,T.er)()&&this.reportAdMonitorData(Co.IN.THIRD_ERROR),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}},{key:"validateFetchRes",value:function(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}}},{key:"validateCrtSize",value:function(e){var t=e.pt,n=e.crt_size,i=Do.includes(t),a=Ro.includes(n);if(!i&&!a){if(n&&!a)throw{errMsg:"unexpected advertisement crt_size ".concat(n)};throw{errMsg:"unexpected advertisement type ".concat(t)}}}},{key:"handleAdDataDone",value:function(){this.reportAdMonitorData(Co.IN.AD_FETCH_SUCCESS),this.reportIPV4()}},{key:"handleAdDataError",value:function(e){this.reportAdMonitorData(Co.IN.AD_FETCH_SUCCESS,e)}},{key:"handleWaidForList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={};if(t.length<1)return Promise.resolve(n);var i=[];return null==t||t.forEach((function(e){i.push((0,k.p4)(e.apkName).then((function(t){return u()(u()({},t),{},{aid:e.aid})})))})),Promise.race([Promise.all(i).then((function(e){return e.forEach((function(e){var t=e.waid,i=e.aid,a=void 0===i?"":i;t&&a&&(n[a]=t)})),n})).catch((function(t){return e.reportAdMonitorData(Co.IN.READ_ADINFOS_ERROR,t),n})),(0,N.Vs)(2e3).then((function(){return n}))])}},{key:"handleBulkSaveMaterials",value:function(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?(0,M.fn)(t):Promise.resolve()}},{key:"getSplashAdMaterialList",value:function(e){var t,n,i=[],a=(null==e?void 0:e.crtInfo[0])||{},r=e.rerankingExtInfo.material_hash||"",o=(null==a?void 0:a.image_url)||"",s=(null==a||null===(t=a.card_info)||void 0===t?void 0:t.pure_color_url)||"",c=(null==a||null===(n=a.card_info)||void 0===n?void 0:n.material_blur_url)||"",l="".concat(L.Lq,"/").concat(e.aid,"_").concat(r,".png");if(r&&i.push({url:o,fileName:"".concat(e.aid,"_").concat(r,".png"),filePath:l}),s){var u="".concat(L.Lq,"/").concat(e.aid,"_").concat(r,"_pure_color.png");r&&i.push({url:s,fileName:"".concat(e.aid,"_").concat(r,"_pure_color.png"),filePath:u})}if(c){var d="".concat(L.Lq,"/").concat(e.aid,"_").concat(r,"_blur.png");r&&i.push({url:c,fileName:"".concat(e.aid,"_").concat(r,"_blur.png"),filePath:d})}return i}},{key:"handleAdInfosIndexCache",value:(s=c()(w().mark((function e(t,n,i){var a,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.handleWaidForList(t);case 3:a=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return n.deviceInfo=(0,Y.v3)(),n.waidMap=a,this.reportAdMonitorData(Co.IN.READ_ADINFOS_SUCCESS,{adInfos:n}),e.prev=11,e.next=14,(0,M.Z7)(n,i);case 14:return e.abrupt("return",this.reportAdMonitorData(Co.ET.WRITE_ADINFOS_SUCCESS,{adInfos:n}));case 17:return e.prev=17,e.t1=e.catch(11),r=e.t1 instanceof Error?this.processStackMsg(e.t1):e.t1,e.abrupt("return",this.reportAdMonitorData(Co.ET.WRITE_ADINFOS_FAIL,{adInfos:n,errMsg:r}));case 21:case"end":return e.stop()}}),e,this,[[0,6],[11,17]])}))),function(e,t,n){return s.apply(this,arguments)})},{key:"isCheckAdIsOnlineRequest",value:function(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}},{key:"isCheckAdIsOnlineResp",value:function(e){return!("traceid"in e)}},{key:"handleCheckAdIsOnlineResp",value:function(e){var t,n=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(n)?"checkAd":"fetch",n}},{key:"handleSplashAd",value:(r=c()(w().mark((function e(t){var n,i,a,r,s,c,l,u,d,p,f,h,v,g=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isCheckAdIsOnlineRequest(t)){e.next=2;break}return e.abrupt("return",this.handleCheckAdIsOnlineResp(t));case 2:return this.reportAdMonitorData(Co.ET.dataLoadSuccess),i=0,a=[],r=[],s=[],c=(0,N.Cy)(),l="".concat(c,"_exposure_times"),u="".concat(L.Lq,"/adinfos.txt"),n={slot_id:L.DX[this.adType],ads:[],crtSizeMap:{},materialHashMap:{},total_exposure_times:0},o()(n,l,0),o()(n,"requestInQueue","true"),o()(n,"totalSizeUsed",0),d=n,e.next=13,(0,M.x1)(L.Lq);case 13:return p=e.sent,d.totalSizeUsed=p.totalSize,f=(f=p.outedDateFileList||[]).length<21&&p.totalSize>20971520?p.fileList:f,e.prev=18,e.next=21,(0,M.BZ)(L.Lq,f);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(18),this.reportAdMonitorData(Co.ET.removeFileDataFail,e.t0);case 26:e.prev=26,h=t.advertisement_info.length>0&&t.advertisement_info.map((function(e,t){var n,o,c=g.handleAdData(e),u=c.rerankingExtInfo.material_hash||"",p={material_hash:c.rerankingExtInfo.material_hash||"",tid:c.rerankingExtInfo.tid.toString()||"",aid:c.aid,trace_id:c.traceid};d.ads.push(p),d.total_exposure_times=c.rerankingExtInfo.total_exposure_times||0,d[l]=c.rerankingExtInfo[l]||0;var f=null===(n=c.condition)||void 0===n?void 0:n.widget_gray_splash_data_channel_parallel;d.requestInQueue=f?"false":"true",d.isCheckAndFetch=(null===(o=c.condition)||void 0===o?void 0:o.widget_gray_splash_check_and_fetch)||0,d.materialHashMap[c.aid]=u;var h=c.crtInfo[0]||{};c.crtInfo&&(d.crtSizeMap[c.aid]=h.width>h.height?"landscape":"portrait");var v=g.getSplashAdMaterialList(c);r=r.concat(v),i+=0===t?v.length:0;var y="".concat(L.Lq,"/").concat(c.aid,".txt");if(a.push((0,M.Z7)(c,y)),c.product_type===ko.ANDROID){var m,_=null===(m=c.appInfo)||void 0===m?void 0:m.apkName;s.push({apkName:_,aid:c.aid})}return c})),this.datas=h,e.next=35;break;case 31:throw e.prev=31,e.t1=e.catch(26),this.reportAdMonitorData(Co.ET.handleDataFail,e.t1),e.t1;case 35:return v=r.slice(0,i),e.next=38,(0,M.fn)(v);case 38:return a.push((0,M.fn)(r)),a.push(this.handleAdInfosIndexCache(s,d,u)),Promise.all(a).then((function(){return g.reportAdMonitorData(Co.ET.dataPreloadSuccess)})).catch((function(e){throw g.reportAdMonitorData(Co.ET.dataPreloadFail,e),e})),e.abrupt("return",this.datas[0]);case 42:case"end":return e.stop()}}),e,this,[[18,23],[26,31]])}))),function(e){return r.apply(this,arguments)})},{key:"handleCustomAd",value:function(e){var t=this,n=e.advertisement_info.map((function(e,n){var i,a,r,o=function(e){if(0===n)throw e},s=null,c=t.handleAdData(e),l=c.crtInfo,d=c.button_action,p=c.product_type,f=c.dest_type,h=c.crt_size;if(c.reranking_ext_info&&c.reranking_ext_info.refresh_time)r=c.reranking_ext_info.refresh_time;else if(c.reranking_ext_info&&"string"==typeof c.reranking_ext_info)try{var v=JSON.parse(c.reranking_ext_info);v.refresh_time&&(r=v.refresh_time)}catch(e){}if(null!=c&&null!==(i=c.extBackComm)&&void 0!==i&&i.tmpl_info)try{var g=JSON.parse(c.extBackComm.tmpl_info);s=JSON.parse(g.tmpl_content),a=Number(c.extBackComm.sub_templ_id)}catch(e){t.reportAdMonitorData(Co.$g.TPL_PARSE_FAILED),o({errMsg:"custom template error",errCode:L.yB.ERR_TPL_PARSE})}else t.reportAdMonitorData(Co.$g.TPL_LOAD_FAILED),o({errMsg:"no custom template",errCode:L.yB.ERR_TPL_NONE});return u()(u()({},e),{},{crtInfo:l,button_action:d,product_type:p,dest_type:f,crt_size:h,condition:c.condition,template:s,subTemplId:a,refreshTime:r,aid:c.aid,app:c.app,appInfo:c.appInfo,extBackComm:c.extBackComm,wording:c.hint_txt,card_info:c.card_info,video_info:c.video_info,image_url:c.image_url,weapp_info:c.weapp_info,wx_game_video:c.wx_game_video})}));return this.reportAdMonitorData(Co.$g.LOAD_SUCCESS),n.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=n,this.setCurrentData(0),n[0]}},{key:"handleGridAd",value:function(e){var t=this;if(e.advertisement_info.length!==this.slotData.gridCount)throw this.reportAdMonitorData(Co.IN.AD_GRID_LOAD_COUNT_ERROR,{count:this.slotData.gridCount,getCount:e.advertisement_info.length}),{errMsg:"no advertisement count error",errCode:e.ret};var n=e.advertisement_info.map((function(e,n){var i=t.handleAdData(e);return i._isGrid=!0,i._gridInfo={row:5===t.slotData.gridCount?1:2,column:5===t.slotData.gridCount?5:4,index:n},i}));this.datas=n,this.setCurrentData(0),this.fetchRetryCount=0;var i,a=p()(this.datas);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(r.crt_size!==To.CRT_SIZE_MULTI_POS_GRID)throw{errMsg:"unexpected advertisement crt_size ".concat(r.crt_size)}}}catch(e){a.e(e)}finally{a.f()}return this.reportAdMonitorData(Co.IN.AD_GRID_LOAD_SUCCESS),this.datas}},{key:"handleInterstitialAd",value:function(e){var t=JSON.parse(e.image_url),n=u()(u()({},t[0]||{}),(0,G.ei)(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm"]));if(e.crt_size===To.CRT_SIZE_INSERT_VIDEO){var i="0",a=decodeURIComponent(this.data.apurl);/viewid=([^&]+)/.test(a)&&(i=RegExp.$1),this.data.wx_game_video={short_video:{viewid:i}}}return this.convertedAdData=n,n}},{key:"handleRewardedVideoAd",value:function(e){var t,n,i,r;e.crt_size===To.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var o=this.data.crtInfo&&Array.isArray(this.data.crtInfo)?this.data.crtInfo:[];0===o.length&&o.push({wxgame_video_card:{}});var s=a()(o,1)[0],c=s.wxgame_video_card,l=c.head_bg_img,d=c.mp_tag_type,p=s.wxgame_gauss_video,f=e.canvas_info,h=e.wx_game_video,v=h.short_video,g=h.wxgame_video_card,y=g.show_time,m=g.thumb,_=g.title,w=g.desc,b=g.flooring_page,I=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)I=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var E=JSON.parse(e.reranking_ext_info);E.rewarded_time&&(I=E.rewarded_time)}catch(e){}I=Math.floor(1e3*I),b&&[3,4].indexOf(b.landpage_type)>-1&&(this.data.isPlayable=!0);var T=u()({crtInfo:o[0],canvas_info:f,type:xo[e.pt],shortVideo:this.mapRewardVideoFields(v),gaussVideo:p?this.mapRewardVideoFields(u()(u()({},p),{},{video_duration:p.video_duration_ms})):null,rewardedTime:I,card:{icon:m,name:_,wording:w,headBgImg:l,mpTagType:d,showTime:y},flooringPage:b},(0,G.ei)(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo"]));this.convertedAdData=T;var k=eo(T),A=no(T);return this.reportRewardGaussVideo({useGaussVideo:k,useExpandStyle:A,expUseGaussVideo:null!==(t=null===(n=e.condition)||void 0===n?void 0:n.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(i=null==v?void 0:v.video_url)&&void 0!==i?i:"",gaussVideoUrl:null!==(r=null==p?void 0:p.video_url)&&void 0!==r?r:""}),null!=p&&p.video_url&&this.reportAdMonitorData(Co.IN.REWARD_GAUSS_EXISTS),k&&A?this.reportAdMonitorData(Co.IN.REWARD_USE_GAUSS_AND_EXPAND_STYLE):k?this.reportAdMonitorData(Co.IN.REWARD_USE_GAUSS):A&&this.reportAdMonitorData(Co.IN.REWARD_USE_EXPAND_STYLE),T}},{key:"mapRewardVideoFields",value:function(e){return{poster:e.thumb_url,src:e.video_url,duration:e.video_duration,width:e.thumb_width,height:e.thumb_height}}},{key:"handleRewardedLandingPage",value:function(e){var t,n=Y.S3.isAndroid&&E.Z.clientVersion>=654315008||Y.S3.isIOS&&E.Z.clientVersion>=385879552;if((null===(t=this.data.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&n)try{var i=e.canvas_info,a=I()(i.ad_info_xml).root,r=(0,N.IU)(e),o=this.composeExposureCommonInfo({top:0,left:0,width:Y.S3.screenWidth,height:Y.S3.screenHeight});a.children.push({name:"viewid",children:[],attributes:{},content:r},{name:"commInfo",children:[],attributes:{},content:o});var s=R(a,!0);this.data.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}},{key:"handleBannerAd",value:function(e){var t=e.pt,n=e.crt_size,i=e.image_url,a=e.material_width,r=e.material_height,o=e.ad_width,s=e.ad_height,c=e.use_style_data,l=e.hint_txt,d=e.watermark_type,p=e.extBackComm.antifraud_popup;void 0===p&&(p=!1);var f,h,v=xo[t];c?(f=o,h=s):[To.CRT_SIZE_WX_APPLICATION,To.CRT_SIZE_WX_APPLICATION_NEW,To.CRT_SIZE_WX_APPLICATION_X].includes(n)?(f=(o||a)/2,h=(s||r)/2):n===To.CRT_SIZE_WX_APPLICATION_CARD&&(f=o,h=s);var g=u()({antifraudPopup:p,type:v,crt_size:n,useStyleData:c,watermark:Po[d],width:f,height:h,image:{src:i,width:a,height:r},wording:l},(0,G.ei)(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo"]));return this.convertedAdData=g,g}},{key:"extractJson",value:function(e,t,n,i){var a=null!=n?n:t;if(e[a]&&"string"==typeof e[a])try{e[t]=JSON.parse(e[a])}catch(n){e[t]=null!=i?i:{}}else null!=i&&(e[t]=i)}},{key:"buildWechatInfo",value:function(e){if(e.product_type===ko.WE_CHAT){var t=e.biz_appid,n=e.biz_info,i=n.nick_name,a=n.is_subscribed;return{icon:n.head_img,nickname:i,uin:n.biz_uin,isFollowed:a,biz_appid:t}}return{}}},{key:"buildAppInfo",value:function(e){var t=e.product_type;if([ko.ANDROID,ko.IOS].includes(t)){var n=e.app_info;return{appName:n.app_name,apkName:n.apk_name,apkUrl:n.apk_url,appMd5:n.app_md5,iconUrl:n.icon_url,urlScheme:n.url_scheme,versionCode:n.version_code,channelId:n.channel_id,desc:n.desc}}return{}}},{key:"handleAdData",value:function(e){var t,n=this;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var i=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):(0,G.Xh)(e),a=i;if(i.crt_size&&(a.crt_size=Number(i.crt_size)),this.extractJson(a,"crtInfo","crt_info"),this.extractJson(a,"extBackComm","ext_back_comm"),this.extractJson(a,"button_action","button_action",{}),this.extractJson(a,"adStyleData","ad_style_data",""),this.extractJson(a,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(a,"extInfo","ext_info"),this.extractJson(a,"adDynamicList","ad_dynamic_list"),i.flow_exp_info)try{a.condition=(0,C.mh)(i.flow_exp_info),this.isSplashAd()||this.handleSplashAdFetchLog(a.condition)}catch(e){}if(a.adStyleData&&[To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(a.crt_size)){a.use_style_data=!0;var r=a.adStyleData;i.ad_width=r.width,i.ad_height=r.height,r.widgets.forEach((function(e){var t=i.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(a);var o=i.button_action;if(o.button_text=o.button_text||"查看",i.watermark_text=i.watermark_text||"去逛逛",18001===(null==a||null===(t=a.extInfo)||void 0===t?void 0:t.page_type)){var s={gdt_vid:i.traceid||"",uxinfo:i.uxinfo||"",ad_token:i.ad_token||"",rl:i.rl||""};i.url=(0,G.a3)(i.url,s)}var c=this.buildWechatInfo(a),l=this.buildAppInfo(a);return i.product_type===ko.ANDROID&&(0,k.p4)(l.apkName).then((function(e){var t=e.waid;a.waid=t,n.reportAdMonitorData(Co.IN.GET_WAID_SUCCESS)})).catch((function(e){n.reportAdMonitorData(Co.IN.GET_WAID_ERROR,e)})),u()(u()({},a),{},{app:c,appInfo:l})}},{key:"handleSplashAdFetchLog",value:function(e){this.handledInNewFetch||(this.handledInNewFetch=!0,(0,M.J$)(e))}},{key:"handleOperateWXData",value:function(e){var t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?(0,A.ul)(t):(0,A.Lo)(t)}},{key:"processFetch",value:(i=c()(w().mark((function e(t,n,i){var a,r,o,s,c,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateFetchEnv(),!(Object.keys(n).length>0)){e.next=5;break}(0,Y.NN)(n),e.next=11;break;case 5:return Y.S3.deviceOrientation=(0,Y.uj)(),e.next=8,this.getNetworkType();case 8:a=e.sent,r=a.networkType,Y.S3.adNetworkType=r;case 11:return o=this.getFetchArgs({isAdInterval:t},i),this.setLastAdReqTs(+new Date),this.setLastExposureTime(0),this.setLastClickTime(0),this.setTimePoint("p2"),e.prev=16,e.next=19,this.handleOperateWXData(o);case 19:if(s=e.sent,this.fetchPromise=null,this.fetchRetryCount=0,this.handledInNewFetch=!1,this.setTimePoint("p3"),s=JSON.parse(s.rawData),this.validateFetchRes(s),!this.isSplashAd()){e.next=28;break}return e.abrupt("return",this.handleSplashAd(s));case 28:if(!this.isGridAd()){e.next=30;break}return e.abrupt("return",this.handleGridAd(s));case 30:if(!this.isCustomAd()){e.next=32;break}return e.abrupt("return",this.handleCustomAd(s));case 32:if(c=this.handleAdData(s.advertisement_info[0]),this.data=c,this.checkDuplicateRecommendedAds(c.product_type,c.app,c.appInfo),!this.isInterstitialAd(c)){e.next=37;break}return e.abrupt("return",this.handleInterstitialAd(c));case 37:if(!this.isRewardedVideoAd(c)){e.next=39;break}return e.abrupt("return",this.handleRewardedVideoAd(c));case 39:return e.abrupt("return",this.handleBannerAd(c));case 42:e.prev=42,e.t0=e.catch(16),l="";try{l=JSON.parse(e.t0).errMsg}catch(e){}if(this.fetchPromise=null,!(0===l.indexOf("getAdData:fail")&&this.fetchRetryCount<1)){e.next=50;break}return this.fetchRetryCount+=1,e.abrupt("return",this.fetch(t));case 50:throw this.isBannerAd()?this.reportAdMonitorData(Co.IN.AD_BANNER_LOAD_ERROR,e.t0):this.isRewardedVideoAd()?this.reportAdMonitorData(Co.IN.AD_VIDEO_LOAD_ERROR,e.t0):this.isInterstitialAd()?this.reportAdMonitorData(Co.IN.AD_INTERSTITIAL_LOAD_ERROR,e.t0):this.isGridAd()?this.reportAdMonitorData(Co.IN.AD_GRID_LOAD_ERROR,e.t0):this.isCustomAd()?this.reportAdMonitorData(Co.$g.LOAD_FAILED,e.t0):this.isSplashAd()&&this.reportAdMonitorData(Co.ET.dataLoadFail,e.t0),e.t0;case 52:case"end":return e.stop()}}),e,this,[[16,42]])}))),function(e,t,n){return i.apply(this,arguments)})},{key:"checkDuplicateRecommendedAds",value:(n=c()(w().mark((function e(t,n,i){var a,r,o,s,c,l,u,d,p,f,h,v,g;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r="0",o=decodeURIComponent(this.data.apurl),/viewid=([^&]+)/.test(o)&&(r=RegExp.$1),s={conv_status:a},c={},e.next=8,Y.SQ;case 8:if(l=e.sent,u=l.imei,d=l.idfa,p={viewid:r,app_status:0,follow_status:0,imei:u,idfa:d},t!==ko.WE_CHAT){e.next=20;break}if(c.ad_type=1,c.ad_id=n.biz_appid,p.follow_status=n.isFollowed?2:1,!n.isFollowed){e.next=18;break}return e.abrupt("return",this.reportAdMonitorData(Co.IN.AD_FOLLOWED,{adInfo:c}));case 18:e.next=37;break;case 20:if(t!==ko.ANDROID){e.next=37;break}return f=i.apkName,h=i.versionCode,e.prev=22,e.next=25,this.getInstallState(f);case 25:v=e.sent,g=v.isInstalled&&(void 0===v.versionCode||v.versionCode>=h),c.ad_type=2,c.ad_id=f,p.app_status=g?2:1,g&&this.reportAdMonitorData(Co.IN.AD_INSTALLED,{adInfo:c}),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(22),p.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0});case 37:a.push(p),this.reportInstallFollow(s);case 39:case"end":return e.stop()}}),e,this,[[22,33]])}))),function(e,t,i){return n.apply(this,arguments)})},{key:"getAdType",value:function(){return this.adType}},{key:"getAdUnitId",value:function(){return this.adUnitId}},{key:"getPluginAppid",value:function(){return this.pluginAppid}},{key:"getSlotData",value:function(){return this.slotData}},{key:"getDeviceInfo",value:function(){return Y.S3}},{key:"isBannerAd",value:function(){return"banner"===this.adType}},{key:"isRewardedVideoAd",value:function(e){return"incentive-video"===this.adType&&(!e||[To.CRT_SIZE_REWARD_VEDIO169,To.CRT_SIZE_REWARD_VEDIO916,To.CRT_SIZE_VERTICAL_VIDEO_NEW_916,To.CRT_SIZE_REWARD_LANDINGPAGE].includes(e.crt_size))}},{key:"isInterstitialAd",value:function(e){return"interstitialAd"===this.adType&&(!e||[To.CRT_SIZE_TABLE_SCREEN_IMAGE,To.CRT_SIZE_INSERT_VIDEO].includes(e.crt_size))}},{key:"isGridAd",value:function(){return"grid"===this.adType}},{key:"isCustomAd",value:function(){return"customAd"===this.adType}},{key:"isSplashAd",value:function(){return"splashAd"===this.adType}},{key:"getProgramStartTime",value:function(){return Y.S3.startTime}},{key:"getWebviewInfo",value:function(){return{createWebviewId:this.webviewId,lastWebviewId:Y.S0.lastWebviewId,currentWebviewId:Y.S0.currentWebviewId,openType:Y.S0.currentOpenType}}},{key:"setSlotData",value:function(e){this.slotData=Object.assign(this.slotData,e||{})}},{key:"reset",value:function(){this.adDataIndex=0,this.cgiReporter.reset()}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetchPromise||(this.fetchPromise=this.processFetch(e,t,n)),this.fetchPromise}},{key:"setRightButtonHide",value:function(e){var t=this,n=function(){return Y.S3.isWaGame?t.setNavigationBarRightButton({isHide:e}):t.setMiniProgramNavigationBarRightButton({isHide:e})};return n().catch((function(i){return t.reportAdMonitorData(Co.IN.RIGHTBUTTON_HIDE_ERROR,{retryCount:0,isHide:e,message:t.processStackMsg(i)}),n().catch((function(n){throw t.reportAdMonitorData(Co.IN.RIGHTBUTTON_HIDE_ERROR,{retryCount:1,isHide:e,message:t.processStackMsg(n)}),n}))}))}},{key:"addDownloadTaskStraight",value:function(e,t,n,i){var a=this;return ll({taskName:e,taskUrl:t,fileMd5:n,extInfo:i}).catch((function(e){return a.reportAdMonitorData(Co.IN.ADD_DOWNLOAD_TASK_ERROR,e),Promise.reject(e)}))}},{key:"operateFullscreen",value:function(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return Y.S3.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!Y.S3.isWaGame&&Y.S3.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}},{key:"isTriggerClick",value:function(e){var t=e.absoluteX,n=e.absoluteY,i=e.absoluteEndX,a=e.absoluteEndY,r=e.pressInterval,o=!1;return Math.abs(a-n)<30&&Math.abs(i-t)<30&&r<300&&(o=!0),o}},{key:"isValidCondition",value:function(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}},{key:"setCurrentData",value:function(e){var t;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e])}},{key:"checkCanvasXmlState",value:function(){return this.isCanvasXmlHook}},{key:"handleRewardedVideoPlayableLand",value:function(e,t){var n,i,a=null==this||null===(n=this.data)||void 0===n||null===(i=n.extBackComm)||void 0===i?void 0:i.uid,r={};4===t?r.xj_scene=6:(r.gdt_vid=this.data.traceid||"",r.uxinfo=this.data.uxinfo||"",r.reward=1),r.rl=this.data.rl||"",r.ad_token=this.data.ad_token||"",Y.S3.isIOS&&(r.uid=a||"");var o=(0,G.a3)(e,r);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(Co.IN.H5_PRELOAD_BUTTON_CLICKED),(0,A.Yo)({url:o})}},{key:"setDeviceInfo",value:function(e){Object.assign(Y.S3,e)}},{key:"setSplashAdShowStatus",value:function(){dl=!0}},{key:"getSplashAdShowStatus",value:function(){return dl}},{key:"getChannelsLiveStatus",value:(t=c()(w().mark((function e(){var t,n,i,a,r,o,s,c,l,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data,n=t.dest_type,i=t.extBackComm,a=i.channels_info,r=i.live_video_mode,o=i.live_video_sub_mode,a&&null!=r&&null!=o){e.next=3;break}return e.abrupt("return","none");case 3:if(!(0,G.Ie)(r,o)||n!==wo.DEST_TYPE_CHANNELS_LIVE){e.next=30;break}if(s=a.id,c=a.username,s&&c){e.next=7;break}return e.abrupt("return","none");case 7:return e.prev=7,e.next=10,this.getChannelsLiveInfo({feedId:s,finderUserName:c});case 10:if(l=e.sent,u=l.status,![Mo.NONE,Mo.IN_PREPARE].includes(u)){e.next=16;break}return e.abrupt("return","none");case 16:if(u!==Mo.ON_AIR){e.next=20;break}return e.abrupt("return","onlive");case 20:if(u!==Mo.ENDED){e.next=22;break}return e.abrupt("return","end");case 22:this.reportAdIDKey({key:Co.IN.GET_CHANNELS_LIVE_STATUS_SUCCESS}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),this.reportAdMonitorData(Co.IN.GET_CHANNELS_LIVE_STATUS_FAILED,{id:s,username:c,errMsg:e.t0});case 28:e.next=32;break;case 30:if(!(0,G.gC)(r,o)||n!==wo.DEST_TYPE_CANVAS){e.next=32;break}return e.abrupt("return","reserve");case 32:return e.abrupt("return","none");case 33:case"end":return e.stop()}}),e,this,[[7,25]])}))),function(){return t.apply(this,arguments)})}]),e}(),m()(Mc.prototype,"handleCheckAdIsOnlineResp",[wc,bc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleCheckAdIsOnlineResp"),Mc.prototype),m()(Mc.prototype,"handleSplashAd",[Ic,Ec],Object.getOwnPropertyDescriptor(Mc.prototype,"handleSplashAd"),Mc.prototype),m()(Mc.prototype,"handleCustomAd",[Tc,kc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleCustomAd"),Mc.prototype),m()(Mc.prototype,"handleGridAd",[Ac,Cc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleGridAd"),Mc.prototype),m()(Mc.prototype,"handleInterstitialAd",[Sc,xc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleInterstitialAd"),Mc.prototype),m()(Mc.prototype,"handleRewardedVideoAd",[Pc,Dc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleRewardedVideoAd"),Mc.prototype),m()(Mc.prototype,"handleBannerAd",[Rc,Oc],Object.getOwnPropertyDescriptor(Mc.prototype,"handleBannerAd"),Mc.prototype),m()(Mc.prototype,"checkDuplicateRecommendedAds",[Nc],Object.getOwnPropertyDescriptor(Mc.prototype,"checkDuplicateRecommendedAds"),Mc.prototype),Mc)},2158:()=>{},5185:()=>{},3592:()=>{},767:()=>{},6010:()=>{},5889:(e,t,n)=>{"use strict";n.d(t,{Component:()=>A,A:()=>Ne,calculateDynamicStyle:()=>we,convertComputableStyle:()=>Oe,convertStyle:()=>Pe,emitComponentProperty:()=>ne,innerUsage:()=>S,mergeStyles:()=>De,percentProperties:()=>Ie,render:()=>Q,unmount:()=>te,updateRender:()=>ee});var i=n(9515),a=n(9727),r=n.n(a),o=n(3379),s=n.n(o),c=n(1503),l=n.n(c),u=n(572),d=n.n(u),p=n(6885),f=n.n(p),h=n(12),v=n.n(h),g=n(8068),y=n(3356),m=n.n(y),_=n(7163),w=n.n(_),b=n(5843),I=n.n(b),E=n(7015),T=n.n(E),k=function(e){for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==Ne&&t.parent.referComponent;)t=t.parent;return t},A=function(){function e(t){w()(this,e),this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=t}var t;return I()(e,[{key:"setState",value:function(e,t){var n=this;this._stateQueue=this._stateQueue||{};for(var i=!1,a=0,r=Object.keys(e);a<r.length;a++){var o=r[a];e[o]!==this.state[o]&&(i=!0)}i?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(m()(T().mark((function e(){var i,a,r,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n._setStateTimer=null,i=!1,a=0,r=Object.keys(n._stateQueue);a<r.length;a++)o=r[a],s=n._stateQueue[o],n.state[o]!==s&&(i=!0);if(i){e.next=5;break}return e.abrupt("return");case 5:return ne(n,"updateState",l()(l()({},n.state),n._stateQueue)),Object.assign(n.state,n._stateQueue),ee(n),we(k(n._rootElement)),e.next=11,Ne.nextLayout();case 11:null==t||t(n.state,n.props);case 12:case"end":return e.stop()}}),e)}))),0)):null==t||t(this.state,this.props)}},{key:"ready",value:function(e){}},{key:"updatedProps",value:function(){}},{key:"render",value:function(){return""}},{key:"_unmountComponent",value:function(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents)){var e,t=s()(this._subComponents);try{for(t.s();!(e=t.n()).done;){e.value._unmountComponent()}}catch(e){t.e(e)}finally{t.f()}}ne(this,"destroy")}}},{key:"getRootElement",value:function(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}},{key:"getRootElements",value:function(){return this._rootElement}},{key:"getRootComponent",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"getSubComponents",value:function(){return this._subComponents}},{key:"getElementById",value:function(e){return this._elementMap[e]?this._elementMap[e]:null}},{key:"getEventHandler",value:function(e){return this._eventHandler[e]}},{key:"setStyle",value:(t=m()(T().mark((function e(t,n){var i,a,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getElementById(t),a=this._manualStyle,t&&n&&(i&&Object.assign(i.style,n),a[t]=a[t]||{},Object.assign(a[t],n)),e.next=5,Promise.resolve();case 5:return r=this.getRootComponent(),e.next=8,r.requestLayout();case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"requestLayout",value:function(){var e=this,t=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((function(n){e._setStyleTimer&&clearTimeout(e._setStyleTimer),e._setStyleTimer=setTimeout((function(){e._setStyleTimer=null,we(k(e._rootElement)),Promise.race([null==t?void 0:t.nextUpdate(),(0,g.Vs)(200)].filter((function(e){return e}))).then((function(){return n()}))}),0)}))}},{key:"_bindEvent",value:function(e,t,n){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(n),n}},{key:"_unbindEvent",value:function(e,t,n){var i,a;return!(null===(i=this._eventHandler[e])||void 0===i||null===(a=i[t])||void 0===a||!a.has(n))&&(this._eventHandler[e][t].delete(n),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}},{key:"onClick",value:function(e,t){return this._bindEvent(e,"click",t)}},{key:"offClick",value:function(e,t){return this._unbindEvent(e,"click",t)}},{key:"onReady",value:function(e,t){return this._bindEvent(e,"ready",t)}},{key:"offReady",value:function(e,t){return this._unbindEvent(e,"ready",t)}},{key:"onTouchstart",value:function(e,t){return this._bindEvent(e,"touchstart",t)}},{key:"offTouchstart",value:function(e,t){return this._unbindEvent(e,"touchstart",t)}},{key:"onTouchmove",value:function(e,t){return this._bindEvent(e,"touchmove",t)}},{key:"offTouchmove",value:function(e,t){return this._unbindEvent(e,"touchmove",t)}},{key:"onTouchend",value:function(e,t){return this._bindEvent(e,"touchend",t)}},{key:"offTouchend",value:function(e,t){return this._unbindEvent(e,"touchend",t)}},{key:"onTouchcancel",value:function(e,t){return this._bindEvent(e,"touchcancel",t)}},{key:"offTouchcancel",value:function(e,t){return this._unbindEvent(e,"touchcancel",t)}},{key:"onWaiting",value:function(e,t){return this._bindEvent(e,"waiting",t)}},{key:"offWaiting",value:function(e,t){return this._unbindEvent(e,"waiting",t)}},{key:"onPlay",value:function(e,t){return this._bindEvent(e,"play",t)}},{key:"offPlay",value:function(e,t){return this._unbindEvent(e,"play",t)}},{key:"onPause",value:function(e,t){return this._bindEvent(e,"pause",t)}},{key:"offPause",value:function(e,t){return this._unbindEvent(e,"pause",t)}},{key:"onEnded",value:function(e,t){return this._bindEvent(e,"ended",t)}},{key:"offEnded",value:function(e,t){return this._unbindEvent(e,"ended",t)}},{key:"onTimeUpdate",value:function(e,t){return this._bindEvent(e,"timeUpdate",t)}},{key:"offTimeUpdate",value:function(e,t){return this._unbindEvent(e,"timeUpdate",t)}},{key:"onError",value:function(e,t){return this._bindEvent(e,"error",t)}},{key:"offError",value:function(e,t){return this._unbindEvent(e,"error",t)}},{key:"onProgress",value:function(e,t){return this._bindEvent(e,"progress",t)}},{key:"offProgress",value:function(e,t){return this._unbindEvent(e,"progress",t)}},{key:"onFullScreenChange",value:function(e,t){return this._bindEvent(e,"fullScreenChange",t)}},{key:"offFullScreenChange",value:function(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}]),e}();A.isComponent=!0,A.subComponents={};var C,S=function(e){return e},x=n(3595);!function(e){e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullScreenChange="fullScreenChange",e.loadedMetaData="loadedMetaData"}(C||(C={}));var P=n(4742),D=n.n(P),R=n(7541),O=n.n(R),N=function(e){D()(n,e);var t=O()(n);function n(){return w()(this,n),t.apply(this,arguments)}return I()(n,[{key:"render",value:function(){return this.props.children}}]),n}(A);N.isFragment=!0;var M="Fragment",L={view:i.G7,text:i.xv,image:i.Ee,video:i.nk},W=function(e){return e.name[0]>="A"&&e.name[0]<="Z"},F=new WeakMap,B=function(e,t){var n=t.referComponent,i={children:t.children},a="getSubComponentProps",r=[];if(e.getProps){var o=e.getProps.split(":"),s=f()(o);a=s[0],r=s.slice(1)}Object.assign(i,ne.apply(void 0,[n,a,t.name].concat(d()(r)))||{});for(var c=0,l=Object.keys(e);c<l.length;c++){var u=l[c],p=e[u];["getProps","children"].includes(u)||(i[u]=p)}return i.children=t.children,i},j=function(e,t,n){if(!n.isComponent)throw new Error("class ".concat(e.name," is not a component, please ensure extend BaseComponent"));return Q(n,B(t,e),!1,e.referComponent)},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G(e),n=e.referComponent,i=t.id,a=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),r=l()({},t);i&&(r.name=i),delete r.id,r.style=De({classList:a,name:i,referComponent:n});var o=null!=r.bubbleEvent,c=L[e.name],u=new c(r);if(u.isBubbleEventSet=o,Object.assign(u,{classList:a,referComponent:n,key:t.key||null}),i&&n&&n.getEventHandler(i))for(var d=0,p=Object.keys(n.getEventHandler(i));d<p.length;d++){var f=p[d],h=n.getEventHandler(i)[f];if(f in C){if("video"===e.name){var v,g=s()(h);try{for(g.s();!(v=g.n()).done;){var y=v.value,m="on".concat(f[0].toUpperCase()).concat(f.slice(1)),_=u[m];null==_||_.call(u,y)}}catch(e){g.e(e)}finally{g.f()}}}else{var w,b=s()(h);try{for(b.s();!(w=b.n()).done;){var I=w.value;u.on(f,I)}}catch(e){b.e(e)}finally{b.f()}}}return null!=i&&(S(n)._elementMap[i]=u),u},G=function(e){for(var t={},n=0,i=Object.keys(e.attributes);n<i.length;n++){var a=i[n],r=e.attributes[a],o=(0,g.um)(a);t[o]=r,/\{\{.+\}\}/.test(r)||("true"===r?t[o]=!0:"false"===r?t[o]=!1:"id"===o?t.id=(0,g.um)(r):t[o]=r)}return t},V=function(e){var t=e.constructor.subComponents||[],n="function"==typeof t?t():t;return l()(l()({},n),{},r()({},M,N))},Z=function e(t){if(Array.isArray(t)){var n,i=t.map((function(t){return e(t)})),a={element:null,subComponents:[]},r=s()(i);try{for(r.s();!(n=r.n()).done;){var o,c=n.value,l=c.element,u=c.subComponents;if(l)if(null===a.element&&(a.element=[]),Array.isArray(l))(o=a.element).push.apply(o,d()((0,x.xH)(l)));else a.element.push(l);var p,f=s()(u);try{for(f.s();!(p=f.n()).done;){var h=p.value;a.subComponents.includes(h)||a.subComponents.push(h)}}catch(e){f.e(e)}finally{f.f()}}}catch(e){r.e(e)}finally{r.f()}return a}if(!t)return{element:null,subComponents:[]};var v,g=V(t.referComponent),y=[],m=G(t);if(W(t)){if(!g[t.name])throw new Error("component name ".concat(t.name," does not exists"));var _=j(t,m,g[t.name]);if(!(v=_.getRootElements()))return{element:null,subComponents:[]};y.push(_)}else{var w=U(t,m);t.children.forEach((function(t){var n=e(t),i=n.element,a=n.subComponents;if(i)if(y.push.apply(y,d()(a)),Array.isArray(i)){var r,o=s()(i);try{for(o.s();!(r=o.n()).done;){var c=r.value;w.add(c)}}catch(e){o.e(e)}finally{o.f()}}else w.add(i)})),v=w}return{element:v,subComponents:y}},H=function(e,t){for(var n=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],i=!1,a=0,r=n;a<r.length;a++){var o=r[a];void 0===t[o]&&(t[o]=void 0)}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s],u=t[l];n.includes(l)&&e[l]!==u&&(e[l]=u,i=!0)}return i},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;if(e!==t){if(!i){if(!e||!e.parent)throw new Error("can not find element tree without parent");i=e.parent}if(e&&i.remove(e),t)if(Array.isArray(t)){var a,r=s()(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;i.add(o)}}catch(e){r.e(e)}finally{r.f()}}else i.add(t)}},z=function(e,t){return L[t.name]&&e?e.constructor===L[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name},q=function(e,t){var n=G(t),i=t.referComponent,a=V(i),r=e&&z(e,t);if(!W(t)){var o;if(!t.children||0===t.children.length)return e&&r?(H(e,n),e):U(t,n);if(e&&r)return H(e,n),X(function(e){return Object.keys(e.children).map((function(t){return e.children[t]}))}(e),t.children),e;var s=Z(t),c=s.element,l=s.subComponents;return(o=i.getSubComponents()).push.apply(o,d()(l)),c}var u=null==e?void 0:e.referComponent,p=null==u?void 0:u.constructor;if(u&&p===a[t.name])return Object.assign(S(u).props,B(n,t)),ee(u);var f=i.getSubComponents().indexOf(u);return f>-1&&i.getSubComponents().splice(f,1),u&&ne(u,"destroy"),null==e||e.remove(),j(t,n,a[t.name]).getRootElements()},K=function e(t){return t.reduce((function(t,n){return n.name===M?t.push.apply(t,d()(e(n.children))):t.push(n),t}),[])},X=function(e,t){var n,i=[],a={},r=s()(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.key?a[o.key]=o:i.push(o)}}catch(e){r.e(e)}finally{r.f()}var c,l=s()(K(t));try{for(l.s();!(c=l.n()).done;){var u=c.value,p=u.key,f=null;if(p)a[p]&&(f=a[p],delete a[p]);else for(var h=0,v=Object.keys(i);h<v.length;h++){var g=v[h],y=i[+g];if(y&&z(y,u)){f=y,i.splice(Number(g),1);break}}f||(f=i.shift()||null),e.length&&e[0].parent&&Y(f,q(f,u),e[0].parent)}}catch(e){l.e(e)}finally{l.f()}for(var m=Object.keys(a).reduce((function(e,t){return e.push(a[t]),e}),[]),_=0,w=[].concat(i,d()(m));_<w.length;_++){var b=w[_];null==b||b.remove()}},J=function e(t,n){Array.isArray(t)?t.forEach((function(t){return e(t,n)})):(n(t),t.children.forEach((function(t){return e(t,n)})))},$=function(e,t){J(e,(function(e){e.referComponent||(e.referComponent=t)}))},Q=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new e(t);a.parent=i;var r=a.render(),o="string"==typeof r?v()(r).root:r;$(o,a);var s=Z(o),c=s.element,l=s.subComponents;return S(a)._subComponents=l,c&&(S(a)._rootElement=c,Array.isArray(c)?c.forEach((function(e){e.isRootElementOfComponent=!0})):c.isRootElementOfComponent=!0),ne(a,"ready",c,l),n&&(c&&(Array.isArray(c)?c.forEach((function(e){Ne.add(e),we(e)})):(Ne.add(c),we(c))),F.set(e,a)),a},ee=function(e,t){t&&Object.assign(S(e).props,t);var n=e.getRootElements(),i=e.render(),a="string"==typeof i?v()(i).root:i;return $(a,e),Array.isArray(n)&&Array.isArray(a)?X(n,a):Array.isArray(n)&&!Array.isArray(a)?X(n,[a]):!Array.isArray(n)&&Array.isArray(a)?X([n],a):Array.isArray(n)||Array.isArray(a)||Y(n,q(n,a)),ne(e,"updatedProps"),n},te=function(e){if(!S(e).isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((function(e){return Ne.remove(e)})):Ne.remove(t),S(e)._unmountComponent(),F.delete(e.constructor)},ne=function(e,t){if("function"==typeof e[t]){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e[t].apply(e,i)}return null},ie=(n(74),n(2208)),ae=n.n(ie),re=n(7581),oe=n(708),se=n(8528),ce=["width","height"],le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"column",t=arguments.length>1?arguments[1]:void 0;return["row","column"].indexOf(e)===["width","height"].indexOf(t)},ue=function(e,t){return Math.max(e,t)},de=function(e,t){return e+t},pe=function(e){return{width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}},fe=function(e){return{width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}},he=function(e,t,n){return e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+n:parseFloat(e.slice(0,-1))/100*t+n},ve=function(e,t,n,i,a,r){var o,s=e.parent,c=i[n],l=fe(e)[n],u=t,d=null,p=!1;if(!a&&r>0&&(null==u||r>u)&&(u=r),i.position&&"absolute"===i.position[1]&&null!=u&&(u+=r),c||null==u)c&&"percent"===c[0]&&null!=u?(d=u*c[1]-l,p=!0):c&&"digit"===c[0]&&(d=c[1]-l,p=!0);else if("auto"!==e.style[n])if("absolute"===(null===(o=i.position)||void 0===o?void 0:o[1])){for(var f=0,h=!1,v=0,g="width"===n?["left","right"]:["top","bottom"];v<g.length;v++){var y=g[v];null!=i[y]?"digit"===i[y][0]?f+=Number(i[y][1])||0:"percent"===i[y][0]&&(f+=(Number(i[y][1])||0)*u):h=!0}d=h?null:u-f}else a&&le(s.style.flexDirection,n)&&e.style.flex>0?d=null:(function(e){return(0,oe.MJ)(e).some((function(e){return null!=e.style.flex&&e.style.flex>0}))}(e)&&(p=!0),d=u-l);return null!=d&&(e.autoFitSize[n].size=d),p},ge=function e(t){var n=(0,oe.ex)(t),a=fe(t);t.autoFitSize={width:{size:null,margin:0,padding:a.width},height:{size:null,margin:0,padding:a.height}};var r,o=t.parent,c=Oe(De(t)),l={width:!1,height:!1},u={width:null,height:null},d=s()(ce);try{for(d.s();!(r=d.n()).done;){var p=r.value,f=c[p],h=n?"width"===p?re.S.screenWidth:re.S.screenHeight:o.autoFitSize[p].size,v=n?0:o.autoFitSize[p].padding;!f&&n&&"height"===p&&(h=null),l[p]=ve(t,h,p,c,!0,v)}}catch(e){d.e(e)}finally{d.f()}me(t,c);var g,y=fe(t),m="wrap"===t.style.flexWrap,_=[],w=s()((0,oe.MJ)(t));try{for(w.s();!(g=w.n()).done;){var b=g.value;e(b);var I=pe(b);if("absolute"!==b.style.position){var E,T=s()(ce);try{for(T.s();!(E=T.n()).done;){var k=E.value,A=le(t.style.flexDirection,k);if(m){if(A){var C="width"===k?"height":"width";_.push([(b.autoFitSize[k].size||0)+b.autoFitSize[k].padding+I[k],(b.autoFitSize[C].size||0)+b.autoFitSize[C].padding+I[C]])}}else{var S=A?de:ue;null==b.autoFitSize[k].size&&b.autoFitSize[k].padding<=0&&S===de&&(l[k]=!0),u[k]=S((b.autoFitSize[k].size||0)+b.autoFitSize[k].padding+I[k],u[k]||0)}}}catch(e){T.e(e)}finally{T.f()}}}}catch(e){w.e(e)}finally{w.f()}if(m){var x=0,P=0,D=0,R=0,O=le(t.style.flexDirection,"width")?"width":"height",N="width"===O?"height":"width";R=l[O]&&null!=t.style[O]?t.style[O]:_.reduce((function(e,t){return e+ae()(t,1)[0]}),0);var M,L=s()(_);try{for(L.s();!(M=L.n()).done;){var W=ae()(M.value,2),F=W[0],B=W[1];D=Math.max(D,B),F+x>R?(P+=D,D=B,x=F):x+=F}}catch(e){L.e(e)}finally{L.f()}P+=D,u[O]=x,u[N]=P}t instanceof i.xv&&(null!=t.autoFitSize.height.size&&l.height||Object.assign(t.autoFitSize.height,{size:t.style.lineHeight||t.style.fontSize||0,padding:y.height}),null!=t.autoFitSize.width.size&&l.width||Object.assign(t.autoFitSize.width,{size:se.Z.getTextWidth(t.value,t.style.fontSize||14)+3,padding:y.width}));var j,U=s()(ce);try{for(U.s();!(j=U.n()).done;){var G=j.value;l[G]||null===u[G]?y[G]>0&&(t.autoFitSize[G].padding=y[G]):Object.assign(t.autoFitSize[G],{size:null!=u[G]?u[G]:null,padding:y[G]})}}catch(e){U.e(e)}finally{U.f()}},ye=function e(t){var n,a=(0,oe.MJ)(t),r=s()(ce);try{for(r.s();!(n=r.n()).done;){var o=n.value,c=le(t.style.flexDirection,o),l=t.autoFitSize[o].size,u=t.autoFitSize[o].padding;if(null!=l||u){l=l||0;var d,p=0,f=0,h=s()(a);try{for(h.s();!(d=h.n()).done;){var v=d.value,g=v.autoFitSize[o],y=g.size,m=g.margin,_=g.padding;"absolute"!==v.style.position&&(null!=y?p+=y+_+m:v.style.flex&&v.style.flex>0&&(f+=Number(v.style.flex)))}}catch(e){h.e(e)}finally{h.f()}var w,b=s()(a);try{for(b.s();!(w=b.n()).done;){var I,E=w.value,T=Oe(De(E)),k=null;c?k=E.style.flex?(l-p)/ue(f,1)*E.style.flex:null:t.style.alignItems&&"stretch"!==t.style.alignItems||(k=l),null==E.autoFitSize[o].size&&k?ve(E,k,o,T,!1,u):"absolute"===(null===(I=T.position)||void 0===I?void 0:I[1])&&ve(E,l,o,T,!1,u)}}catch(e){b.e(e)}finally{b.f()}}}}catch(e){r.e(e)}finally{r.f()}var A,C=s()(a);try{for(C.s();!(A=C.n()).done;){e(A.value)}}catch(e){C.e(e)}finally{C.f()}var S,x=s()(ce);try{for(x.s();!(S=x.n()).done;){var P=S.value,D=t.autoFitSize[P],R=D.size,O=D.padding;null!=R&&t.style[P]!==R+O&&(t.style[P]=R+O)}}catch(e){x.e(e)}finally{x.f()}t instanceof i.xv&&null==t.style.lineHeight&&(t.style.lineHeight=t.style.height)},me=function(e,t){for(var n=e.autoFitSize.width.size,i=e.autoFitSize.height.size,a=0,r=Object.keys(t);a<r.length;a++){var o=r[a],s=t[o];"percent"===s[0]?"horizontal"===Ie[o]&&null!=n?e.style[o]=s[1]*n:"vertical"===Ie[o]&&null!=i&&(e.style[o]=s[1]*i):"normal"===s[0]&&(e.style[o]=s[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=he(t.transform[1][0],n||0,e.style.left||0),e.style.top=he(t.transform[1][1],i||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},_e=function e(t){var n,i=[["width","left"],["height","top"]],a=s()((0,oe.MJ)(t));try{for(a.s();!(n=a.n()).done;){var r=n.value;e(r);var o,c=s()(i);try{for(c.s();!(o=c.n()).done;){var l,u=ae()(o.value,2),d=u[0],p=u[1];if((r.style.position||null!==(l=r.expandAbsoluteSize)&&void 0!==l&&l.has(d))&&"hidden"!==t.style.overflow){var f=(r.style[d]||0)+(r.style[p]||0);f>(t.style[d]||0)&&(t.style[d]=f,t.expandAbsoluteSize=t.expandAbsoluteSize||new Set,t.expandAbsoluteSize.add(d))}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}},we=function(e){ge(e),ye(e),_e(e)},be=function(e){return Number(e).toString()===e},Ie={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizonta",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},Ee=/^\s*#[0-9a-fA-F]{3}\s*$/,Te=/^\s*#[0-9a-fA-F]{3,6}\s*$/,ke=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,Ae=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,Ce=/px$/,Se=function(e){return"number"==typeof e?e:Ce.test(e)?Number(e.replace(Ce,""))||0:be(e)?parseInt(e,10):e},xe=function(e){if("string"==typeof e&&Ee.test(e)){var t=e.slice(1),n=ae()(t,3),i=n[0],a=n[1],r=n[2];return"#".concat(i).concat(i).concat(a).concat(a).concat(r).concat(r)}return e},Pe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],o=e[a];if(["padding","margin"].includes(a)){var s,c=Array.isArray(o)?o:(null==o?"":o).toString().split(/\s+/),l=null,u=null,d=null,p=null;switch(c.length){case 0:continue;case 1:var f=ae()(c,1);l=f[0];var h=ae()(c,1);u=h[0];var v=ae()(c,1);d=v[0];var g=ae()(c,1);p=g[0];break;case 2:var y=ae()(c,2);l=y[0],u=y[1];var m=ae()(c,2);d=m[0],p=m[1];break;case 3:var _=ae()(c,3);l=_[0],u=_[1],d=_[2],p=u;break;case 4:var w=ae()(c,4);l=w[0],p=w[1],d=w[2],u=w[3];break;default:continue}Object.assign(t,(s={},r()(s,"".concat(a,"Top"),Se(l)),r()(s,"".concat(a,"Left"),Se(u)),r()(s,"".concat(a,"Bottom"),Se(d)),r()(s,"".concat(a,"Right"),Se(p)),s))}else if("border"===a){var b=(o||"").toString().split(/\s+/);switch(b.length){case 0:continue;case 1:t.borderColor=xe(b[0]);continue;case 2:t.borderWidth=Se(b[0]),t.borderColor=xe(b[1]);continue;case 3:t.borderWidth=Se(b[0]),t.borderColor=xe(b[2]);continue;default:continue}}else if("background"===a&&Te.test(e[a]))t.backgroundColor=xe(e[a]);else if("background"===a&&(ke.test(e[a])||Ae.test(e[a])))t.backgroundColor=e[a];else if("background"===a&&e[a].includes("linear-gradient"))t.backgroundColor=e[a];else if("color"===a&&"string"==typeof o&&Ae.test(o)){var I=Ae.exec(o).slice(1,5).map((function(e){return Number(e)})),E=ae()(I,4),T=E[0],k=E[1],A=E[2],C=E[3],S=function(e){return e.toString(16)};t.color="#".concat(S(T)).concat(S(k)).concat(S(A)),null==e.opacity&&(t.opacity=Number(C))}else if("display"===a&&"none"===e[a])t.hidden=!0;else if("rotate"===a){var x=e[a];t.rotate="string"==typeof x?Number(x.replace("deg",""))||0:x}else t[a]=xe(Se(e[a]))}return t},De=function(e){var t=S(e.referComponent);if(!t)return Object.assign({},e.style||{});var n,i={},a=t.style||{},r=s()(e.classList||[]);try{for(r.s();!(n=r.n()).done;){var o=n.value;Object.assign(i,Pe(a[o])),Object.assign(i,Pe(a[".".concat(o)]))}}catch(e){r.e(e)}finally{r.f()}return a[e.name]&&Object.assign(i,Pe(a[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(i,Pe(t._manualStyle[e.name])),i},Re={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},Oe=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],r=e[a];if(null!=r){var o=r.toString().trim();if((Ie[a]||["width","height"].includes(a))&&Re.percent.test(o)){var s=parseFloat(o.slice(0,-1))/100;t[a]=["percent",s]}else if(be(o))t[a]=["digit",Number(o)];else if("transform"===a&&o.includes("translate")){var c=Re.translate.exec(o);c&&(t[a]=["transform",c.slice(1,3)])}else t[a]="string"==typeof r?["normal",o]:["normal",r]}}return t},Ne=i.uo},74:()=>{},7581:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});n(8947),n(968),n(708),n(6301);var i={}},7871:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var i=n(7163),a=n.n(i),r=n(4742),o=n.n(r),s=n(7541),c=n.n(s),l=function(e){o()(n,e);var t=c()(n);function n(){return a()(this,n),t.apply(this,arguments)}return n}(n(7937).Z)},3595:(e,t,n)=>{"use strict";n.d(t,{ei:()=>d,Ee:()=>f,Zw:()=>h,U2:()=>v,xH:()=>g,Xh:()=>y});var i=n(572),a=n.n(i),r=n(3379),o=n.n(r),s=n(9727),c=n.n(s),l=n(8676),u=n.n(l),d=function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},p=function(e){return e&&"object"===u()(e)&&!Array.isArray(e)};function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var a=n.shift();if(p(e)&&p(a))for(var r=0,o=Object.keys(a);r<o.length;r++){var s=o[r];p(a[s])?(e[s]||Object.assign(e,c()({},s,{})),f(e[s],a[s])):Object.assign(e,c()({},s,a[s]))}return f.apply(void 0,[e].concat(n))}var h=function(e){for(var t=new Set,n=e;n;){var i,r=o()(Object.getOwnPropertyNames(n));try{for(r.s();!(i=r.n()).done;){var s=i.value;t.add(s)}}catch(e){r.e(e)}finally{r.f()}n=Object.getPrototypeOf(n)}return a()(t)},v=function(e,t,n){for(var i="string"==typeof t?t.split("."):t,a=e,r=0;a&&r<i.length;)a=a[i[r]],r+=1;return a||n},g=function e(t){return t.reduce((function(t,n){return Array.isArray(n)?t.push.apply(t,a()(e(n))):t.push(n),t}),[])},y=function(e){return JSON.parse(JSON.stringify(e))}},708:(e,t,n)=>{"use strict";n.d(t,{a3:()=>_,Xh:()=>i.Xh,U2:()=>i.U2,Ze:()=>d,_t:()=>I,Zw:()=>i.Zw,Wz:()=>m,MJ:()=>l,gC:()=>A,Ie:()=>k,ex:()=>s,Ee:()=>i.Ee,ei:()=>i.ei,zJ:()=>u});var i=n(3595),a=n(3379),r=n.n(a),o=n(5889),s=function(e){var t;return e.parent===o.A||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)},c=function(e){return Object.keys(e.children).map((function(t){return e.children[t]}))},l=function(e){return c(e).filter((function(e){return!0!==(null==e?void 0:e.style.hidden)}))},u=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"downward";"downward"===i&&n(t);var a,o=r()(c(t));try{for(o.s();!(a=o.n()).done;){var s=a.value;e(s,n,i)}}catch(e){o.e(e)}finally{o.f()}"upward"===i&&n(t)},d=function(e,t){var n,a=r()(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.path,c=o.value,l=o.condition;if(void 0===l||l){var u=c||(s?(0,i.U2)(e,s):"");if(u)return u}}}catch(e){a.e(e)}finally{a.f()}return null},p=n(2208),f=n.n(p),h=63,v=function(e){var t=e.toString(16).toUpperCase();return t.length<2?"%0".concat(t):"%".concat(t)},g=function(e){if(!e)return"";var t,n=String(e),i=[],a=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/,o=r()(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.match(a)){var c=s.codePointAt?s.codePointAt(0):s.charCodeAt(0);c<128?i.push(v(c)):c<2048?i.push([v(192+(c>>6)),v(128+(c&h))].join("")):c<65536?i.push([v(224+(c>>12)),v(128+(c>>6&h)),v(128+(c&h))].join("")):c<2097152&&i.push([v(240+(c>>18)),v(128+(c>>12&h)),v(128+(c>>6&h)),v(128+(c&h))].join(""))}else i.push(s)}}catch(e){o.e(e)}finally{o.f()}return i.join("")},y=function(e){if(!e)return"";for(var t=function(e){if(!e)throw new Error("invalid text")},n=function(e){return String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e)},i=e.replace(/%[a-fA-F0-9]{2}/gi,(function(e){return String.fromCharCode(parseInt(e.replace("%",""),16))})),a=0,r="";a<i.length;){var o=i.charCodeAt(a);if(o<128)r+=n(o),a+=1;else if(o>=192&&o<224){t(a+1<i.length),r+=n((31&o)<<6|i.charCodeAt(a+1)&h),a+=2}else if(o<240){t(a+2<i.length);var s=i.charCodeAt(a+1),c=i.charCodeAt(a+2);r+=n((15&o)<<12|(s&h)<<6|c&h),a+=3}else{t(a+3<i.length);var l=i.charCodeAt(a+1),u=i.charCodeAt(a+2),d=i.charCodeAt(a+3);r+=n([(7&o)<<18,(l&h)<<12,(u&h)<<6,d&h].reduce((function(e,t){return e|t}),0)),a+=4}}return r},m=function(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,i=e.substring(n);i.indexOf("#")>-1&&(i=i.substring(0,i.indexOf("#")));var a,o=i.split("&"),s=r()(o);try{for(s.s();!(a=s.n()).done;){var c=a.value.split("="),l=f()(c,2),u=l[0],d=l[1];t[u]=y(d)}}catch(e){s.e(e)}finally{s.f()}}return t},_=function(e,t){if(!e)return"";if(!t)return e;var n=e.split("#"),i=n[0].indexOf("?")>-1?"&":"?",a="",o=Object.keys(t);if(o.length>0){var s,c=r()(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;a=a.concat("".concat(l,"=").concat(g(t[l]),"&"))}}catch(e){c.e(e)}finally{c.f()}return a.length>0&&(a=a.substring(0,a.length-1)),n[0]+i+a+(n[1]?"#".concat(n[1]):"")}return e},w=n(6301),b=n(8947),I=function(){var e=(0,w.Ew)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":b.Z.deviceOrientation&&/^landscape/.test(b.Z.deviceOrientation)?"landscape":b.Z.deviceOrientation||"portrait"},E=n(2900),T=function(e){return e===E.LiveVideoMode.LIVE},k=function(e,t){return T(e)&&t===E.LiveVideoSubMode.ROOM},A=function(e,t){return T(e)&&t===E.LiveVideoSubMode.RESERVATION}},3769:(e,t,n)=>{"use strict";n.d(t,{op:()=>Q,OP:()=>fe,O5:()=>he,al:()=>oe,vA:()=>ie,P1:()=>se,dK:()=>J,kq:()=>U,oh:()=>Y,Mp:()=>V,DX:()=>X,jO:()=>ne});var i=n(1503),a=n.n(i),r=n(7163),o=n.n(r),s=n(5843),c=n.n(s),l=n(7615),u=n.n(l),d=n(3646),p=n.n(d),f=n(862),h=n.n(f),v=n(4742),g=n.n(v),y=n(7541),m=n.n(y),_=n(2208),w=n.n(_),b=n(9727),I=n.n(b),E=n(3356),T=n.n(E),k=n(3379),A=n.n(k),C=n(7015),S=n.n(C),x=n(8392),P=n(5889),D=n(9390),R=n(708),O=n(2363),N=n(8068),M=n(2958),L=n(8528),W=n(5223),F={},B=O.iw,j=function(e){g()(r,e);var t,n,i=m()(r);function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.autoRegister,s=void 0===a||a;o()(this,r),(t=i.call(this,e)).adCustomId=void 0,t.adProxy=void 0,t.adData=void 0,t.adDatas=void 0,t.template=void 0,t.manager=void 0,t.reporter=void 0,t.emitter=void 0,t.id=void 0,t.options=void 0,t.data=void 0,t.events=void 0,t.lifecycle=void 0,t.innerStyles=void 0,t.animations=void 0,t.idPrefix=void 0,t.forType=void 0,t.forItem=void 0,t.forIndex=void 0,t.ratio=1,t.tplConfig=null,t.bubbleEvent=void 0,t.adCustomListener=null,t.clickCallbackMap=new WeakMap,t.handleCommonClick=function(e){t.doActions(t.events.tap,{event:e})},t.handleAdCustomAction=function(e){e.targetid===t.id&&t.doCommonAction(e)},t.adCustomId=e.adCustomId,t.adProxy=e.adProxy,t.adData=e.adData,t.adDatas=e.adDatas,t.manager=e.manager,t.reporter=e.reporter,t.emitter=e.emitter,t.idPrefix=e.idPrefix||"",t.forType=e.forType||M.bk.NONE,t.forItem=e.forItem,t.forIndex=e.forIndex,e.ratio&&(t.ratio=e.ratio),t.checkSize();var c=e.template||{};t.template=c,t.id="".concat(t.adCustomId,"-").concat(t.idPrefix).concat(t.template.id);var l=c.options||{};t.options=l,t.data=l.data||{},t.events=l.events||{},t.lifecycle=l.lifecycle||{},t.innerStyles=l.innerStyles||{},t.animations=l.animations||{},t.bubbleEvent=void 0===l.bubbleEvent||l.bubbleEvent;var u=t.getDataValue("_bubbleEvent");return void 0!==u&&(t.bubbleEvent=u),s&&t.bindCommonEvents(),t}return c()(r,[{key:"ready",value:function(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}},{key:"updatedProps",value:function(){this.updateBubbleEvent()}},{key:"destroy",value:function(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}},{key:"bindCommonEvents",value:function(){this.onClick("container",this.handleCommonClick),this.emitter.on("adCustomAction",this.handleAdCustomAction)}},{key:"getCommonSubComponentProps",value:function(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope}}},{key:"getDataValue",value:function(e,t,n){var i=t||this.data,a=i["".concat(e,"Expr")];return a?this.run(a,null==n?void 0:n.args):i[e]}},{key:"getDataValueWithDefault",value:function(e,t,n,i){var a=n?this.getDataValue(e,n,i):this.getDataValue(e);return void 0===a?t:a}},{key:"getAdData",value:function(){return this.forType===M.bk.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}},{key:"getAdDatas",value:function(){return this.adDatas||[]}},{key:"addAdCustomListener",value:function(e){var t=this;this.removeAdCustomListener(),this.adCustomListener=function(n){n.adCustomId===t.adCustomId&&(null==e||e(n))},this.emitter.on("adCustomEvent",this.adCustomListener)}},{key:"removeAdCustomListener",value:function(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}},{key:"setRatio",value:function(e){this.ratio=e}},{key:"checkSize",value:function(){var e,t,n=this.template;if(!n||"root"===n.type){this.tplConfig=(null==n?void 0:n.tplConfig)||{};var i=this.props.adPosition||{};if(this.tplConfig){var a,r,o=this.tplConfig,s=(this.props.adPosition||{}).width;if(null==s)s=(null===(a=this.props)||void 0===a||null===(r=a.systemInfo)||void 0===r?void 0:r.screenWidth)||W.S3.screenWidth;s=Number(s);var c=o.minWidth||0,l=o.maxWidth||0,u=o.baseWidth||375,d=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||W.S3.screenWidth,Math.max(c,s));l&&(d=Math.min(d,l)),0===d&&this.setRatio(u/u),i.width=d,this.setRatio(d/u)}}}},{key:"emitAdCustomEvent",value:function(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}},{key:"emitComponentEvent",value:function(e,t){var n=this.events[e];null!=n&&n.length&&this.doActions(n,t||{})}},{key:"emitComponentLifeCycle",value:function(e,t){var n=this.lifecycle[e];null!=n&&n.length&&this.doActions(n,t)}},{key:"doActions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=A()(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.force&&!a.targetid?this.doCommonAction({args:n,payload:a}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a.targetid?"".concat(this.adCustomId,"-").concat(a.targetid):this.id,args:n,payload:a})}}catch(e){i.e(e)}finally{i.f()}}},{key:"doCommonAction",value:function(e){var t=this,n=e.payload,i=e.args,a=n.delay,r=void 0===a?0:a,o=n.expr,s=void 0===o?void 0:o,c=function(){if(!s||t.run(s,i))switch(n.action){case M.aO.SETSTYLE:var a=n.value;if(a.styleExpr)for(var r=0,o=Object.keys(a.styleExpr);r<o.length;r++){var c=o[r];a.style[c]=t.run(a.styleExpr[c],i)}t.setStyle(a.id,a.style);break;case M.aO.SETEXPRVARS:var l=n.value.key,u=t.getDataValue("value",n.value);t.getExprInnerVars()[l]=u;break;case M.aO.REPORTIDKEY:break;case M.aO.TRIGGEREVENT:var d=n.value,p=d.detail,f=void 0===p?{}:p,h=d.eventName;try{if(null!=i&&i.event&&(f.rawDetail=JSON.stringify(i.event)),n.value.detailExpr)for(var v=0,g=Object.keys(n.value.detailExpr);v<g.length;v++){var y=g[v],m=n.value.detailExpr[y];f[y]=t.run(m,i)}}catch(e){}t.emitAdCustomEvent(M.A$.TRIGGEREVENT,{eventName:h,detail:f});break;case M.aO.REPORTMMDATA:var _=n.value,w=_.data,b=_.dataExpr,I=_.id;if(b)for(var E=0,T=Object.keys(b);E<T.length;E++){var k=T[E],A=b[k];w[k]=t.run(A,i)}t.emitAdCustomEvent(M.A$.REPORTMMDATA,{id:I,data:w});break;case M.aO.ANIMATE:var C=n.value,S=C.id,x=C.animation;t.doAnimation({id:S,animationName:x});break;case M.aO.TRIGGERBTNCLICK:var P,D=null==i?void 0:i.event;if(D)t.emitAdCustomEvent(M.A$.BTNTAP,{event:D,isHandleDownload:(null===(P=n.value)||void 0===P?void 0:P.isHandleDownload)||!1});break;case M.aO.LANDAD:var R=null==i?void 0:i.event;R&&t.emitAdCustomEvent(M.A$.LANDAD,{index:t.getDataValueWithDefault("index",0,n.value,{args:i}),event:R});break;case M.aO.SPLASHSKIPAD:var O=null==i?void 0:i.event;O&&t.emitAdCustomEvent(M.A$.SPLASHSKIPAD,{event:O});break;case M.aO.REPORTADMONITORDATA:var N=n.value,L=N.id,W=N.key,F=t.getDataValue("extInfo",n.value,{args:i});t.emitAdCustomEvent(M.A$.REPORTADMONITORDATA,{id:L,key:W,extInfo:F});break;case M.aO.REWARDEDVIDEODYNAMIC:var B=n.value.list;t.emitAdCustomEvent(M.A$.REWARDEDVIDEODYNAMIC,{list:B});break;default:"doAction"in t&&"function"==typeof t.doAction&&t.doAction(e)}};r?setTimeout(c,r):c()}},{key:"run",value:function(e,t){var n=this.getInnerFunction(),i=a()(a()({},this.getScope()),n);return(0,D.K)(e,t?a()({$args:t},i):i,n)}},{key:"getElementById",value:function(e){if(!e){var t,n,i=null!==(t=null===(n=this.getRootElement())||void 0===n?void 0:n.parent)&&void 0!==t?t:null;return i===P.A?this.getRootElement():i}return"$$"===e?this.getRootElement():p()(h()(r.prototype),"getElementById",this).call(this,e)}},{key:"doAnimation",value:(n=T()(S().mark((function e(t){var n,i,o,s,c,l,u,d,p,f,h,v,g,y,m,_,w,b,I,E,T,k,A,C,x;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.emitEvent,o=void 0===i||i,s=t.animationName,c=t.animation,l=!c&&s?this.animations[s]:c,u=this.getElementById(n),l&&u){e.next=5;break}return e.abrupt("return");case 5:if(d=l.keys,p=l.duration,f=l.easing,!(((null==d?void 0:d.length)||0)<2)){e.next=9;break}return e.abrupt("return");case 9:h=0,v=0,g=Object.keys(d);case 11:if(!(v<g.length)){e.next=31;break}if(y=g[v],m=d[+y],_=m.offset,w=m.opacity,b=m.left,I=m.top,E=m.rotate,T=m.scaleX,k=m.scaleY,A=p*_,C=(0,P.convertStyle)({opacity:w,left:b,top:I,rotate:E,scaleWidth:T,scaleHeight:k}),!(A<=0)){e.next=22;break}return e.next=20,this.setStyle(n,C);case 20:e.next=28;break;case 22:return(x=a()(a()({},C),{},{easing:f,duration:A-h})).left=C.left,x.top=C.top,e.next=27,r.animate(u,x);case 27:h=A;case 28:v++,e.next=11;break;case 31:if(!s||!o){e.next=34;break}return e.next=34,this.emitComponentEvent(M.H.ANIMATIONEND,{animation:s});case 34:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateInnerStyle",value:function(){if(this.innerStyles)for(var e=0,t=Object.keys(this.innerStyles);e<t.length;e++){var n=t[e],i=this.innerStyles[n];i.expr&&!this.run(i.expr)||this.updateStyle(i.style,n)}}},{key:"setStyle",value:(t=T()(S().mark((function e(t,n){var i,a,o,s,c,l,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getDataValue("_useApx")?this.convertToApxRatio(n):n,"$$"===(a=t)&&(a=null===(o=this.getRootElement())||void 0===o?void 0:o.name),!i){e.next=11;break}for(s=0,c=Object.keys(i);s<c.length;s++)l=c[s],i[l]=this.convertApxStyle(i[l]);if(!a){e.next=10;break}return e.next=8,p()(h()(r.prototype),"setStyle",this).call(this,a,i);case 8:e.next=11;break;case 10:null===(u=this.parent)||void 0===u||u.setStyle("container",i);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"convertApxStyle",value:function(e){var t=this;return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,(function(e,n){return"".concat(Number(n*t.ratio),"px")})):e}},{key:"updateStyle",value:function(e,t){if(e)for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],r=a,o=e[a];if(a.includes("Expr")){var s=a.split("Expr");if(2===s.length)r=w()(s,1)[0],o=this.run(o)}this.setStyle(t,I()({},r,o))}}},{key:"removeInnerStyle",value:function(){if(this.innerStyles)for(var e=0,t=Object.keys(this.innerStyles);e<t.length;e++){var n=t[e],i=this.innerStyles[n];this.removeStyle(i.style,n)}}},{key:"removeStyle",value:function(e,t){if(e)for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];this.setStyle(t,I()({},a,null))}}},{key:"getScope",value:function(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}},{key:"getExprInnerVars",value:function(){return void 0===F[this.adCustomId]&&(F[this.adCustomId]={}),F[this.adCustomId]}},{key:"getInnerFunction",value:function(){var e=this.getExprInnerVars();return{"#getVar":function(t){return e[t]},"#measureText":function(e,t){return L.Z.getTextWidth(e,t)}}}},{key:"updateBubbleEvent",value:function(){var e=this.getRootElement();e&&(0,R.zJ)(e,(function(e){if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}},{key:"onClick",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.handleTriggerClick,o=void 0===a||a,s=i.handleClickLimit,c=void 0===s||s,l=i.isReport,u=void 0!==l&&l,d=i.clickType,f=void 0===d?0:d,v=function(e){null!==n.reporter&&(o&&!n.reporter.judgeTriggerClick(e,u)||c&&n.reporter.isClickLimit(e,f))||t(e)};return this.clickCallbackMap.set(t,v),p()(h()(r.prototype),"onClick",this).call(this,e,v)}},{key:"offClick",value:function(e,t){return this.clickCallbackMap.has(t)?p()(h()(r.prototype),"offClick",this).call(this,e,this.clickCallbackMap.get(t)):p()(h()(r.prototype),"offClick",this).call(this,e,t)}},{key:"checkUseApx",value:function(){if(this.getDataValue("_useApx"))for(var e=0,t=Object.keys(this.style);e<t.length;e++){var n=t[e];this.style[n]=this.convertToApxRatio(this.style[n])}}},{key:"convertToApxRatio",value:function(e){for(var t=this.ratio,n=/(\d+)px/g,i={},a=0,r=Object.keys(e);a<r.length;a++){var o=r[a];if(null!==M.fc&&void 0!==M.fc&&M.fc.includes(o)){var s=e[o],c=s;"number"==typeof s?c=s*t:"string"==typeof s?c=s.replace(n,(function(e,n){var i=Number(n);return Number.isNaN(i)?e:"".concat(i*t,"px")})):Array.isArray(s)&&null!=s&&s.every((function(e){return"number"==typeof e}))&&(c=s.map((function(e){return e*t}))),i[o]=c}else i[o]=e[o]}return i}}],[{key:"animate",value:function(e,t){var n=t.left,i=t.top,a=t.scaleWidth,r=t.scaleHeight,o=t.opacity,s=t.rotate,c=void 0===s?0:s,l=t.easing,u=void 0===l?"ease-in":l,d=t.duration,p=void 0===d?500:d,f=new Promise((function(t,s){(0,x.IN)("animateCoverView",{dest:e.dest,viewId:e.id,easing:u,duration:p,finalStyle:{left:n,top:i,opacity:o,rotate:c,scaleX:a,scaleY:r},success:t,fail:s})}));return"devtools"===B&&(f=Promise.all([f,(0,N.Vs)(p)])),f}}]),r}(P.Component),U=function(e){g()(n,e);var t=m()(n);function n(e){var i,a;if((o()(this,n),(i=t.call(this,e,{autoRegister:!1})).style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},i.isShow=void 0,i.isLinearGradient=!1,i.isLinearGradientReverse=!1,i.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",i.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,i.isShow=i.getDataValueWithDefault("_isShow",!0),i.isShow)&&("feedback"===i.template.type?i.setStyle("container",{display:"inline-block"}):"end"===i.template.type&&i.setStyle("container",{display:"none"}),i.updateStyle(i.template.style||{},"container"),null!==(a=i.template.style)&&void 0!==a&&a.background)){var r=i.linearGradientRe.exec(i.template.style.background.replace(/ /g,""));if(r){var s=r.slice(1),c=w()(s,2),l=c[0],u=c[1];i.isLinearGradient=!0,Number(l)>Number(u)&&(i.isLinearGradientReverse=!0)}}return i}return c()(n,[{key:"getSubComponentProps",value:function(){return this.getCommonSubComponentProps()}},{key:"render",value:function(){var e=this.props.template,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t="Custom".concat(e.type[0].toUpperCase()).concat(e.type.slice(1))),this.isShow&&t?'\n      <view id="container">\n        '.concat(this.isLinearGradient?'\n          <image id="linear-gradient" class="'.concat(this.isLinearGradientReverse?"reverse":"",'" src="').concat(this.linearGradientSrc,'"></image>\n        '):"","\n        <").concat(t,"></").concat(t,">\n      </view>\n    "):'<view id="blank"></view>')}}]),n}(j);U.subComponents=function(){return{CustomLayout:Y,CustomText:X,CustomImage:J,CustomButton:Q,CustomVideo:ne,CustomFeedback:ie,CustomEnd:oe,CustomFor:se,CustomCarousel:fe,CustomCountdown:he}};var G=n(4642),V=function(e){g()(n,e);var t=m()(n);function n(e){var i,a,r,s;o()(this,n),(s=t.call(this,e)).style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},s.state={hidden:!0},s.isFullScreen=void 0,s.useDefaultFeedback=void 0,s.exposureUntilVideoPlay=void 0,s.exportAid=void 0,s.enableTimer=void 0,s.hideAfterLanding=void 0,s.isMulti=void 0,s.isWidthRequired=void 0,s.multiShowList=void 0,s.show=function(){s.setStyle("body",{hidden:!1,opacity:1}),s.emitAdCustomEvent(M.A$.CHECKEXPOSURE)},s.hide=function(){s.setStyle("body",{hidden:!0,opacity:0}),s.emitAdCustomEvent(M.A$.CHECKEXPOSURE)},s.showFeedback=function(){u()(s).useDefaultFeedback&&(s.setStyle("tipContainer",{hidden:!1}),setTimeout((function(){s.setStyle("tipContainer",{hidden:!0})}),3e3))},s.handleEnterForeground=function(){s.emitComponentEvent(M._d.APPENTERFOREGROUND),s.emitAdCustomEvent(M.A$.APPENTERFOREGROUND)},s.handleEnterBackground=function(){s.emitComponentEvent(M._d.APPENTERBACKGROUND),s.emitAdCustomEvent(M.A$.APPENTERBACKGROUND)},s.handleContainerClick=function(e){var t,n;null!==(t=s.manager)&&void 0!==t&&t.isMulti||(s.emitComponentEvent(M._d.CONTAINERTAP),null===(n=s.reporter)||void 0===n||n.handleClick(e,2))},s.isFullScreen=s.getDataValueWithDefault("isFullScreen",!1),s.enableTimer=s.getDataValueWithDefault("enableTimer",!0),s.useDefaultFeedback=s.getDataValueWithDefault("useDefaultFeedback",!0),s.exposureUntilVideoPlay=s.getDataValueWithDefault("exposureUntilVideoPlay",!1),s.hideAfterLanding=s.getDataValueWithDefault("hideAfterLanding",!1),s.exportAid=s.getDataValueWithDefault("exportAid",!1),s.isMulti=null!==(i=null===(a=s.template)||void 0===a||null===(r=a.tplConfig)||void 0===r?void 0:r.isMulti)&&void 0!==i&&i,s.isWidthRequired=s.getDataValueWithDefault("isWidthRequired",!1),s.multiShowList=s.getDataValue("multiShowList"),s.bindEvent(),s.updateInnerStyle(),s.updateStyle(s.template.style||{},"container");var c=["left","top"];return!W.S3.isWaGame&&c.push("fixed"),s.isWidthRequired&&c.push("width"),!s.isFullScreen&&e.adPosition&&s.setStyle("body",(0,R.ei)(e.adPosition,c)),s}return c()(n,[{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this),this.unbindEvent()}},{key:"ready",value:function(e){p()(h()(n.prototype),"ready",this).call(this,e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}},{key:"getCustomItemProps",value:function(e,t){return a()(a()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}},{key:"bindEvent",value:function(){(0,G.dN)(this.handleEnterForeground),(0,G.vv)(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}},{key:"unbindEvent",value:function(){(0,G.Tb)(this.handleEnterForeground),(0,G.b$)(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}},{key:"getRootData",value:function(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}},{key:"doAction",value:function(e){var t,n,i=e.payload,a=e.args;if(i.action===M.aO.HIDEAD)"value"in i&&i.value.preventClose?null===(t=this.manager)||void 0===t||t.hide(!0):null===(n=this.manager)||void 0===n||n.hide();else if(i.action===M.aO.RELOADAD){var r;null===(r=this.manager)||void 0===r||r.reload()}else i.action===M.aO.CHANGEMULTISHOW&&(i.value.listExpr?this.emitAdCustomEvent(M.A$.CHANGEMULTISHOW,{list:this.run(i.value.listExpr,a)}):i.value.list?this.emitAdCustomEvent(M.A$.CHANGEMULTISHOW,{list:i.value.list}):null!=a&&a.list&&this.emitAdCustomEvent(M.A$.CHANGEMULTISHOW,{list:a.list}))}},{key:"isShow",value:function(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}},{key:"render",value:function(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var e=this.props.template,t=this.isFullScreen,n=this.useDefaultFeedback;return'\n      <view id="body" class="'.concat(t?"full-size":"",'">\n        ').concat(e?'\n          <view id="container" class="wx-ad-custom '.concat(t?"full full-size":"",'">\n            ').concat(e.children.map((function(e,t){return'\n              <CustomItem get-props="getCustomItemProps:'.concat(t,'"></CustomItem>\n            ')})).join("\n"),"\n          </view>\n          ").concat(n?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':"","\n        "):"","\n      </view>\n    ")}}]),n}(j);V.subComponents={CustomItem:U};var Z=n(572),H=n.n(Z),Y=function(e){g()(n,e);var t=m()(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).state={children:[]},i.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},i.baseType=void 0,i.classRow=!1,i.classColumn=!1,i.baseType=i.options.baseType||M.BB.COMMON,i.baseType===M.BB.ROW?i.classRow=!0:i.baseType===M.BB.COLUMN?i.classColumn=!0:(i.baseType,M.BB.PROPORTION),i.state.children=i.template.children||[],i.updateInnerStyle(),i}return c()(n,[{key:"doAction",value:function(e){var t=e.payload;if(t.action===M.aO.ADDCHILDREN){var n=t.value,i=Array.isArray(n)?n:[n],a=[].concat(H()(this.state.children),H()(i));this.setState({children:a})}}},{key:"ready",value:function(e){p()(h()(n.prototype),"ready",this).call(this,e),this.initProportionComponent()}},{key:"initProportionComponent",value:function(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var n=Math.round(t.height*e);this.setStyle("container",{width:n,left:(t.width-n)/2,top:0})}else{var i=Math.round(t.width/e);this.setStyle("container",{height:i,top:(t.height-i)/2,left:0})}}}},{key:"getSubComponentProps",value:function(e,t){return a()(a()({},this.getCommonSubComponentProps()),{},{template:this.state.children[parseInt(t,10)]})}},{key:"render",value:function(){var e=this.state.children,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),'\n      <view\n        id="container"\n        class="'.concat(t.join(" "),'"\n      >\n      ').concat(e.map((function(e,t){return'\n        <CustomItem get-props="getSubComponentProps:'.concat(t,'"></CustomItem>\n      ')})).join("\n"),"\n      </view>\n    ")}}]),n}(j);Y.subComponents=function(){return{CustomItem:U}};var z=n(1033),q=n(2395),K=n(9627),X=function(e){g()(i,e);var t,n=m()(i);function i(e){var t;o()(this,i),(t=n.call(this,e)).style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},t.state={text:""},t.baseType=void 0,t.classEllipsis=!1,t.maxLen=void 0;var a=t.options.baseType||M.qW.NICKNAME;return t.baseType=a,a===M.qW.COMMON?t.initCommonComponent():a===M.qW.NICKNAME?t.initNickNameComponent():a===M.qW.DESC&&t.initDescComponent(),t.classEllipsis=t.getDataValueWithDefault("isEllipsis",!0),t.maxLen=t.getDataValueWithDefault("maxLen",null),t.updateInnerStyle(),t}return c()(i,[{key:"ready",value:function(e){p()(h()(i.prototype),"ready",this).call(this,e),this.baseType===M.qW.RELATION&&this.initRelationComponent()}},{key:"initCommonComponent",value:function(){this.state.text=this.getDataValueWithDefault("text","")}},{key:"initNickNameComponent",value:function(){var e=this.getAdData(),t=[z.fY.APPLE_APP_STORE,z.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=e.crt_size===z.vK.CRT_SIZE_GRID,i=[z.fY.WE_CHAT_ARTICLE,z.fY.GDT_WE_CHAT_ARTICLE].includes(e.product_type),a=[z.fY.WE_CHAT_SHOP,z.fY.JD_URL].includes(e.product_type),r=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:n},{path:["crtInfo","0","wxgame_video_card","title"],condition:[z.vK.CRT_SIZE_REWARD_VEDIO169,z.vK.CRT_SIZE_REWARD_VEDIO916,z.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916,z.vK.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size)},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:i},{value:"电商推广",condition:a},{value:"活动推广"}];this.state.text=(0,R.Ze)(e,r)}},{key:"initDescComponent",value:function(){var e=this.getAdData(),t=[z.fY.APPLE_APP_STORE,z.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=[z.vK.CRT_SIZE_REWARD_VEDIO169,z.vK.CRT_SIZE_REWARD_VEDIO916,z.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916,z.vK.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size),i=e.product_type===z.fY.MINI_GAME,a=e.product_type===z.fY.WECHAT,r=[z.fY.WE_CHAT_ARTICLE,z.fY.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[z.fY.WE_CHAT_SHOP,z.fY.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:n},{path:["wording"],condition:[z.vK.CRT_SIZE_MULTI_POS_NEW_PIC,z.vK.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:r},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:a},{value:"今日小游戏推荐",condition:i},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=(0,R.Ze)(e,s)}},{key:"initRelationComponent",value:(t=T()(S().mark((function e(){var t,n,i,a,r,o,s,c,l,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getAdData(),8===(0,R.U2)(t,["crtInfo","0","card_info","mp_tag_type"])){e.next=3;break}return e.abrupt("return");case 3:return n=t.aid,i=Date.now(),a=(0,R.U2)(t,["button_action","button_text"],""),e.prev=6,e.next=9,(0,q.uQ)({aid:n,buttonText:a});case 9:o=e.sent,s=Date.now(),this.adProxy.reportRelationFetchDuration({startTime:i,endTime:s,showTime:(null===(r=this.manager)||void 0===r?void 0:r.showDetailTime)||0}),c="",o&&(l=o.count,u=o.descText,c=this.getDataValueWithDefault("text","",void 0,{args:{count:l,descText:u}}),this.emitComponentEvent(M.Xw.RELATIONFETCHED,{count:l,descText:u})),this.setState({text:c}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),this.setState({text:""}),this.adProxy.reportAdMonitorData(M.IN.RELATION_FETCH_ERROR,e.t0);case 21:case"end":return e.stop()}}),e,this,[[6,17]])}))),function(){return t.apply(this,arguments)})},{key:"doAction",value:function(e){var t=e.payload;t.action===M.aO.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",t.value)})}},{key:"render",value:function(){var e=this.classEllipsis,t=this.state.text;return this.classEllipsis&&null!==this.maxLen&&t&&(t=(0,K.$G)(t,2*this.maxLen)),'\n      <view id="container">\n        <text\n          id="text"\n          class="text '.concat(e?"text-ellipsis":"",'"\n          value="').concat(t,'"\n        ></text>\n      </view>\n    ')}}]),i}(j),J=function(e){g()(n,e);var t=m()(n);function n(e){var i;o()(this,n),(i=t.call(this,e)).style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},i.state={imgUrl:""},i.classAppIcon=!1,i.classIcon=!1,i.useBgMode=!1,i.baseType=void 0,i.useBgMode=i.getDataValueWithDefault("useBgMode",!1);var a=i.options.baseType||M.v5.ICON;switch(i.baseType=a,a){case M.v5.COMMON:i.initCommonComponent();break;case M.v5.AD:i.initADComponent();break;case M.v5.ICON:i.initIconComponent()}return i.useBgMode,i.updateInnerStyle(),i}return c()(n,[{key:"initCommonComponent",value:function(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}},{key:"initIconComponent",value:function(){var e=this.getAdData(),t=[z.fY.APPLE_APP_STORE,z.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=e.crt_size===z.vK.CRT_SIZE_GRID,i=[z.fY.WE_CHAT_SHOP,z.fY.JD_URL].includes(e.product_type),a=[z.vK.CRT_SIZE_REWARD_VEDIO169,z.vK.CRT_SIZE_REWARD_VEDIO916,z.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var r=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:n},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:a},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:i},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=(0,R.Ze)(e,r)}},{key:"initADComponent",value:function(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}},{key:"doAction",value:function(e){var t=e.payload;t.action===M.aO.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",t.value)})}},{key:"render",value:function(){var e=this.classAppIcon,t=this.classIcon,n=this.baseType===M.v5.AD,i=this.state.imgUrl,a=["image-img"];return e&&a.push("image-img-appicon"),t&&a.push("image-img-icon"),'\n      <view id="container" class="image">\n        <image\n          id="img"\n          '.concat(n?'bubble-event="false"':"",'\n          class="').concat(a.join(" "),'"\n          src="').concat(i,'"\n        >\n      </view>\n    ')}}]),n}(j),$=n(2900),Q=function(e){g()(n,e);var t=m()(n);function n(e){var i;o()(this,n),(i=t.call(this,e)).style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},i.state={buttonText:""},i.downloadProgress=0,i.isHandleDownload=!1,i.handleAdCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;t===M.A$.CHANGEADBTNTEXT&&a.text&&(i.setState({buttonText:a.text}),a.progress&&(i.downloadProgress=a.progress))},i.handleButtonClick=function(e){i.emitAdCustomEvent(M.A$.BTNTAP,{event:e,isHandleDownload:i.isHandleDownload}),i.emitComponentEvent(M.Y8.BUTTONTAP,{event:e})};var a=i.options.baseType||M.Dx.LOGICCOMMON;return a===M.Dx.COMMON?i.initCommonComponent():a===M.Dx.LOGICCOMMON&&i.initLogicCommonComponent(),i.updateInnerStyle(),i.setStyle("downloadProgressBar",{width:"".concat(i.downloadProgress,"%")}),i.setStyle("downloadTextContainer",{width:"".concat(1e4/i.downloadProgress,"%")}),i.onClick("container",i.handleButtonClick,{isReport:!0,clickType:1}),i}return c()(n,[{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this),this.offClick("container",this.handleButtonClick)}},{key:"getButtonText",value:function(){return this.state.buttonText}},{key:"initCommonComponent",value:function(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}},{key:"initLogicCommonComponent",value:function(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===$.ProductType.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}},{key:"doAction",value:function(e){var t=e.payload;t.action===M.aO.BUTTONSETTEXT&&this.setText(t.value)}},{key:"setText",value:function(e){this.setState({buttonText:this.getDataValue("text",e)})}},{key:"render",value:function(){var e=this.isHandleDownload,t=this.state.buttonText;return'\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="'.concat(t,'"></text>\n        ').concat(e?'\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="'.concat(t,'"></text>\n            </view>\n          </view>\n        '):"","\n      </view>\n    ")}}]),n}(j),ee={videoDataMap:{}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(ee.videoDataMap[e]=t)},ne=function(e){g()(n,e);var t=m()(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},i.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},i.src="",i.poster="",i.isShowVoice=!0,i.isShowProgress=!0,i.isShowCountDown=!1,i.isShowEndPage=!1,i.voicePlacement=null,i.countDownPlacement=null,i.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",i.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",i.currentTime=0,i.videoDuration=0,i.objectFit="contain",i.baseType=void 0,i.toggleMuted=function(){i.setState({muted:!i.state.muted}),i.emitComponentEvent(M.XP.MUTEDCHANGE,{muted:i.state.muted})},i.handleCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;switch(t){case M.A$.ADSHOWHALF:i.state.isEndPageShowing||i.operateVideoPlay("play");break;case M.A$.ADHIDEHALF:i.state.isEndPageShowing||i.operateVideoPlay("pause");break;case M.A$.APPENTERBACKGROUND:var r=Math.min(i.currentTime,i.videoDuration);a.inAdDetail?i.reportVideoPlay("partial","exit",r):i.reportVideoPlay("partial","app_exit",r);break;case M.A$.ENDPAGEINIT:i.isShowEndPage=i.getDataValueWithDefault("isShowEndPage",!1),i.isShowEndPage&&i.setState({loop:!1});break;case M.A$.ENDPAGEHIDE:i.isShowEndPage&&(i.setState({isEndPageShowing:!1}),i.operateVideoPlay("play"));break;case M.A$.ENDPAGESHOW:i.isShowEndPage&&i.setState({isEndPageShowing:!0});break;case M.A$.BTNTAP:i.reportVideoPlay(i.currentTime<i.videoDuration?"partial":"complete","land",i.videoDuration)}},i.handleError=function(e){i.adProxy.reportAdMonitorData(M.IN.AD_VIDEO_LOAD_FAILED,e)},i.handleTimeUpdate=function(e){var t,n=e.duration,a=e.position;if(null!=n&&null!=a){var r=Math.min(1,a/n);i.setStyle("videoProgressPlayed",{width:"".concat(100*r,"%")}),i.isShowCountDown&&i.setState({countDownNumber:"".concat(Math.ceil(n-a),"s")}),i.emitComponentEvent(M.XP.VIDEOTIMEUPDATE,{event:e,rate:r}),i.currentTime=1e3*a,i.videoDuration||(i.videoDuration=1e3*n);var o={currentTime:i.currentTime,duration:i.videoDuration},s=(null===(t=i.manager)||void 0===t?void 0:t.adCustomId)||i.adCustomId;te(s,o)}},i.handleEnded=function(e){var t;i.emitComponentEvent(M.XP.VIDEOENDED,{event:e}),i.emitAdCustomEvent(M.A$.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:i.baseType}}),i.reportVideoPlay("viewable","end",i.videoDuration),O.cj&&i.reportVideoPlay("partial","start");var n={currentTime:i.videoDuration,duration:i.videoDuration},a=(null===(t=i.manager)||void 0===t?void 0:t.adCustomId)||i.adCustomId;te(a,n),i.currentTime=0,i.isShowEndPage&&i.emitAdCustomEvent(M.A$.SHOWENDPAGE,{videoId:i.id}),i.setState({countDownNumber:null})},i.handlePlay=function(e){i.emitComponentEvent(M.XP.VIDEOPLAY,{event:e}),i.emitAdCustomEvent(M.A$.ADVIDEOPLAY),i.reportVideoPlay("partial","start",Math.min(i.currentTime,i.videoDuration))},i.handlePause=function(e){i.emitComponentEvent(M.XP.VIDEOPAUSE,{event:e}),i.emitAdCustomEvent(M.A$.ADVIDEOPAUSE),i.reportVideoPlay("partial","close",Math.min(i.currentTime,i.videoDuration))},i.baseType=i.options.baseType||M.jn.AD,i.baseType===M.jn.COMMON?i.initCommonComponent():i.baseType===M.jn.AD&&i.initADComponent(),i.isShowVoice=i.getDataValueWithDefault("isShowVoice",!0),i.voicePlacement=i.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),i.state.muted=i.getDataValueWithDefault("muted",!0),i.state.loop=i.getDataValueWithDefault("loop",!0),i.isShowProgress=i.getDataValueWithDefault("isShowProgress",!0),i.isShowCountDown=i.getDataValueWithDefault("isShowCountDown",!1),i.countDownPlacement=i.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),i.objectFit=i.getDataValueWithDefault("objectFit","contain"),i.updateInnerStyle(),i.bindEvent(),setTimeout((function(){i.emitComponentEvent(M.XP.MUTEDCHANGE,{muted:i.state.muted})}),0),i}return c()(n,[{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this),this.unbindEvent(),this.removeAdCustomListener()}},{key:"bindEvent",value:function(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}},{key:"unbindEvent",value:function(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}},{key:"initCommonComponent",value:function(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}},{key:"initADComponent",value:function(){var e,t=this.getAdData();this.src=this.getDataValue("src")||(0,R.U2)(t,["video_info","videoUrl"])||(0,R.U2)(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||(0,R.U2)(t,["video_info","thumbUrl"])||(0,R.U2)(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=(0,R.U2)(t,["wx_game_video","short_video","video_duration"])||(0,R.U2)(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var n={currentTime:0,duration:this.videoDuration},i=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;te(i,n),this.emitAdCustomEvent(M.A$.REPORTTIMEPOINT,{key:"p8"})}},{key:"doAction",value:function(e){switch(e.payload.action){case M.aO.VIDEOTOGGLEMUTED:this.toggleMuted();break;case M.aO.VIDEOPLAY:this.operateVideoPlay("play");break;case M.aO.VIDEOPAUSE:this.operateVideoPlay("pause");break;case M.aO.VIDEOSTOP:this.operateVideoPlay("stop")}}},{key:"operateVideoPlay",value:function(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}},{key:"reportVideoPlay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.baseType===M.jn.AD&&this.emitAdCustomEvent(M.A$.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:n,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}},{key:"render",value:function(){var e=this.src,t=this.poster,n=this.isShowVoice,i=this.mutedIconSrc,a=this.voiceIconSrc,r=this.voicePlacement,o=this.countDownPlacement,s=this.isShowProgress,c=this.isShowCountDown,l=this.objectFit,u=this.state,d=u.muted,p=u.loop,f=u.autoplay,h=u.countDownNumber,v=u.isEndPageShowing,g=["video-voice-box"],y=["video-count-down"];return g.push("video-voice-box-".concat(r)),y.push("video-count-down-".concat(o)),'\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="'.concat(e,'"\n          poster="').concat(t,'"\n          controls="false"\n          muted="').concat(d,'"\n          loop="').concat(p,'"\n          autoplay="').concat(f,'"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="').concat(l,'"\n        >\n          ').concat(!v&&n?'\n            <view id="videovoicebox" bubble-event="false" class="'.concat(g.join(" "),'">\n              <image\n                src="').concat(d?i:a,'"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          '):"","\n          ").concat(s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':"","\n          ").concat(!v&&c&&h?'\n            <text id="video-count-down" class="'.concat(y.join(" "),'" value="').concat(h,'"></text>\n          '):"","\n        </video>\n      </view>\n    ")}}]),n}(j),ie=function(e){g()(n,e);var t=m()(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},i.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},i.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",i.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",i.dislikeReasonHandlers={},i.baseType=void 0,i.handleTagClick=function(e){if(i.baseType===M.Eo.SIMPLE)return i.handleSimpleTagClick(e);var t=i.state,n=t.isShowFeedback,a=t.isShowFeedbackMenu;n||a?i.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(i.setState({isShowFeedback:!0}),i.updateMenuPosition(),i.updateInnerStyle(),i.emitAdCustomEvent(M.A$.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),i.emitComponentEvent(M.nf.TAGTAP,{event:e}))},i.handleDislikeClick=function(e){i.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),i.updateMenuPosition(),i.updateInnerStyle(),i.emitComponentEvent(M.nf.DISLIKETAP,{event:e})},i.handleFeedbackBtnClick=function(e){i.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),i.emitComponentEvent(M.nf.FEEDBACKBTNTAP,{event:e}),i.emitAdCustomEvent(M.A$.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),i.emitAdCustomEvent(M.A$.FEEDBACKBTNTAP)},i.checkUseApx(),i.baseType=i.options.baseType||M.Eo.COMMON,i.bindEvent(),i.updateInnerStyle(),i}return c()(n,[{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this),this.unbindEvent()}},{key:"bindEvent",value:function(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}},{key:"unbindEvent",value:function(){this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick);for(var e=0,t=Object.keys(this.dislikeReasonHandlers);e<t.length;e++){var n=t[e],i=this.dislikeReasonHandlers[n];this.offClick(n,i)}}},{key:"updateMenuPosition",value:function(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}},{key:"handleSimpleTagClick",value:function(e){this.emitAdCustomEvent(M.A$.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(M.A$.HIDEAD),this.emitComponentEvent(M.nf.TAGTAP,{event:e})}},{key:"handleDislikeReasonClick",value:function(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(M.nf.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(M.A$.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var n=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===n?this.emitAdCustomEvent(M.A$.SHOWFEEDBACK):"hide"===n&&this.emitAdCustomEvent(M.A$.HIDEAD)}},{key:"render",value:function(){var e=this.state,t=e.isShowFeedback,n=e.isShowFeedbackMenu,i=e.position,a=["feedback-list"],r=["feedback-list"];i&&(a.push("feedback-list-".concat(i.toLowerCase())),r.push("feedback-list-".concat(i.toLowerCase())));var o=this.baseType===M.Eo.SIMPLE?this.closeIconSrc:this.feedbackIconSrc,s=this.baseType===M.Eo.SIMPLE?"close-icon":"feedback-icon";return'\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="'.concat(s,'" src="').concat(o,'"></image>\n        </view>\n        ').concat(t?'\n          <view id="menu1" key="menu1" class="'.concat(a.join(" "),'">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        '):"","\n        ").concat(n?'\n          <view id="menu2" key="menu2" class="'.concat(r.join(" "),'">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        '):"","\n      </view>\n    ")}}]),n}(j);const ae=BabelRuntimeHelpers.possibleConstructorReturn;var re=n.n(ae),oe=function(e){g()(n,e);var t=m()(n);function n(e){var i;o()(this,n),(i=t.call(this,e)).style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},i.state={isShowEndPage:!1},i.children=[],i.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",i.showTime=0,i.cardInfo=void 0,i.backgroundImage="",i.exposured=!1,i.viewableExposured=!1,i.viewableExposureTimer=null,i.handleAdCustomListener=function(e){switch(e.action){case M.A$.SHOWENDPAGE:i.setState({isShowEndPage:!0}),i.emitAdCustomEvent(M.A$.ENDPAGESHOW),i.showTime=Date.now(),!i.exposured&&i.reportEndPageExposure(),i.exposured=!0,i.viewableExposured||(i.viewableExposureTimer=setTimeout((function(){!i.viewableExposured&&i.reportEndPageExposure(!0)}),1e3)),i.emitComponentEvent(M.H_.SHOW);break;case M.A$.APPENTERBACKGROUND:i.state.isShowEndPage&&i.reportEndPageDuration();break;case M.A$.APPENTERFOREGROUND:i.state.isShowEndPage&&(i.showTime=Date.now());break;case M.A$.ADSHOWHALF:i.state.isShowEndPage&&(i.showTime=Date.now(),i.viewableExposured||(i.viewableExposureTimer=setTimeout((function(){!i.viewableExposured&&i.reportEndPageExposure(!0)}),1e3)));break;case M.A$.ADHIDEHALF:i.state.isShowEndPage&&(i.reportEndPageDuration(),i.viewableExposureTimer&&(clearTimeout(i.viewableExposureTimer),i.viewableExposureTimer=null))}},i.handleReplay=function(){i.setState({isShowEndPage:!1}),i.emitAdCustomEvent(M.A$.ENDPAGEHIDE),i.emitComponentEvent(M.H_.HIDE),i.reportEndPage({act_type:1003}),i.emitComponentEvent(M.H_.REPLAY)},i.handleContainerClick=function(e){var t;i.reportEndPage({act_type:1002}),null===(t=i.reporter)||void 0===t||t.handleClick(e,2)};var a=i.getAdData();return i.cardInfo=(0,K.U2)(a,["crtInfo",0,"card_info"],{}),i.cardInfo.end_page_type?(i.backgroundImage=i.cardInfo.head_bg_img,i.setStyle("refresh",{padding:"13apx 12apx"}),i.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),i.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),i.children=i.getChildren(),i.bindEvent(),i.updateInnerStyle(),setTimeout((function(){i.emitAdCustomEvent(M.A$.ENDPAGEINIT)}),0),i):re()(i)}return c()(n,[{key:"updateState",value:function(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}},{key:"getSubComponentProps",value:function(e,t){return a()(a()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}},{key:"bindEvent",value:function(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}},{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}},{key:"reportEndPageDuration",value:function(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}},{key:"reportEndPageExposure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}},{key:"reportEndPage",value:function(e){this.emitAdCustomEvent(M.A$.REPORTENDPAGE,{data:e})}},{key:"doAction",value:function(e){e.payload.action===M.aO.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(M.A$.ENDPAGEHIDE),this.emitComponentEvent(M.H_.HIDE))}},{key:"getChildren",value:function(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),n={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={},a=this.template.id;i.feedBack={type:"feedback",id:"".concat(a,"_endPageFeedback"),style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:M.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},n)}}],dislikeReasonTap:[{action:M.aO.TRIGGEREVENT,value:{eventName:M.H_.VIDEODISLIKE}}]}}},i.iconBig={type:"image",id:"".concat(a,"_endPageIconBig"),style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},i.nickBig={type:"text",id:"".concat(a,"_endPageNickBig"),style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},i.descSmall={type:"text",id:"".concat(a,"_endPageDescSmall"),style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},i.button={type:"button",id:"".concat(a,"_endPageButton"),style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:M.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1001},n)}}]}}},i.iconSmall={type:"image",id:"".concat(a,"_endPageIconSmall"),style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},i.nickSmall={type:"text",id:"".concat(a,"_endPageNickSmall"),style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},i.layoutSmall={type:"layout",id:"".concat(a,"_endPageLayoutSmall"),style:{marginBottom:"16apx"},options:{baseType:2},children:[]},i.layoutSmall.children.push(i.iconSmall),i.layoutSmall.children.push(i.nickSmall),i.descBig={type:"text",id:"".concat(a,"_endPageDescBig"),style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var r=this.getDataValue("childrenConf");if(r)for(var o=0,s=Object.keys(r);o<s.length;o++){var c=s[o];i[c]&&(0,K.Ee)(i[c],r[c])}var l=[];return l=2===this.cardInfo.end_page_type?[i.feedBack,i.layoutSmall,i.descBig,i.button]:[i.feedBack,i.iconBig,i.nickBig,i.descSmall,i.button],3===e?l.concat(this.template.children||[]):l}},{key:"render",value:function(){var e=this.backgroundImage,t=this.children,n=this.refreshIconSrc;return'\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        '.concat(e?'<image src="'.concat(e,'"></image>'):"","\n        ").concat(t.map((function(e,t){return'\n          <CustomItem get-props="getSubComponentProps:'.concat(t,'"></CustomItem>\n        ')})),'\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=').concat(n,"></image>\n        </view>\n      </view>\n    ")}}]),n}(j);oe.subComponents=function(){return{CustomItem:U}};var se=function(e){g()(n,e);var t=m()(n);function n(e){var i;return o()(this,n),(i=t.call(this,e,{autoRegister:!1})).forArr=void 0,i.forType=i.options.baseType||M.bk.COMMON,i.forArr=i.getDataValueWithDefault("forArr",[]),i.forType===M.bk.COMMON?i.forArr=i.getDataValueWithDefault("forArr",[]):i.forType===M.bk.ADS&&(i.forArr=i.getAdDatas()),i}return c()(n,[{key:"getSubComponentProps",value:function(e,t,n){var i=this.template,r=this.forArr;return a()(a()({},this.getCommonSubComponentProps()),{},{idPrefix:this.idPrefix+(i.id||"")+t,forType:this.forType,forItem:r[Number(t)],template:i.children[Number(n)],forIndex:Number(t)})}},{key:"render",value:function(){var e=this.props.template,t=this.forArr.map((function(t,n){return e.children.map((function(e,t){return'\n        <CustomItem get-props="getSubComponentProps:'.concat(n,":").concat(t,'"></CustomItem>\n      ')})).join("\n")})).join("\n");return"<Fragment>".concat(t,"</Fragment>")}}]),n}(j);se.subComponents=function(){return{CustomItem:U}};var ce=n(7581),le=1,ue=/([+-]?\d+(?:\.\d+)?)apx/g,de=/([+-]?\d+(?:\.\d+)?)rpx/g,pe=function(e){return null!=e&&e.replace?e.replace(de,(function(e,t){return"".concat(function(e){if(0===e)return 0;var t=e/750*ce.S.screenWidth;return t<0&&(t=-t),t=Math.floor(t+1e-4),e<0?-t:t}(Number(t)),"px")})):e},fe=function(e){g()(i,e);var t,n=m()(i);function i(e){var t;return o()(this,i),(t=n.call(this,e)).style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},t.baseType=void 0,t.showCount=void 0,t.allCount=void 0,t.animateCount=void 0,t.allIndexList=void 0,t.size=void 0,t.duration=void 0,t.isViewable=!1,t.isPlaying=!1,t.animated=!1,t.timerSet=new Set,t.disabled=void 0,t.isCol=void 0,t.handleMaskClick=function(e){var n,i=null!=t.moveTime?(Date.now()-t.moveTime)/t.duration*t.size:0;n=t.animated?-t.animateCount*t.size+i:-i;var a=(t.isCol?e.relativeY:e.relativeX)-n,r=Math.floor(a/t.size);t.emitComponentEvent(M.Zw.UNITTAP,{index:r,event:e})},t.handleAdCustomEvent=function(e){var n=e.action;[M.A$.ADSHOWHALF].includes(n)?(t.isViewable=!0,t.autoplay()):[M.A$.ADHIDEHALF].includes(n)&&(t.isViewable=!1,t.clearTimers())},t.moveTime=null,t.baseType=t.options.baseType||M.Af.ROWLOOP,t.showCount=t.getDataValueWithDefault("showCount",0),t.allCount=t.getDataValueWithDefault("allCount",0),t.animateCount=t.allCount-t.showCount,t.size=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e:pe(e);return t&&"string"==typeof t?t.replace(ue,(function(e,t){return"".concat(Number(t*le),"px")})):t}(t.getDataValueWithDefault("size","0px")).replace("px",""),t.duration=t.getDataValueWithDefault("duration",1500),t.disabled=t.getDataValueWithDefault("disabled",!1),t.allIndexList=Array.from({length:t.allCount}).map((function(e,t){return t})),t.isCol=t.baseType===M.Af.COLUMNLOOP,t.onClick("mask",t.handleMaskClick),t.baseType===M.Af.ROWLOOP?t.initCarousel("width"):t.baseType===M.Af.COLUMNLOOP&&t.initCarousel("height"),t.updateInnerStyle(),t}return c()(i,[{key:"destroy",value:function(){p()(h()(i.prototype),"destroy",this).call(this),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}},{key:"initCarousel",value:function(e){this.setStyle("container",I()({},e,this.showCount*this.size)),this.setStyle("list",I()({},e,this.allCount*this.size)),this.addAdCustomListener(this.handleAdCustomEvent)}},{key:"clearTimers",value:function(){var e,t=A()(this.timerSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"autoplay",value:(t=T()(S().mark((function e(){var t,n,i,a,r=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isViewable&&!this.isPlaying){e.next=2;break}return e.abrupt("return");case 2:if(t=this.baseType===M.Af.ROWLOOP?"left":"top",!this.disabled){e.next=8;break}this.emitComponentEvent(M.Zw.SHOWCHANGE,{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1,e.next=29;break;case 8:if(!(this.animateCount<=0)){e.next=13;break}this.emitComponentEvent(M.Zw.SHOWCHANGE,{list:this.allIndexList||[]}),this.isPlaying=!1,e.next=29;break;case 13:for(this.isPlaying=!0,n=function(e){var t=r.animated,n=setTimeout((function(){r.timerSet.delete(n);var i=t?r.allIndexList.slice(r.allCount-e-r.showCount,r.allCount-e):r.allIndexList.slice(e,e+r.showCount);r.emitComponentEvent(M.Zw.SHOWCHANGE,{list:i})}),e*r.duration);r.timerSet.add(n)},i=0;i<this.animateCount;i+=1)n(i);return this.moveTime=Date.now(),e.prev=17,e.next=20,this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[I()({offset:0},t,this.animated?-1*this.animateCount*this.size:0),I()({offset:1},t,this.animated?0:-1*this.animateCount*this.size)],duration:this.duration*this.animateCount,easing:"linear"}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(17);case 24:this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null,a=setTimeout((function(){r.timerSet.delete(a),r.autoplay()}),this.duration/4),this.timerSet.add(a);case 29:case"end":return e.stop()}}),e,this,[[17,22]])}))),function(){return t.apply(this,arguments)})},{key:"getCustomItemProps",value:function(e,t){return a()(a()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}},{key:"render",value:function(){var e=this.props.template.children,t=this.baseType,n=this.allCount,i=this.showCount;if(!(e&&e.length&&n&&i))return"<view></view>";var a=["carousel-list",t===M.Af.ROWLOOP?"carousel-row":"carousel-col"];return'\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="'.concat(a.join(" "),'">\n          ').concat(e.map((function(e,t){return'\n            <CustomItem get-props="getCustomItemProps:'.concat(t,'"></CustomItem>\n          ')})).join("\n"),"\n        </view>\n      </view>\n    ")}}]),i}(j);fe.subComponents=function(){return{CustomItem:U}};var he=function(e){g()(n,e);var t=m()(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},i.state={countdownValue:""},i.children=[],i.handleAdCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;if(t===M.A$.CHANGECOUNTDOWN){var r=i.getElementById("countdownvalue"),o=2===a.value.toString().length?18:11;i.setStyle("countdownvalue",{width:o}),r&&(r.value=a.value)}},i.children=i.getChildren(),i.updateInnerStyle(),i.addAdCustomListener(i.handleAdCustomEvent),i}return c()(n,[{key:"destroy",value:function(){p()(h()(n.prototype),"destroy",this).call(this)}},{key:"getSubComponentProps",value:function(e,t){return a()(a()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}},{key:"getChildren",value:function(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),n={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={};i.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:M.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},n)}}],dislikeReasonTap:[{action:M.aO.TRIGGEREVENT,value:{eventName:M.H_.VIDEODISLIKE}}]},data:{}}};var a=this.getDataValue("childrenConf");if(a)for(var r=0,o=Object.keys(a);r<o.length;r++){var s=o[r];i[s]&&(0,K.Ee)(i[s],a[s])}var c=[];return c=[i.feedBack],3===e?c.concat(this.template.children||[]):c}},{key:"render",value:function(){var e=this.children;return'\n      <view id="container" class="countdown" bubble-event="false">\n        '.concat(e.map((function(e,t){return'\n          <CustomItem get-props="getSubComponentProps:'.concat(t,'"></CustomItem>\n        ')})),'\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    ')}}]),n}(j);he.subComponents=function(){return{CustomItem:U}}},9883:(e,t,n)=>{"use strict";var i,a,r,o,s,c,l,u,d;n.d(t,{H:()=>i,_d:()=>a,Y8:()=>r,Xw:()=>o,XP:()=>s,nf:()=>c,H_:()=>l,Zw:()=>u,dA:()=>d}),function(e){e.TAP="tap",e.ANIMATIONEND="animationend"}(i||(i={})),function(e){e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView"}(a||(a={})),function(e){e.BUTTONTAP="buttonTap"}(r||(r={})),function(e){e.RELATIONFETCHED="relationFetched"}(o||(o={})),function(e){e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData"}(s||(s={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap"}(c||(c={})),function(e){e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike"}(l||(l={})),function(e){e.SHOWCHANGE="showChange",e.UNITTAP="unitTap"}(u||(u={})),function(e){e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone"}(d||(d={}))},7733:(e,t,n)=>{"use strict";var i;n.d(t,{A:()=>i}),function(e){e.SHOWFEEDBACK="showFeedback",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.TRIGGEREVENT="triggerEvent",e.REPORTVIDEOPLAY="reportVideoPlay",e.APPENTERBACKGROUND="appEnterBackground",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.BTNTAP="btnTap",e.CHANGEADBTNTEXT="changedAdBtnText",e.ENDPAGEINIT="endPageInit",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.APPENTERFOREGROUND="appEnterForeground",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.REPORTMMDATA="reportMMData",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.CHANGEMULTISHOW="changeMultiShow",e.CHECKEXPOSURE="checkExposure",e.LANDAD="landAd",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(i||(i={}))},2958:(e,t,n)=>{"use strict";var i;n.d(t,{aO:()=>i,Y8:()=>v.Y8,Dx:()=>c,Zw:()=>v.Zw,Af:()=>h,H:()=>v.H,A$:()=>g.A,H_:()=>v.H_,Bq:()=>y,nf:()=>v.nf,Eo:()=>u,bk:()=>f,IN:()=>_.$g,v5:()=>o,BB:()=>r,dA:()=>v.dA,_d:()=>v._d,Xw:()=>v.Xw,qW:()=>s,XP:()=>v.XP,jn:()=>l,fc:()=>w}),function(e){e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVARS="setExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.SPLASHSKIPAD="splashSkipAd",e.ADDCHILDREN="addChildren",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(i||(i={}));var a,r,o,s,c,l,u,d,p,f,h,v=n(9883),g=n(7733);!function(e){e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN"}(a||(a={})),function(e){e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION"}(r||(r={})),function(e){e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD"}(o||(o={})),function(e){e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION"}(s||(s={})),function(e){e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON"}(c||(c={})),function(e){e[e.COMMON=1]="COMMON",e[e.AD=2]="AD"}(l||(l={})),function(e){e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE"}(u||(u={})),function(e){e[e.COMMON=1]="COMMON"}(d||(d={})),function(e){e[e.COMMON=1]="COMMON"}(p||(p={})),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS"}(f||(f={})),function(e){e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP"}(h||(h={}));var y,m,_=n(1232);!function(e){e[e.ERR_RENDER=2001]="ERR_RENDER",e[e.ERR_TPL_NONE=2002]="ERR_TPL_NONE",e[e.ERR_TPL_PARSE=2003]="ERR_TPL_PARSE",e[e.ERR_SHOW_FAILED1=2004]="ERR_SHOW_FAILED1",e[e.ERR_SHOW_FAILED2=2005]="ERR_SHOW_FAILED2"}(y||(y={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ING=1]="ING",e[e.PAUSE=2]="PAUSE",e[e.SUCCESS=3]="SUCCESS",e[e.INSTALLED=4]="INSTALLED"}(m||(m={}));var w=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"]},9390:(e,t,n)=>{"use strict";n.d(t,{K:()=>E});var i=n(3379),a=n.n(i),r=n(8676),o=n.n(r),s=n(7163),c=n.n(s),l=n(5843),u=n.n(l),d=n(3595),p={type:"EOF"},f=function(){function e(){c()(this,e),this.token=[],this.tokens=[],this.state=null,this.state=this.start}return u()(e,[{key:"isEOF",value:function(e){var t=e;return t&&"object"===o()(t)&&"EOF"===t.type}},{key:"start",value:function(e){return this.isEOF(e)?(this.emmitToken("EOF",p),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}},{key:"inLogic",value:function(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}},{key:"inNumber",value:function(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}},{key:"inTplFunc",value:function(e){var t=this;return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&function(){for(var e=0,n=0,i=0,a=t.token.length;i<a;i++){var r=t.token[i];"("===r?e+=1:")"===r&&(n+=1)}return e===n}()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}},{key:"inTplStr",value:function(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}},{key:"inCompare",value:function(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}},{key:"inQuoteStr",value:function(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}},{key:"emmitToken",value:function(e,t){this.tokens.push({type:e,value:t})}},{key:"push",value:function(e){this.state&&(this.state=this.state(e))}},{key:"end",value:function(){this.state&&this.state(p)}}]),e}(),h=function(e){for(var t=new f,n=0,i=e.length;n<i;){var a=e[n];n+=1,t.push(a)}return t.end(),t.tokens},v=function(e){return"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null},g=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren)},y=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren)},m=function(e){var t;t="string"==typeof e?h(e):e;for(var n=[v({type:"ROOT"})],i=function(e){for(var t=e.priority;g(n[n.length-1])&&y(n[n.length-2])&&t<=n[n.length-1].priority&&t<=n[n.length-2].priority;){var i=n[n.length-2].children;null==i||i.push(n.pop())}},a=function(e){var t=v(e),a=n[n.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(g(a))return;y(a)?a.children.push(t):n.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?g(a)&&(t.priority>a.priority?function(e,t){var i=t.children.pop();i&&e.children.push(i),n.push(e)}(t,a):(i(t),function(e){var t=n.pop();t&&e.children.push(t),n.push(e)}(t))):"ROOT_END"===t.type&&(i(t),n.push(t))},r=0,o=t.length;r<o;r++)a(t[r]);return n},_=function(e,t){var n=e.split("."),i="";return n.forEach((function(e){""===i?i=t[e]:("string"==typeof i&&(i=JSON.parse(i)),i=i[e])})),i},w=function(e,t,n){var i=e.indexOf("("),a=e.substring(0,i),r=e.substring(i+1,e.length-1);if(!n[a])return null;for(var o=h(r),s=[],c=[],l=0,u=o.length;l<u;l++){var d=o[l];"COMMA"===d.type||"EOF"===d.type?(s.push(c),c=[]):c.push(d)}var p=[];return s.forEach((function(e){p.push(E(e,t,n))})),n[a].apply(null,p)},b=function e(t,n){var i=t.type,a=t.children,r=t.operator,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(t){return e(a[t],n,o)};if("COMPARE"===i){var c={">":function(){return s(0)>s(1)},"<":function(){return s(0)<s(1)},">=":function(){return s(0)>=s(1)},"<=":function(){return s(0)<=s(1)},"==":function(){return s(0)==s(1)},"!=":function(){return s(0)!=s(1)},"===":function(){return s(0)===s(1)}},l=r&&c[r];return l?l():null}if("LOGIC"===i){var u={"&&":function(){return s(0)&&s(1)},"||":function(){return s(0)||s(1)}},d=r&&u[r];return d?d():null}var p={NUMBER:function(){return Number(a[0])},STR:function(){return a[0]},TPLSTR:function(){return _(a[0],n)},QUESTION:function(){return s(0)?s(1):s(2)},TPLFUNC:function(){return w(a[0],n,o)}},f=p[i]||null;return f?f():null},I={"#scope":function(e){return e},"#no":function(e){return!e},"#add":function(e,t){return e+t},"#sub":function(e,t){return e-t},"#multi":function(e,t){return e*t},"#division":function(e,t){return e/t},"#negative":function(e){return-e},"#toNumber":function(e){return Number(e)},"#toString":function(e){return String(e)},"#toArray":function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},"#ceil":function(e){return Math.ceil(e)},"#floor":function(e){return Math.floor(e)},"#round":function(e){return Math.round(e)},"#substring":function(e,t,n){return e.substring(t,n)},"#like":function(e,t){return-1!==e.indexOf(t)},"#toFixed":function(e,t){return parseFloat(e).toFixed(t)},"#toLowerCase":function(e){return e.toLowerCase()},"#toUpperCase":function(e){return e.toUpperCase()},"#len":function(e){return e.length},"#hansLen":function(e){var t,n=0,i=a()(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=/[\u4e00-\u9fa5]/.test(r)?2:1}}catch(e){i.e(e)}finally{i.f()}return n/2},"#parse":function(e){try{return JSON.parse(e)}catch(e){return{}}},"#value":function(e,t){return e[t]||{}},"#truncate":function(e,t){var n,i="",r=0,o=a()(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if((r+=/[\u4e00-\u9fa5]/.test(s)?2:1)>t){i+="...";break}i+=s}}catch(e){o.e(e)}finally{o.f()}return i},"#concat":function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")},"#split":function(e,t,n){return null==e?void 0:e.split(t,n)},"#abbrNum":function(e){return e<1e4?e.toString():"".concat((e/1e4).toFixed(1),"万")},"#trimDigit":function(e){var t=e.toString().split(".");if(t.length<2)return e;for(var n=t.slice(-1)[0];"0"===n[n.length-1];)n=n.slice(0,-1);return t.slice(0,-1).concat(n?[n]:[]).join(".")},"#append":function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&e.indexOf(t)>-1||e.push(t),e},"#remove":function(e,t){return e.filter((function(e){return e!==t}))},"#include":function(e,t){return e.indexOf(t)>-1},"#mod":function(e,t){return e%t},"#indexedArray":function(e){if(e<=0)return[];for(var t=[],n=0;n<e;n+=1)t.push(n);return t},"#get":d.U2,"#slice":function(e,t,n){return e.slice(t,n)}},E=function(e,t,n){try{var i=m(e);return b(i[1],t,Object.assign({},I,n))}catch(e){}return null}},4052:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var i=n(6604),a=function(e,t,n){return i.S1.call(this,e,function(e){for(var t={},n=0,i=Object.keys(e||{});n<i.length;n++){var a=i[n];e[a]&&(t[a]=Object.assign({},e[a]),e[a].landscape&&!e[a].landscapeLeft&&(t[a].landscapeLeft=Object.assign({},e[a].landscape)),e[a].landscape&&!e[a].landscapeRight&&(t[a].landscapeRight=Object.assign({},e[a].landscape)))}return t}(t),n)}},8114:(e,t,n)=>{"use strict";n.d(t,{yx:()=>h,dz:()=>v,p4:()=>g});var i=n(1503),a=n.n(i),r=n(2363),o=n(8947),s=n(8392),c="",l="",u="{}",d="",p="",f="{}";function h(e){c?e&&e(c):r.wZ&&o.Z.clientVersion<654315827?(0,s.IN)("getOAID",{success:function(t){/:ok/.test(t.errMsg)?(c=t.result||"",e&&e(c)):e&&e("")},fail:function(){e&&e("")}}):e&&e("")}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,n){r.wZ&&o.Z.clientVersion>=654315827||r.cj&&o.Z.clientVersion>=385879808?(0,s.IN)("getDeviceInfo",{waidPkg:e,success:function(e){c=e.oaid||"",l=e.imei||"",p=e.waid||"",d=e.ua||"",f=e.devIdInfo||"{}";try{u=JSON.stringify(a()(a()({},JSON.parse(f)),d?{ua:d}:{}))}catch(e){n(e)}t({oaid:c,imei:l,commonid:u,waid:p})},fail:function(e){n(e)}}):t({oaid:c,imei:l,commonid:u,waid:p})}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,n){var i="",a="";r.wZ&&o.Z.clientVersion>=654316032?(0,s.IN)("getDeviceInfo",{waidPkg:e,success:function(e){i=e.waid||"",a=e.imei||"",t({waid:i,imei:a})},fail:function(e){n(e)}}):t({waid:i,imei:a})}))}},6604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>d,Wj:()=>c,bn:()=>u,S1:()=>p,Ue:()=>l});var i=n(7163),a=n.n(i),r=n(9515),o=n(8068),s=new WeakMap,c=function(e){return s.get(e)},l=function e(t){var n=this,i=c(this),a={view:r.G7,text:r.xv,image:r.Ee,video:r.nk,"image-previewer":r.Vr}[t.name],s="";t.attributes.id?s=(0,o.um)(t.attributes.id):wxNativeConsole.error("".concat(t.name," 缺少id"));var l=Object.keys(t.attributes).reduce((function(e,n){var a=t.attributes[n],r=(0,o.um)(n);return"id"===n?(e.style=Object.assign(e.style||{},i.style[s]),e):"class"===n?(e.style=a.split(/\s+/).reduce((function(e,t){return Object.assign(e,i.style[t])}),e.style||{}),e):(/\{\{.+\}\}/.test(a)||(e[r]=""===a||"true"===a||"false"!==a&&a),e)}),{});l.name=s;var u=new a(l);return i[s]=u,t.children.forEach((function(t){var i=e.call(n,t);u.add(i)})),u},u=function(e){s.delete(e)},d=function e(){a()(this,e);s.set(this,{})},p=function(e,t,n){var i=c(this);i.xom=e,i.style=t,i.state=n,l.call(this,e)}},7937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(6326),c=function(){function e(){a()(this,e),this.emitter=new s.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}return o()(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=__errorTracer__.surroundThirdByTryCatch(t,"at ".concat(e," callback function"));this.callbackMap.set(t,n),this.originalCallbackMap.set(n,t),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){var n=this;if(t&&"function"==typeof t){var i=this.callbackMap.get(t);"function"==typeof i&&(this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i))}else this.emitter.listeners(e).forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}]),e}()},8528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>he});var i,a=n(7163),r=n.n(a),o=n(5843),s=n.n(o),c=n(9727),l=n.n(c),u={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3};i={},l()(i,u.AD_TYPE_BANNER,"BANNER"),l()(i,u.AD_TYPE_PORTAL,"PORTAL"),l()(i,u.AD_TYPE_ICON,"ICON");const d={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625};var p=n(2363),f=n(968),h=n(2675),v=(n(6928),n(2701),n(3638)),g=n(7615),y=n.n(g),m=n(4742),_=n.n(m),w=n(7541),b=n.n(w),I=n(3786),E=n(8273),T=n(4531),k={},A={},C={},S=new WeakMap,x={};function P(e,t){var n=(0,I.yk)(t,e.canvasNumber);C[n]={top:e.top,left:e.left,width:e.width,height:e.height,canvasNumber:e.canvasNumber,nodeId:e.nodeId,pluginId:e.pluginId,webviewId:t},A[n]=Object.assign({},e.data,{webviewId:t});var i=k[n];"function"==typeof i&&(i.call(),delete k[n]),(0,T.dq)(t,(function(){D(e,t)}))}function D(e,t){var n=(0,I.yk)(t,e.canvasNumber);delete C[n],delete A[n],delete k[n],delete x[n]}var R=function(e){_()(n,e);var t=b()(n);function n(e,i){var a;return r()(this,n),(a=t.call(this))._canvasId=(0,I.yk)(e,i),x[a._canvasId]=y()(a),a}return s()(n,[{key:"_init",value:function(){var e=C[this._canvasId];if(this.id=e.canvasNumber,this._top=e.top,this._left=e.left,this._width=e.width,this._height=e.height,this.id){var t=this._initCanvasInstance();S.set(this,t)}else console.error("Canvas node cannot be found")}},{key:"getContext",value:function(e,t){if("2d"===e)console.info("getContext for canvas 2d is not yet supported");else{if("webgl"===e){var n=S.get(this);if(!n)return void console.error("Canvas getContext failed due to missing canvas instance");if(this._ctx)return this._ctx;var i=n.getContext("webgl",t);return this._ctx=i,i}console.error("Invalid type ["+e+"] for Canvas#getContext")}}},{key:"_onReady",value:function(e){var t=this,n=function(){t._init(),"function"==typeof e&&e()};C[this._canvasId]?n():k[this._canvasId]=n}},{key:"width",get:function(){var e=S.get(this);return e&&e.width},set:function(e){var t=S.get(this);t&&(t.width=e)}},{key:"height",get:function(){var e=S.get(this);return e&&e.height},set:function(e){var t=S.get(this);t&&(t.height=e)}},{key:"_initCanvasInstance",value:function(){}},{key:"createImage",value:function(){}},{key:"requestAnimationFrame",value:function(){}},{key:"cancelAnimationFrame",value:function(){}}]),n}(E.c),O=n(8392),N=n(426),M=null,L=!1,W={},F=["touchstart","touchmove","touchend","touchcancel"];p.cj&&((0,O.Ld)("webGLInserted",(function(e,t){var n;M||(M=(0,N.t)()),L||(L=!0,n=M,F.forEach((function(e){n["on".concat(e)]=function(t){var n=W[t.canvasId];n?n.handlers["bind".concat(e)]&&v.Z.webviewEventCallback({data:{type:e,target:n.target,currentTarget:n.target,timeStamp:t.timeStamp,touches:(0,I.VN)(t.touches),changedTouches:(0,I.VN)(t.changedTouches)},eventName:n.handlers["bind".concat(e)],webviewId:n.webviewId,nodeId:n.nodeId}):console.error("event can not be dispatched due to missing node info")}}))),W[e.canvasNumber]=Object.assign({},e.data,{webviewId:t}),P(e,t)})),(0,O.Ld)("webGLRemoved",(function(e,t){delete W[e.canvasNumber],D(e,t)})));!function(e){_()(n,e);var t=b()(n);function n(){return r()(this,n),t.apply(this,arguments)}s()(n,[{key:"_initCanvasInstance",value:function(){var e,t;return e=this,(t=M.createCanvas(e.id))._canvasId=e._canvasId,t}},{key:"createImage",value:function(){return e=this,t=M.createImage(e.id),n=C[e._canvasId]||{},(0,I.K1)(t,n);var e,t,n}},{key:"requestAnimationFrame",value:function(e){return M.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return M.cancelAnimationFrame(e)}}])}(R);var B=n(3646),j=n.n(B),U=n(862),G=n.n(U),V=n(6965),Z=["touchstart","touchmove","touchend","touchcancel"],H=!1;function Y(){var e=V.Z.EventHandler;Z.forEach((function(t){e["on".concat(t)]=function(e){var n=e.currentTarget,i=A[n._canvasId];i?i.handlers["bind".concat(t)]&&v.Z.webviewEventCallback({data:{type:t,target:i.target,currentTarget:i.target,timeStamp:e.timeStamp,touches:(0,I.VN)(e.touches),changedTouches:(0,I.VN)(e.changedTouches)},eventName:i.handlers["bind".concat(t)],webviewId:i.webviewId,nodeId:i.nodeId}):console.error("event can not be dispatched due to missing node info")}}))}p.wZ&&((0,O.Ld)("webGLInserted",(function(){H||(H=!0,Y()),P.apply(void 0,arguments)})),(0,O.Ld)("webGLRemoved",D));!function(e){_()(n,e);var t=b()(n);function n(){return r()(this,n),t.apply(this,arguments)}s()(n,[{key:"_initCanvasInstance",value:function(){var e,t,n=(e=this,(t=new V.Z.findElementById(e.id))._canvasId=e._canvasId,t);return this.__canvasNumber=this.id,this.id=n.__id,n}},{key:"getContext",value:function(e,t){return t&&t.alpha||(0,O.nY)("xwebWebGLSetOpaqueBackground",{canvasNumber:this.__canvasNumber}),j()(G()(n.prototype),"getContext",this).call(this,e,t)}},{key:"createImage",value:function(){return e=this,t=new V.Z.Image,n=C[e._canvasId],(0,I.K1)(t,n);var e,t,n}},{key:"requestAnimationFrame",value:function(e){return V.Z.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return V.Z.cancelAnimationFrame(e)}}])}(R);var z=n(2208),q=n.n(z),K=n(3379),X=n.n(K),J=n(8586),$={},Q={},ee={},te={},ne=v.Z.currentWebviewId;p.gm&&((0,O.Ld)("webGLInserted",P),(0,O.Ld)("webGLUpdated",(function(e,t){var n=(0,I.yk)(t,e.canvasNumber),i=$[n];if(!i)return;i.style.top=e.box.top+"px",i.style.left=e.box.left+"px",i.style.width=e.box.width+"px",i.style.height=e.box.height+"px"})),(0,O.Ld)("webGLRemoved",(function(e,t){var n=(0,I.yk)(t,e.canvasNumber);D(e,t),delete $[n]})),(0,O.Ld)("webGLPageScroll",(function(e,t){"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),ee[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),(0,J.H)((function(e){te[e.webviewId]||((0,T.dq)(e.webviewId,(function(){var t=Q[e.webviewId];if(t){var n,i=X()(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;delete $[a._canvasId],document.body.removeChild(a)}}catch(e){i.e(e)}finally{i.f()}delete ee[e.webviewId],delete Q[e.webviewId],delete te[e.webviewId]}})),te[e.webviewId]=!0);var t=e.webviewId;if(t!==ne)for(var n=0,i=Object.entries(Q);n<i.length;n++){var a=q()(i[n],2),r=a[0],o=a[1];if(String(r)===String(t)){var s,c=X()(o);try{for(c.s();!(s=c.n()).done;){s.value.style.visibility="visible"}}catch(e){c.e(e)}finally{c.f()}var l=ee[r];l?window.scrollTo(l.scrollLeft,l.scrollTop):window.scrollTo(0,0)}else{var u,d=X()(o);try{for(d.s();!(u=d.n()).done;){u.value.style.visibility="hidden"}}catch(e){d.e(e)}finally{d.f()}}}ne=t})));!function(e){_()(n,e);var t=b()(n);function n(e,i){var a;return r()(this,n),(a=t.call(this,e,i))._webviewId=e,a}s()(n,[{key:"_initCanvasInstance",value:function(){var e,t;return e=this,(t=document.createElement("canvas")).style.position="absolute",t.style.top=e._top+"px",t.style.left=e._left+"px",t.style.width=e._width+"px",t.style.height=e._height+"px",t.width=e._width,t.height=e._height,t._canvasId=e._canvasId,document.body.appendChild(t),$[e._canvasId]=t,Q[e._webviewId]||(Q[e._webviewId]=[]),Q[e._webviewId].push(t),t}},{key:"createImage",value:function(){return e=C[this._canvasId],window.__global.createCustomImage((function(t){return(0,I.rL)(t,e.nodeId,e.pluginId,e.webviewId)}),(function(e){return e.replace(/^\/__pageframe__\//,"")}));var e}},{key:"requestAnimationFrame",value:function(e){return window.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return window.cancelAnimationFrame(e)}}])}(R);var ie=n(2354),ae=(n(8457),n(8450),n(1279)),re=n.n(ae),oe=n(4708),se={},ce={},le={},ue=v.Z.currentWebviewId;p.gm&&((0,O.Ld)("skiaCanvasInsert",(function(e,t){(0,ie.mj)(e,t)})),(0,O.Ld)("skiaCanvasRemove",(function(e,t){(0,ie.OS)(e,t);var n=(0,I.yk)(t,e.canvasNumber);delete se[n]})),(0,O.Ld)("skiaCanvasUpdated",(function(e,t){var n=(0,I.yk)(t,e.canvasNumber),i=se[n];if(!i||"function"==typeof i){return void new Promise((function(e){se[n]=e})).then((function(t){t.style.top=e.box.top+"px",t.style.left=e.box.left+"px",t.style.width=e.box.width+"px",t.style.height=e.box.height+"px"}))}i.style.top=e.box.top+"px",i.style.left=e.box.left+"px",i.style.width=e.box.width+"px",i.style.height=e.box.height+"px"})),(0,O.Ld)("skiaPageScroll",(function(e,t){"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),le[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),(0,J.H)((function(e){(0,T.dq)(e.webviewId,(function(){var t=ce[e.webviewId];if(t){var n,i=X()(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;document.body.removeChild(a)}}catch(e){i.e(e)}finally{i.f()}delete le[e.webviewId],delete ce[e.webviewId]}}));var t=e.webviewId;if(t!==ue)for(var n=0,i=Object.entries(ce);n<i.length;n++){var a=q()(i[n],2),r=a[0],o=a[1];if(String(r)===String(t)){var s,c=X()(o);try{for(c.s();!(s=c.n()).done;){s.value.style.visibility="visible"}}catch(e){c.e(e)}finally{c.f()}var l=le[r];l?window.scrollTo(l.scrollLeft,l.scrollTop):window.scrollTo(0,0)}else{var u,d=X()(o);try{for(d.s();!(u=d.n()).done;){u.value.style.visibility="hidden"}}catch(e){d.e(e)}finally{d.f()}}}ue=t})));(function(e){_()(n,e);var t=b()(n);function n(e,i){var a;return r()(this,n),(a=t.call(this,e,i))._webviewId=e,a}s()(n,[{key:"_initCanvasInstance",value:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top=this._top+"px",e.style.left=this._left+"px",e.style.width=this._width+"px",e.style.height=this._height+"px",e.width=this._width,e.height=this._height,e._canvasId=this._canvasId,document.body.appendChild(e);var t=se[this._canvasId];return t&&"function"==typeof t&&t(e),se[this._canvasId]=e,ce[this._webviewId]||(ce[this._webviewId]=[]),ce[this._webviewId].push(e),this._canvasRef=e,e}},{key:"getContext",value:function(e,t){return(0,I.zG)(oe.I)(j()(G()(n.prototype),"getContext",this).call(this,e,t),this.id)}},{key:"createImage",value:function(){var e=ie.nE[this._canvasId];return window.__global.createCustomImage((function(t){return(0,I.rL)(t,e.nodeId,e.pluginId,e.webviewId)}),(function(e){return e.replace(/^\/__pageframe__\//,"")}))}},{key:"createImageData",value:function(e,t,n){if(!e)return null;t=parseFloat(t),n=parseFloat(n);for(var i=document.createElement("canvas").getContext("2d").createImageData(t,n),a=0;a<e.length;a++)i.data[a]=e[a];return i}},{key:"createPath2D",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.Path2D?re()(Path2D,t):null}},{key:"requestAnimationFrame",value:function(e){return window.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return window.cancelAnimationFrame(e)}}])})(ie.gK),n(4269);var de=d,pe=null,fe=function(){if(pe)return pe;if((0,f.aI)()){var e=new NativeGlobal.Canvas;e.width=1,e.height=1,pe=e.getContext("2d")}else pe=(0,h.yU)();return pe};const he=new(function(){function e(){r()(this,e)}return s()(e,[{key:"getCharWidth",value:function(e,t){return(de[e]?de[e]:10)*t/10}},{key:"limitString",value:function(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}},{key:"getTextWidth",value:function(e,t){if(p.wZ)return this.getTextWidthInAndroid(e,t);var n=fe();return t&&(n.font="".concat(t,"px ").concat("PingFangSC-Regular, SF Pro Display, SF Pro Text")),Math.ceil(n.measureText(e).width||0)+1}},{key:"getTextWidthInAndroid",value:function(e,t){var n=this;e=(e=String(e)).split("");var i=0;return e.forEach((function(e){var a=n.getCharWidth(e,t);i+=a})),i}},{key:"getMaxWordLength",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=(e=String(e)).split("");var a=0,r=0;i&&(n-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],c=this.getCharWidth(s,t);if(a+c>n)break;r++,a+=c}return r}},{key:"textMetrics",value:function(e,t){for(var n=t.fontSize,i=t.maxWidth,a=t.maxLines,r=void 0===a?1:a,o=[],s=0,c=e.substring(0,e.length);s<r;){var l=this.getMaxWordLength(c,n,i,!(s!==r-1)),u=s===r-1?this.limitString(c,l):c.substring(0,l);u&&o.push({text:u,width:this.getTextWidth(u,n)}),s++,c=c.substring(l,c.length)}return o}}]),e}())},5704:(e,t,n)=>{"use strict";n.d(t,{W:()=>_});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(6326),c=n(6301),l=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],u=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],d=n(8068),p=n(8947),f=n(7264),h=new s.Z({maxListeners:2e5}),v=32768,g="portrait",y="";p.Z.onReady((function(){g=p.Z.deviceOrientation||g,y=(0,c.Oo)().model||""}));var m=function(e,t){return-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?"element-".concat(t,"-").concat(e):-1!==["layout"].indexOf(e)?e:void 0},_=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.parentId,r=void 0===i?0:i,o=n.id,s=void 0===o?v++:o,c=n.style,f=void 0===c?{}:c,h=n.props,m=void 0===h?{}:h,_=n.name,w=void 0===_?"":_;a()(this,e);var b=p.Z.platform;this.parentId=r,this.dest=0,this.id=s,this.name=w,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((function(e){t.on("ready",e)})),f=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},f),Object.assign(f,f[g]);var I=/iphone x/.test(y.toLowerCase())?"iphone x":b;Object.assign(f,f[I]),Object.assign(f,f["".concat(I,"-").concat(g)]),this.style={},this.computedStyle=Object.assign({},f),this.lastComputedStyle=Object.assign({},f),this.layoutBox=null,Object.keys(f).forEach((function(e){Object.defineProperty(t.style,e,{configurable:!0,enumerable:!0,get:function(){return f[e]},set:function(n){if(n!==f[e]&&void 0!==n){if(f[e]=n,t.computedStyle[e]=n,t.lastComputedStyle[e]=n,-1!==l.indexOf(e)&&t.style.scale){var i=n*t.style.scale;t.computedStyle[e]=i,t.lastComputedStyle[e]=i}"scale"===e&&l.forEach((function(e){f[e]&&(t.computedStyle[e]=f[e]*n,t.lastComputedStyle[e]=f[e]*n)})),t.shouldUpdate=!0,"hidden"===e&&(n?((0,d.cM)(t.id,t.name,"隐藏, 保存宽高",t.computedStyle.width,t.computedStyle.height),u.forEach((function(e){t.computedStyle[e]=0}))):((0,d.cM)(t.id,t.name,"显示, 设置回来",t.lastComputedStyle.width,t.lastComputedStyle.height),u.forEach((function(e){t.computedStyle[e]=t.lastComputedStyle[e]})))),t.requestLayout()}}})})),l.forEach((function(e){if(t.style[e]&&t.style.scale){var n=t.style[e]*t.style.scale;t.computedStyle[e]=n,t.lastComputedStyle[e]=n}})),f.hidden&&u.forEach((function(e){t.computedStyle[e]=0})),Object.keys(m).forEach((function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return m[e]},set:function(n){n!==m[e]&&(m[e]=n,t.shouldUpdate=!0,t.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((function(e){t.on(e,(function(n){if(t.bubbleEvent&&t.parent){var i=0,a=0;try{i=t.layoutBox.left,a=t.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var r=Object.assign({},n);r.x+=i,r.y+=a,t.parent.emit(e,r)}else{var o=n.map((function(e){return{x:e.x+i,y:e.y+a}}));t.parent.emit(e,o)}}}))}))}return o()(e,[{key:"getChildren",value:function(){var e=this;return Object.keys(this.children).map((function(t){var n=e.children[t];return n.dest=e.dest,{id:n.id,name:n.name,style:n.computedStyle,children:n.getChildren()}}))}},{key:"getAbsolutePosition",value:function(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var t=this.getAbsolutePosition(e.parent),n=t.left,i=t.top;return{left:n+e.layoutBox.left,top:i+e.layoutBox.top}}},{key:"add",value:function(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}},{key:"remove",value:function(e){var t=this;e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((function(e){t.children[e].remove(),delete t.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}},{key:"emit",value:function(e,t){h.emit(m(e,this.id),t)}},{key:"on",value:function(e,t){h.on(m(e,this.id),t)}},{key:"once",value:function(e,t){h.once(m(e,this.id),t)}},{key:"off",value:function(e,t){h.off(m(e,this.id),t)}},{key:"nextLayout",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise((function(e){return t.nextLayout(e)}));setTimeout(e,250)}},{key:"nextUpdate",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise((function(e){return t.nextUpdate(e)}));this.once("update-done",e)}},{key:"ready",value:function(){var e=this,t=Object.keys(this.children).map((function(t){return e.children[t].ready()}));return Promise.all(t.concat(this.readyResult))}},{key:"requestLayout",value:function(){this.emit("layout")}},{key:"forceUpdate",value:function(){var e=this,t=this.isInserted?this.update():this.insert(),n=Object.keys(this.children).map((function(t){return e.children[t].forceUpdate()}));return t.then((function(){return Promise.all(n)}))}},{key:"insert",value:function(){return Promise.resolve()}},{key:"update",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){var e=this;["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((function(t){var n=m(t,e.id);h.removeAllListeners(n)}))}}]),e}(),w=function(e){var t=JSON.parse(e.data).id;h.emit(m("click",t))};(0,f.n)("onTextViewClick",w),(0,f.n)("onImageViewClick",w),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((function(e){var t=e.replace(/^on/,"").toLowerCase();(0,f.n)(e,(function(e){try{var n=JSON.parse(e.data).id;h.emit(m(t,n),e.touch||e.touches)}catch(e){}}))}))},9515:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>S,Vr:()=>Fe,xv:()=>_,nk:()=>V,G7:()=>m,kh:()=>Le.k,_w:()=>A,uo:()=>k});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(3646),c=n.n(s),l=n(862),u=n.n(l),d=n(4742),p=n.n(d),f=n(7541),h=n.n(f),v=n(8392),g=n(5704),y=n(8068),m=function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.id,o=i.parentId,s=i.style,c=i.props,l=void 0===c?{}:c,u=i.type,d=void 0===u?"text":u,p=i.name,f=void 0===p?"":p,h=i.autoInsert,v=void 0!==h&&h,g=i.eventType,y=void 0===g?"touch":g,m=i.clickState,_=void 0!==m&&m,w=i.bubbleEvent,b=void 0!==w&&w;a()(this,n),(e=t.call(this,{id:r,style:s,props:Object.assign(l,{fullscreen:!1}),name:f,parentId:o})).type="text"===d?"TextView":"ImageView",e.eventType=y,e.autoInsert=v,e.bubbleEvent=b,"touch"===e.eventType&&_&&e.ready().then((function(){e.mask=new n({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click"}),e.mask.name="mask",e.add(e.mask)})).catch((function(){}));var I=Date.now(),E={x:0,y:0};e.on("touchstart",(function(t){_&&e.mask&&(e.mask.style.hidden=!1),I=Date.now(),E=t}));var T=function(t){_&&e.mask&&(e.mask.style.hidden=!0);var n={x:0,y:0};try{n=e.getAbsolutePosition()}catch(e){}var i={x:0,y:0};Array.isArray(t)?i=t.pop():t.x&&t.y&&(i=t);var a={absoluteX:n.left+E.x,absoluteY:n.top+E.y,relativeX:E.x,relativeY:E.y,absoluteEndX:n.left+i.x,absoluteEndY:n.top+i.y,relativeEndX:i.x,relativeEndY:i.y,pressInterval:Date.now()-I};e.emit("click",a)};return e.on("touchend",T),e.on("touchcancel",T),e.autoInsert&&e.insert(),e}return o()(n,[{key:"toNativeData",value:function(){var e=this,t=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&t.push("objectFit");var n=t.reduce((function(t,n){return t[n]=e.computedStyle[n],"borderColor"===n&&(t[n]=(0,y.$v)(e.computedStyle[n])),t}),{});n.bgColor=(0,y.$v)(this.computedStyle.backgroundColor),n.scaleX=this.computedStyle.scaleWidth,n.scaleY=this.computedStyle.scaleHeight;var i={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(i={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(i.width=0,i.height=0),this.mask&&(this.mask.style.width=i.width,this.mask.style.height=i.height),n.padding=[0,0,0,0],void 0!==n.borderRadius&&n.borderRadius||(n.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:i,hide:this.computedStyle.hidden,style:n,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:n.fixed}}},{key:"insert",value:function(){var e=this,t=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise((function(n,i){(0,v.IN)("insert".concat(e.type),Object.assign(t,{success:function(t){(0,y.cM)(e.name,e.id,"ready"),e.emit("ready"),n(t)},fail:i}))}))}},{key:"update",value:function(){var e=this;this.shouldUpdate=!1;var t=this.toNativeData();return new Promise((function(n,i){(0,v.IN)("update".concat(e.type),Object.assign(t,{success:n,fail:i}))}))}},{key:"destroy",value:function(){var e=this;c()(u()(n.prototype),"destroy",this).call(this);var t={dest:this.dest,viewId:this.id};return new Promise((function(n,i){(0,v.IN)("remove".concat(e.type),Object.assign(t,{success:n,fail:i}))}))}},{key:"animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,a=t.opacity,r=t.scaleWidth,o=t.scaleHeight,s=t.rotate,c=void 0===s?0:s,l=t.duration,u=void 0===l?500:l,d={dest:this.dest,viewId:this.id,easing:"ease-in",duration:u,finalStyle:{left:n,top:i,opacity:a,rotate:c,scaleX:r,scaleY:o}};return new Promise((function(e,t){(0,v.IN)("animateCoverView",Object.assign(d,{success:e,fail:t}))})).then((function(t){return void 0!==n&&(e.style.left=n),void 0!==i&&(e.style.top=i),void 0!==r&&(e.style.scaleWidth=r),void 0!==o&&(e.style.scaleHeight=o),void 0!==a&&(e.style.opacity=a),void 0!==c&&(e.style.rotate=c),t}))}}]),n}(g.W),_=function(e){p()(n,e);var t=h()(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,r=e.style,o=e.value,s=void 0===o?"":o,c=e.name,l=void 0===c?"":c,u=e.autoInsert,d=void 0!==u&&u,p=e.eventType,f=e.bubbleEvent,h=e.clickState;return a()(this,n),t.call(this,{id:i,style:r,props:{value:s},type:"text",name:l,autoInsert:d,eventType:p,bubbleEvent:f,clickState:h})}return o()(n,[{key:"toNativeData",value:function(){var e=this,t=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce((function(t,n){return t[n]=e.computedStyle[n],t}),{});return Object.assign(c()(u()(n.prototype),"toNativeData",this).call(this),{label:Object.assign(t,{content:this.value})})}}]),n}(m),w=function(){var e,t="inherit",n="row",i="row-reverse",a="column",r="column-reverse",o="flex-start",s="center",c="flex-start",l="center",u="flex-end",d="stretch",p="relative",f="absolute",h={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},v={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},g={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},y={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function m(e){return void 0===e}function _(e){return e===n||e===i}function w(e,t){if(void 0!==e.style.marginStart&&_(t))return e.style.marginStart;var n=null;switch(t){case"row":n=e.style.marginLeft;break;case"row-reverse":n=e.style.marginRight;break;case"column":n=e.style.marginTop;break;case"column-reverse":n=e.style.marginBottom}return void 0!==n?n:void 0!==e.style.margin?e.style.margin:0}function b(e,t){if(void 0!==e.style.marginEnd&&_(t))return e.style.marginEnd;var n=null;switch(t){case"row":n=e.style.marginRight;break;case"row-reverse":n=e.style.marginLeft;break;case"column":n=e.style.marginBottom;break;case"column-reverse":n=e.style.marginTop}return null!=n?n:void 0!==e.style.margin?e.style.margin:0}function I(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&_(t))return e.style.borderStartWidth;var n=null;switch(t){case"row":n=e.style.borderLeftWidth;break;case"row-reverse":n=e.style.borderRightWidth;break;case"column":n=e.style.borderTopWidth;break;case"column-reverse":n=e.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function E(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&_(t))return e.style.borderEndWidth;var n=null;switch(t){case"row":n=e.style.borderRightWidth;break;case"row-reverse":n=e.style.borderLeftWidth;break;case"column":n=e.style.borderBottomWidth;break;case"column-reverse":n=e.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function T(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&_(t))return e.style.paddingStart;var n=null;switch(t){case"row":n=e.style.paddingLeft;break;case"row-reverse":n=e.style.paddingRight;break;case"column":n=e.style.paddingTop;break;case"column-reverse":n=e.style.paddingBottom}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+I(e,t)}function k(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&_(t))return e.style.paddingEnd;var n=null;switch(t){case"row":n=e.style.paddingRight;break;case"row-reverse":n=e.style.paddingLeft;break;case"column":n=e.style.paddingBottom;break;case"column-reverse":n=e.style.paddingTop}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+E(e,t)}function A(e,t){return I(e,t)+E(e,t)}function C(e,t){return w(e,t)+b(e,t)}function S(e,t){return T(e,t)+k(e,t)}function x(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function P(e,t){if("rtl"===t){if(e===n)return i;if(e===i)return n}return e}function D(e,t){return function(e){return e===a||e===r}(e)?P(n,t):a}function R(e){return e.style.position?e.style.position:"relative"}function O(e){return R(e)===p&&e.style.flex>0}function N(e,t){return e.layout[y[t]]+C(e,t)}function M(e,t){return void 0!==e.style[y[t]]&&e.style[y[t]]>=0}function L(e,t){return void 0!==e.style[t]}function W(e,t){return void 0!==e.style[t]?e.style[t]:0}function F(e,t,n){var i={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],a={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],r=n;return void 0!==a&&a>=0&&r>a&&(r=a),void 0!==i&&i>=0&&r<i&&(r=i),r}function B(e,t){return e>t?e:t}function j(e,t){void 0===e.layout[y[t]]&&M(e,t)&&(e.layout[y[t]]=B(F(e,t,e.style[y[t]]),S(e,t)))}function U(e,t,n){t.layout[v[n]]=e.layout[y[n]]-t.layout[y[n]]-t.layout[g[n]]}function G(e,t){return void 0!==e.style[h[t]]?W(e,h[t]):-W(e,v[t])}function V(E,V,H){var Y=function(e,n){var i;return(i=e.style.direction?e.style.direction:t)===t&&(i=void 0===n?"ltr":n),i}(E,H),z=P(function(e){return e.style.flexDirection?e.style.flexDirection:a}(E),Y),q=D(z,Y),K=P(n,Y);j(E,z),j(E,q),E.layout.direction=Y,E.layout[h[z]]+=w(E,z)+G(E,z),E.layout[v[z]]+=b(E,z)+G(E,z),E.layout[h[q]]+=w(E,q)+G(E,q),E.layout[v[q]]+=b(E,q)+G(E,q);var X=E.children.length,J=S(E,K);if(function(e){return void 0!==e.style.measure}(E)){var $=!m(E.layout[y[K]]),Q=e;Q=M(E,K)?E.style.width:$?E.layout[y[K]]:V-C(E,K),Q-=J;var ee=!M(E,K)&&!$,te=!M(E,a)&&m(E.layout[y.column]);if(ee||te){var ne=E.style.measure(Q);ee&&(E.layout.width=ne.width+J),te&&(E.layout.height=ne.height+S(E,a))}if(0===X)return}var ie,ae,re,oe,se=function(e){return"wrap"===e.style.flexWrap}(E),ce=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(E),le=T(E,z),ue=T(E,q),de=S(E,z),pe=S(E,q),fe=!m(E.layout[y[z]]),he=!m(E.layout[y[q]]),ve=_(z),ge=null,ye=null,me=e;fe&&(me=E.layout[y[z]]-de);for(var _e=0,we=0,be=0,Ie=0,Ee=0,Te=0;we<X;){var ke,Ae=0,Ce=0,Se=0,xe=0,Pe=fe&&ce===o||!fe&&ce!==s,De=Pe?X:_e,Re=!0,Oe=X,Ne=null,Me=null,Le=le,We=0;for(ie=_e;ie<X;++ie){if((re=E.children[ie]).lineIndex=Te,re.nextAbsoluteChild=null,re.nextFlexChild=null,(Ye=x(E,re))===d&&R(re)===p&&he&&!M(re,q))re.layout[y[q]]=B(F(re,q,E.layout[y[q]]-pe-C(re,q)),S(re,q));else if(R(re)===f)for(null===ge&&(ge=re),null!==ye&&(ye.nextAbsoluteChild=re),ye=re,ae=0;ae<2;ae++)oe=0!==ae?n:a,!m(E.layout[y[oe]])&&!M(re,oe)&&L(re,h[oe])&&L(re,v[oe])&&(re.layout[y[oe]]=B(F(re,oe,E.layout[y[oe]]-S(E,oe)-C(re,oe)-W(re,h[oe])-W(re,v[oe])),S(re,oe)));var Fe=0;if(fe&&O(re)?(Ce++,Se+=re.style.flex,null===Ne&&(Ne=re),null!==Me&&(Me.nextFlexChild=re),Me=re,Fe=S(re,z)+C(re,z)):(ke=e,ve||(ke=M(E,K)?E.layout[y[K]]-J:V-C(E,K)-J),0===be&&Z(re,ke,Y),R(re)===p&&(xe++,Fe=N(re,z))),se&&fe&&Ae+Fe>me&&ie!==_e){xe--,be=1;break}Pe&&(R(re)!==p||O(re))&&(Pe=!1,De=ie),Re&&(R(re)!==p||Ye!==d&&Ye!==c||m(re.layout[y[q]]))&&(Re=!1,Oe=ie),Pe&&(re.layout[g[z]]+=Le,fe&&U(E,re,z),Le+=N(re,z),We=B(We,F(re,q,N(re,q)))),Re&&(re.layout[g[q]]+=Ie+ue,he&&U(E,re,q)),be=0,Ae+=Fe,we=ie+1}var Be=0,je=0,Ue=0;if(Ue=fe?me-Ae:B(Ae,0)-Ae,0!==Ce){var Ge,Ve,Ze=Ue/Se;for(Me=Ne;null!==Me;)(Ge=Ze*Me.style.flex+S(Me,z))!==(Ve=F(Me,z,Ge))&&(Ue-=Ve,Se-=Me.style.flex),Me=Me.nextFlexChild;for((Ze=Ue/Se)<0&&(Ze=0),Me=Ne;null!==Me;)Me.layout[y[z]]=F(Me,z,Ze*Me.style.flex+S(Me,z)),ke=e,M(E,K)?ke=E.layout[y[K]]-J:ve||(ke=V-C(E,K)-J),Z(Me,ke,Y),re=Me,Me=Me.nextFlexChild,re.nextFlexChild=null}else ce!==o&&(ce===s?Be=Ue/2:"flex-end"===ce?Be=Ue:"space-between"===ce?(Ue=B(Ue,0),je=Ce+xe-1!=0?Ue/(Ce+xe-1):0):"space-around"===ce&&(Be=(je=Ue/(Ce+xe))/2));for(Le+=Be,ie=De;ie<we;++ie)R(re=E.children[ie])===f&&L(re,h[z])?re.layout[g[z]]=W(re,h[z])+I(E,z)+w(re,z):(re.layout[g[z]]+=Le,fe&&U(E,re,z),R(re)===p&&(Le+=je+N(re,z),We=B(We,F(re,q,N(re,q)))));var He=E.layout[y[q]];for(he||(He=B(F(E,q,We+pe),pe)),ie=Oe;ie<we;++ie)if(R(re=E.children[ie])===f&&L(re,h[q]))re.layout[g[q]]=W(re,h[q])+I(E,q)+w(re,q);else{var Ye,ze=ue;if(R(re)===p)if((Ye=x(E,re))===d)m(re.layout[y[q]])&&(re.layout[y[q]]=B(F(re,q,He-pe-C(re,q)),S(re,q)));else if(Ye!==c){var qe=He-pe-N(re,q);ze+=Ye===l?qe/2:qe}re.layout[g[q]]+=Ie+ze,he&&U(E,re,q)}Ie+=We,Ee=B(Ee,Le),Te+=1,_e=we}if(Te>1&&he){var Ke=E.layout[y[q]]-pe,Xe=Ke-Ie,Je=0,$e=ue,Qe=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(E);Qe===u?$e+=Xe:Qe===l?$e+=Xe/2:Qe===d&&Ke>Ie&&(Je=Xe/Te);var et=0;for(ie=0;ie<Te;++ie){var tt=et,nt=0;for(ae=tt;ae<X;++ae)if(R(re=E.children[ae])===p){if(re.lineIndex!==ie)break;m(re.layout[y[q]])||(nt=B(nt,re.layout[y[q]]+C(re,q)))}for(et=ae,nt+=Je,ae=tt;ae<et;++ae)if(R(re=E.children[ae])===p){var it=x(E,re);if(it===c)re.layout[g[q]]=$e+w(re,q);else if(it===u)re.layout[g[q]]=$e+nt-b(re,q)-re.layout[y[q]];else if(it===l){var at=re.layout[y[q]];re.layout[g[q]]=$e+(nt-at)/2}else it===d&&(re.layout[g[q]]=$e+w(re,q))}$e+=nt}}var rt=!1,ot=!1;if(fe||(E.layout[y[z]]=B(F(E,z,Ee+k(E,z)),de),z!==i&&z!==r||(rt=!0)),he||(E.layout[y[q]]=B(F(E,q,Ie+pe),pe),q!==i&&q!==r||(ot=!0)),rt||ot)for(ie=0;ie<X;++ie)re=E.children[ie],rt&&U(E,re,z),ot&&U(E,re,q);for(ye=ge;null!==ye;){for(ae=0;ae<2;ae++)oe=0!==ae?n:a,!m(E.layout[y[oe]])&&!M(ye,oe)&&L(ye,h[oe])&&L(ye,v[oe])&&(ye.layout[y[oe]]=B(F(ye,oe,E.layout[y[oe]]-A(E,oe)-C(ye,oe)-W(ye,h[oe])-W(ye,v[oe])),S(ye,oe))),L(ye,v[oe])&&!L(ye,h[oe])&&(ye.layout[h[oe]]=E.layout[y[oe]]-ye.layout[y[oe]]-W(ye,v[oe]));re=ye,ye=ye.nextAbsoluteChild,re.nextAbsoluteChild=null}}function Z(e,t,n){e.shouldUpdate=!0;var i=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===i?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=i,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),V(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:V,computeLayout:Z,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var b=function e(t,n){var i=!1;n.layoutBox=n.layoutBox||{},["left","top","width","height"].forEach((function(e){i=i||n.layoutBox[e]!==t.layout[e],n.layoutBox[e]=t.layout[e]})),n.shouldUpdate=n.shouldUpdate||i,t.children.forEach((function(t){var i=n.children[t.id];i&&e(t,i)}))},I=function e(t){var n=Promise.resolve();return t.isInserted?t.shouldUpdate&&(n=t.update()):n=t.insert(),n.then((function(){return Promise.all(Object.keys(t.children).map((function(n){var i=t.children[n];return e(i)})))}))},E=function e(t){t.isInserted?t.shouldUpdate&&t.update():t.insert(),Object.keys(t.children).map((function(n){var i=t.children[n];return e(i)}))},T=function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=i.name,s=i.auto,c=void 0===s||s;a()(this,n),e=t.call(this,{style:r,id:0,name:o});var l=null;return e.auto=c,e.on("layout",(function(){e.auto&&(clearTimeout(l),l=setTimeout((function(){return e.layout()}),0))})),e.onebyone=!0,e}return o()(n,[{key:"layout",value:function(){var e,t=this,n={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return e=n,w.fillNodes(e),w.computeLayout(e),b(n,this),this.onebyone?I(this).then((function(){return t.emit("update-done")})):(E(this),Promise.resolve().then((function(){return t.emit("update-done")})))}}]),n}(g.W),k=new T({name:"webview-layout"});k.dest=0;var A=new T({name:"nativeview-layout",auto:!1});A.onebyone=!1,A.dest=1;var C=n(968),S=function(e){p()(n,e);var t=h()(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,r=e.style,o=e.src,s=void 0===o?"":o,c=e.name,l=void 0===c?"":c,u=e.autoInsert,d=void 0!==u&&u,p=e.eventType,f=e.bubbleEvent,h=e.clickState;return a()(this,n),t.call(this,{id:i,style:r,props:{src:s},type:"image",name:l,autoInsert:d,eventType:p,bubbleEvent:f,clickState:h})}return o()(n,[{key:"toNativeData",value:function(){return Object.assign(c()(u()(n.prototype),"toNativeData",this).call(this),{iconPath:(0,C.Uj)(this.src)})}}]),n}(m),x=n(7615),P=n.n(x),D=n(7937),R=n(7264),O=n(2363),N=n(8947),M=n(266),L={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},W=0,F={};N.Z.onReady((function(){W=N.Z.appType+1e3,F=N.Z.appLaunchInfo}));var B={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},j={},U=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];O.wZ&&U.push("onVideoFullScreenChange");var G=function(e,t,n){"ad"!==e.scene&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.component,n=e.eventName,i=e.eventData,a=e.src,r=void 0===a?"":a,o=(0,M.PL)(),s=wx&&wx.version&&wx.version.version||"",c=Object.keys(F.query||{}).map((function(e){var t=F.query[e];return"".concat(e,"=").concat(t)})).join(",");c=encodeURIComponent(c);var l="";switch(n){case"onLoad":l=[i.duration,i.controls?2:1].join(";");break;case"onWaiting":l=[i.position,i.buffered].join(";");break;case"onError":l=i.errMsg.replace(","," ");break;case"onFullScreenChange":l=i.fullScreen?2:1;break;case"onTimeUpdate":l=[i.position,i.buffered].join(";");break;case"onImageLoad":l=[i.isLazyLoad?2:1,i.size,i.loadTime,i.width,i.height,i.originalWidth,i.originalHeight].join(";");break;case"onImageError":l=[i.isLazyLoad?2:1].join(";")}var u=[Math.round(Date.now()/1e3),F.scene,"",F.sessionid||F.sessionId,F.path,c,o,s,L[t],B[n],l,encodeURIComponent(r.substring(0,1024)).substring(0,1024),W].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:u})}({component:"video",eventName:t,eventData:n,src:e.src})},V=function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=void 0===r?{}:r,s=i.name,c=i.x,l=void 0===c?0:c,u=i.y,d=void 0===u?0:u,p=i.width,f=void 0===p?300:p,h=i.height,v=void 0===h?200:h,g=i.hide,y=void 0!==g&&g,m=i.src,_=i.poster,w=i.referrerPolicy,b=void 0===w?"no-referrer":w,I=i.initialTime,E=void 0===I?0:I,T=i.playbackRate,k=void 0===T?1:T,A=i.live,C=void 0!==A&&A,S=i.objectFit,x=void 0===S?"contain":S,R=i.controls,O=void 0===R||R,N=i.showProgress,M=void 0===N||N,L=i.showProgressInControlMode,W=void 0===L?M:L,F=i.autoplay,B=void 0!==F&&F,G=i.muted,V=void 0!==G&&G,Z=i.loop,H=void 0!==Z&&Z,Y=i.enableProgressGesture,z=void 0===Y||Y,q=i.enablePlayGesture,K=void 0!==q&&q,X=i.showCenterPlayBtn,J=void 0===X||X,$=i.autoInsert,Q=void 0===$||$,ee=i.scene,te=void 0===ee?"default":ee,ne=i.preLoad,ie=void 0!==ne&&ne,ae=i.obeyMuteSwitch,re=void 0!==ae&&ae,oe=i.underGameView,se=void 0!==oe&&oe,ce=i.backgroundColor,le=void 0===ce?"#000000":ce,ue=i.playerHint,de=void 0===ue?"":ue,pe=i.zIndex;a()(this,n),(e=t.call(this,{style:o,name:s})).isSrcChanged=!1,e.autoInsert=Q,e.playerHint=de,e.scene=te,e.preLoad=ie,e.underGameView=se,e.zIndex=pe,j[e.id]=P()(e);var fe=null;e.emitter=new D.Z,e.deferred=[],e._buffered=0,e._position=0;var he={x:l,y:d,width:f,height:v,hide:y,src:m,poster:_,initialTime:E,playbackRate:k,live:C,objectFit:x,controls:O,showProgress:M,showProgressInControlMode:W,backgroundColor:le,autoplay:B,muted:V,loop:H,enableProgressGesture:z,enablePlayGesture:K,showCenterPlayBtn:J,obeyMuteSwitch:re,referrerPolicy:b};return Object.keys(he).forEach((function(t){Object.defineProperty(P()(e),t,{configurable:!0,enumerable:!0,get:function(){return he[t]},set:function(n){"src"!==t&&he[t]===n||(he[t]=n,e.isInserted?("src"===t&&(e.isSrcChanged=!0),"poster"===t&&(e.isPosterChanged=!0),"playbackRate"===t?e.operate("playbackRate",[n]):(clearTimeout(fe),fe=setTimeout((function(){return e.update()}),0))):e.deferred.push({type:"property",property:t,value:n}))}})})),U.forEach((function(t){var n=t.toLowerCase().replace("video","");e[n]=function(){},e.emitter.on(t,(function(t){e[n](t)}))})),e.autoInsert&&e.insert().then((function(){e.playbackRate&&1!==e.playbackRate&&e.operate("playbackRate",[e.playbackRate])})).then((function(){e.deferred.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)}))})),e}return o()(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return this.isInserted=!0,G(this,"onSrcSet",{}),new Promise((function(t,n){(0,v.IN)("insertVideoPlayer",Object.assign(e.toNativeData(),{data:JSON.stringify({id:e.id}),filePath:(0,C.Uj)(e.src),scene:e.scene,preLoad:e.preLoad,underGameView:e.underGameView,referrerPolicy:e.referrerPolicy,playerHint:e.playerHint,zIndex:e.zIndex,success:function(n){e.emit("ready"),t(n)},fail:n}))}))}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){O.cj?setTimeout((function(){(0,v.IN)("removeVideoPlayer",{videoPlayerId:e.id,success:t,fail:n})}),0):(0,v.IN)("removeVideoPlayer",{videoPlayerId:e.id,success:t,fail:n}),U.forEach((function(t){var n=t.replace("Video","").replace("on","off");"function"==typeof e[n]&&e[n]()})),delete j[e.id]}))}},{key:"toNativeData",value:function(){this.layoutBox;var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:!1,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy};return this.isSrcChanged&&(t.filePath=(0,C.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,C.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}},{key:"update",value:function(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&G(this,"onSrcSet",{}),new Promise((function(t,n){(0,v.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error("".concat(e," can't be invoked when video is hidden"))):new Promise((function(i,a){(0,v.IN)("operateVideoPlayer",{videoPlayerId:t.id,type:e,data:n,success:i,fail:a})}));this.deferred.push({type:"method",method:e,args:n})}},{key:"play",value:function(){return this.operate("play")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"seek",value:function(e){return this.operate("seek",[e])}},{key:"requestFullScreen",value:function(e){return this.operate("requestFullScreen",[e])}},{key:"exitFullScreen",value:function(){return this.operate("exitFullScreen")}}]),n}(g.W);U.forEach((function(e){var t=e.replace("Video","");V.prototype[t]=function(t){this.emitter.on(e,t)};var n=t.replace("on","off");V.prototype[n]=function(t){this.emitter.off(e,t)}})),U.forEach((function(e){(0,R.n)(e,(function(t){var n=t.videoPlayerId||JSON.parse(t.data).id,i=j[n];if(i)if(i.emitter.emit(e,t),"onVideoProgress"!==e){var a=t;"onVideoTimeUpdate"===e?(i._position=t.position,a={position:t.position,buffered:i._buffered}):"onVideoWaiting"===e&&(a={position:i._position,buffered:i._buffered}),G(i,e.replace("Video",""),a)}else i._buffered=t.buffered}))}));var Z=n(6326),H=n(9769),Y=n(8976),z=n(572),q=n.n(z),K=[];const X={add:function(e){e&&K.indexOf(e)<0&&K.push(e)},remove:function(e){var t=K.indexOf(e);t>=0&&K.splice(t,1)},get size(){return K.length}};var J=n(9267),$=n(9947),Q="function"==typeof wxNativeConsole?wxNativeConsole.createLogger("SharedArrayBuffer"):wxConsole,ee=0,te=1,ne=2,ie=new WeakMap,ae=new Map,re=ArrayBuffer,oe="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer;"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?re=__global.SharedArrayBuffer:n.g.SharedArrayBuffer&&(re=n.g.SharedArrayBuffer));var se=function(){function e(t,n){if(a()(this,e),Q.log("constructor length=".concat(t,", sabId=").concat(n)),!(0,J.hj)(t)||t<0)throw new $.iZ("Invalid array buffer length ".concat(t));if((0,J.hj)(n)){var i;Q.info("get buffer with sabId: ".concat(n));try{i=oe.get(n)}catch(e){throw Q.error("WeixinSharedBuffer.get".concat(n," fail: ").concat(e.message)),new Error("WeixinSharedBuffer.get".concat(n," fail: ").concat(e.message))}Object.defineProperty(this,"buffer",{value:i,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}else{Q.info("new ArrayBuffer with length: ".concat(t)),Object.defineProperty(this,"buffer",{value:new re(t),writable:!1,enumerable:!0});var r=oe.new(this.buffer);Q.info("sabId: ".concat(r)),Object.defineProperty(this,"_sabId",{value:r,enumerable:!0,writable:!1})}var o={writeStatus:ee,readStatus:ee,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};ie.set(this,o),ae.set(this._sabId,this),Q.log("[".concat(this._sabId,"] created:"),this.buffer)}return o()(e,[{key:"destroy",value:function(){Q.warn("[".concat(this._sabId,"][destroy()]"));var e=ie.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],ae.delete(this._sabId),ie.get(this).destroyed=!0,this.unlock(),oe.destroy(this._sabId)}},{key:"lock",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!0;var n=ie.get(this),i=n.destroyed,a=n.writeStatus,r=n.readStatus,o=n.writeLockCallbacks,s=n.readLockCallbacks;if(i)throw new $.iZ("SharedArrayBuffer has been destroyed");if(!(0,J.mf)(e))throw new $.iZ("callback must be a function");if(a!==ne)if(t)o.push(e),a===te||(n.writeStatus=te,n.writeLockId=oe.Lock(this._sabId,(function(){o.forEach((function(e){return e()})),s.forEach((function(e){return e()})),n.writeStatus=ne,n.writeLockCallbacks=[],n.readLockCallbacks=[]})));else{if(r===ne)return Q.info("[".concat(this._sabId,"][lock()] readStatus is locked, callback immediately")),void e();s.push(e),r===te||a===te||(n.readLockId=oe.Lock(this._sabId,(function(){s.forEach((function(e){return e()})),n.readStatus=ne,n.readLockCallbacks=[]})),n.readStatus=te)}else e()}},{key:"unlock",value:function(){var e=ie.get(this),t=e.writeLockId,n=e.readLockId,i=e.writeStatus,a=e.readStatus;e.destroyed?console.warn("unlock: SharedArrayBuffer has been destroyed"):(i!==te&&i!==ne||(oe.Unlock(this._sabId,t),e.writeStatus=ee,e.writeLockId=void 0,e.writeLockCallbacks=[]),a!==te&&a!==ne||(oe.Unlock(this._sabId,n),e.readStatus=ee,e.readLockId=void 0,e.readLockCallbacks=[]))}}]),e}(),ce=function e(t){return Q.log("[unpackSharedArrayBuffer]",t),(0,J.Kn)(t)?(Q.log("[unpackSharedArrayBuffer] isObject"),(0,J.hj)(t._sabId)?(Q.info("[unpackSharedArrayBuffer] sabId is number"),n=t._sabId,Q.info("[getSharedArrayBuffer] sabId=".concat(n)),ae.has(n)?(Q.info("[getSharedArrayBuffer] return existed object"),ae.get(n)):(Q.info("[getSharedArrayBuffer] return new object"),new se(0,n))):Object.keys(t).reduce((function(n,i){var a=t[i];return n[i]=e(a),n}),{})):(0,J.kJ)(t)?t.map(e):t;var n},le=n(8325),ue=new WeakMap,de=new WeakMap,pe=new WeakMap,fe={},he={},ve={},ge=new WeakMap,ye=new WeakMap,me=0,_e={};function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:++me;return ve[e]?(_e[e]||(_e[e]=[]),_e[e].push({id:n,callback:t})):(ve[e]=n,t()),n}function be(e,t){if(ve[e]===t&&(delete ve[e],_e[e]&&_e[e].length)){var n=_e[e].shift(),i=n.id;we(e,n.callback,i)}}if(!oe.new){var Ie=0;Object.assign(oe,{new:function(e){var t=++Ie;return he[t]=e,Object.keys(fe).forEach((function(n){var i=ue.get(fe[n]);__safeway__.worker.postMsgToWorker(i,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:t},!1)})),t},get:function(e){return he[e]},destroy:function(e){delete he[e]},Lock:we,Unlock:be})}__safeway__.worker.onWorkerMsg((function(e,t){var n=fe[e],i=de.get(n),a=ye.get(n);if(t.__log__&&t.logs)(r=t).__isNativeConsole__?(o=wxNativeConsole)[r.level].apply(o,q()(r.logs)):(s=console)[r.level].apply(s,q()(r.logs));else{var r,o,s;if("setSharedBuffer"===t.__cmd__)return he[t.__id__]=t.__buffer__,void Object.keys(fe).forEach((function(n){var i=ue.get(fe[n]);i!==e&&__safeway__.worker.postMsgToWorker(i,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if(n&&"function"==typeof i)if(a&&a.useWKWorker){if("requireScriptSuccess"===t.__cmd__){var c=ge.get(n);return void(c&&c.evaluateWorkerScriptPromiseResolve&&c.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void le.t2.readFile({filePath:t.filePath,success:function(n){var i=n.data;return __safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode.apply(String,q()(new Uint16Array(i)))})},fail:function(n){var i=n.errMsg;return __safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:i})}});i(t.data)}else i(ce(t))}else be(t.__sid__,t.__lid__);else we(t.__sid__,(function(){return n.postMessage(t)}),t.__lid__)}}));var Ee=function(e){this.postMessage({__cmd__:"requireScript",__script__:e,__id__:ue.get(this)})},Te=function(){var e,t=new Promise((function(t){e=t}));ge.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};!function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{useWKWorker:!1};a()(this,e),ue.set(this,t),ye.set(this,i),fe[t]=this,this._id=t,i.useWKWorker?Te.call(this):Ee.call(this,n),X.add(this)}o()(e,[{key:"postMessage",value:function(e){var t=ue.get(this),n=ge.get(this),i=ye.get(this);i&&i.useWKWorker&&n?n.evaluateWorkerScriptPromise.then((function(){__safeway__.worker.postMsgToWorker(t,{data:e,appid:N.Z.accountInfo.appId})})):__safeway__.worker.postMsgToWorker(t,e)}},{key:"onMessage",value:function(e){de.set(this,e)}},{key:"terminate",value:function(){var e=ue.get(this),t=ye.get(this);t&&t.useWKWorker?__safeway__.worker.postMsgToWorker(e,{__cmd__:"terminate",appid:N.Z.accountInfo.appId}):__safeway__.worker.terminate(e),X.remove(this),ue.delete(this),de.delete(this),ge.delete(this),pe.delete(this),ye.delete(this),delete fe[e]}},{key:"onProcessKilled",value:function(e){pe.set(this,e)}}])}();(0,v.jQ)("onWorkerWebViewTerminate",(function(){Object.keys(fe).forEach((function(e){var t=fe[e],n=ye.get(t);if(n&&n.useWKWorker){var i=pe.get(t);X.remove(t),ue.delete(t),de.delete(t),ge.delete(t),pe.delete(t),ye.delete(t),delete fe[e],"function"==typeof i&&__errorTracer__.surroundThirdByTryCatch(i,"at Worker.onProcessKilled callback function")(),Reporter.reportIDKey({key:"onWorkerWebViewTerminate"})}}))}));var ke=new Z.Z,Ae={};!function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=i.name,s=i.x,c=void 0===s?0:s,l=i.y,u=void 0===l?0:l,d=i.width,p=void 0===d?300:d,f=i.height,h=void 0===f?200:f,g=i.devicePosition,y=void 0===g?"back":g,m=i.flash,_=void 0===m?"auto":m,w=i.size,b=void 0===w?"small":w,I=i.autoInsert,E=void 0===I||I,T=i.success,k=i.fail,A=i.complete;a()(this,n),(e=t.call(this,{style:r,name:o})).size=b,Ae[e.id]=P()(e);var C=null;e.deferred=[];var S={x:c,y:u,width:p,height:h,devicePosition:y,flash:_};Object.keys(S).forEach((function(t){Object.defineProperty(P()(e),t,{configurable:!0,enumerable:!0,get:function(){return S[t]},set:function(n){if(S[t]!==n){if(S[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(C),C=setTimeout((function(){return e.update()}),0)}}})})),ke.on("onInit",(function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)}))}));var x={success:T,fail:k,complete:A};return E&&e.insert().then((function(t){e.frameWidth=t.width,e.frameHeight=t.height,(0,v.FE)({name:"createCamera",args:x})})).catch((function(){(0,v.YG)("createCamera",x)})),e}o()(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){(0,v.IN)("insertCamera",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){(0,v.IN)("updateCamera",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isInserted?new Promise((function(i,a){(0,v.IN)("operateCamera",Object.assign(n,{cameraId:t.id,type:e,fail:a,success:function(n){if(i(n),"listenFrameChange"===e){if(!H.Z)throw new Error("device not supported");n.data=H.Z.get(n.bufferId),n.data.__proto__=ArrayBuffer.prototype,t._frame=n}}}))})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={cameraId:this.id,position:e,devicePosition:this.devicePosition,flash:this.flash,size:this.size};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"takePhoto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return this.operate("takePhoto",{quality:e})}},{key:"startRecord",value:function(){return this.operate("startRecord")}},{key:"stopRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.operate("stopRecord",{compressed:e})}},{key:"onAuthCancel",value:function(e){ke.on("onAuthCancel",e)}},{key:"onStop",value:function(e){ke.on("onStop",e)}},{key:"onCameraFrame",value:function(e){var t=this;"function"==typeof e&&ke.on("onCameraFrame",(function(){t._frame&&e({data:t._frame.data,width:t._frame.width,height:t._frame.height})}))}},{key:"listenFrameChange",value:function(e){var t=e?function(e){if(e._id>=0&&fe[e._id])return e._id}(e):void 0,n={size:this.size};return void 0!==t&&(0,Y.J)("listenFrameChangeInWorker")?(n.workerId=t,this.operate("listenFrameChange",n)):this.operate("listenFrameChange",n)}},{key:"closeFrameChange",value:function(){return this._frame=null,this.operate("closeFrameChange")}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete Ae[e.id],ke.removeAllListeners("onInit"),ke.removeAllListeners("onAuthCancel"),ke.removeAllListeners("onStop"),ke.removeAllListeners("onCameraFrame"),(0,v.IN)("removeCamera",{cameraId:e.id,success:t,fail:n})}))}}])}(g.W);(0,R.n)("onCameraInitDone",(function(){return ke.emit("onInit")})),(0,R.n)("onCameraNeedAuthCancel",(function(){return ke.emit("onAuthCancel")})),(0,R.n)("onCameraStop",(function(){return ke.emit("onStop")})),(0,R.n)("onCameraFrame",(function(){return ke.emit("onCameraFrame")}));var Ce=n(4657),Se={},xe=new Ce.Q("LivePlayer",!0),Pe=(function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=i.name,s=i.x,c=void 0===s?0:s,l=i.y,u=void 0===l?0:l,d=i.width,p=void 0===d?300:d,f=i.height,h=void 0===f?200:f,g=i.src,y=i.mode,m=void 0===y?"live":y,_=i.autoplay,w=void 0!==_&&_,b=i.muted,I=void 0!==b&&b,E=i.orientation,T=void 0===E?"vertical":E,k=i.objectFit,A=void 0===k?"contain":k,C=i.minCache,S=void 0===C?1:C,x=i.maxCache,D=void 0===x?3:x,R=i.soundMode,O=void 0===R?"speaker":R,N=i.autoPauseIfOpenNative,M=void 0===N||N,L=i.autoInsert,W=void 0===L||L,F=i.success,B=i.fail,j=i.complete;a()(this,n),e=t.call(this,{style:r,name:o}),Se[e.id]=P()(e);var U=null;e.deferred=[];var G={x:c,y:u,width:p,height:h,src:g,mode:m,autoplay:w,muted:I,orientation:T,objectFit:A,minCache:S,maxCache:D,soundMode:O,autoPauseIfOpenNative:M};Object.keys(G).forEach((function(t){Object.defineProperty(P()(e),t,{enumerable:!0,get:function(){return G[t]},set:function(n){if(G[t]!==n){if(G[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(U),U=setTimeout((function(){return e.update()}),0)}}})}));var V={success:F,fail:B,complete:j};return W&&e.insert().then((function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)})),(0,v.FE)({name:"createLivePlayer",args:V})})).catch((function(e){var t=(e.errMsg||"").replace(/^\w+:fail\s*/,"");(0,v.YG)("createLivePlayer",V,t)})),e}o()(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){(0,v.IN)("insertLivePlayer",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){(0,v.IN)("updateLivePlayer",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.isInserted?new Promise((function(i,a){(0,v.IN)("operateLivePlayer",{livePlayerId:t.id,type:e,data:n,quality:n.quality,fail:a,success:i})})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePlayerId:this.id,position:e,playUrl:this.src,mode:"live"===this.mode?1:2,autoplay:this.autoplay,muted:this.muted,orientation:this.orientation,objectFit:this.objectFit,minCache:this.minCache,maxCache:this.maxCache,soundMode:this.soundMode,autoPauseIfOpenNative:this.autoPauseIfOpenNative,needEvent:!0,needNetStatus:!0,needAudioVolume:!0};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"play",value:function(){return this.operate("play")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"resume",value:function(){return this.operate("resume")}},{key:"mute",value:function(){return this.operate("mute")}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.operate("requestFullScreen",[e])}},{key:"exitFullScreen",value:function(){return this.operate("exitFullScreen")}},{key:"snapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"raw";return this.operate("snapshot",{quality:e})}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete Se[e.id],xe.off("state-".concat(e.id)),xe.off("fs-".concat(e.id)),xe.off("net-".concat(e.id)),xe.off("audio-".concat(e.id)),(0,v.IN)("removeLivePlayer",{livePlayerId:e.id,success:t,fail:n})}))}},{key:"onStateChange",value:function(e){xe.on("state-".concat(this.id),e)}},{key:"offStateChange",value:function(e){xe.off("state-".concat(this.id),e)}},{key:"onFullScreenChange",value:function(e){xe.on("fs-".concat(this.id),e)}},{key:"offFullScreenChange",value:function(e){xe.off("fs-".concat(this.id),e)}},{key:"onNetStatus",value:function(e){xe.on("net-".concat(this.id),e)}},{key:"offNetStatus",value:function(e){xe.off("net-".concat(this.id),e)}},{key:"onAudioVolumeNotify",value:function(e){xe.on("audio-".concat(this.id),e)}},{key:"offAudioVolumeNotify",value:function(e){xe.off("audio-".concat(this.id),e)}}])}(g.W),function(e,t){return(0,R.n)(e,(function(e){return t(e||{})}))});Pe("onLivePlayerEvent",(function(e){var t=e.livePlayerId,n=e.errCode,i=e.errMsg;xe.emit("state-".concat(t),{code:n,message:i})})),Pe("onLivePlayerFullScreenChange",(function(e){var t=e.livePlayerId,n=e.fullScreen,i=e.direction;xe.emit("fs-".concat(t),{fullScreen:n,direction:i})})),Pe("onLivePlayerNetStatus",(function(e){var t=e.livePlayerId,n=e.info;n&&xe.emit("net-".concat(t),{videoBitrate:n.VIDEO_BITRATE,audioBitrate:n.AUDIO_BITRATE,videoFPS:n.VIDEO_FPS,videoGOP:n.VIDEO_GOP,netSpeed:n.NET_SPEED,netQualityLevel:n.NET_QUALITY_LEVEL,netJitter:n.NET_JITTER,videoWidth:n.VIDEO_WIDTH,videoHeight:n.VIDEO_HEIGHT})})),Pe("onLivePlayerAudioVolume",(function(e){var t=e.livePlayerId,n=e.volume;xe.emit("audio-".concat(t),{volume:n})}));var De={},Re=new Ce.Q("LivePusher",!0);function Oe(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;default:return 6}}function Ne(e){switch(e){case"3:14":return 1;default:return 2}}!function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=i.name,s=i.x,c=void 0===s?0:s,l=i.y,u=void 0===l?0:l,d=i.width,p=void 0===d?300:d,f=i.height,h=void 0===f?200:f,g=i.url,y=i.mode,m=void 0===y?"RTC":y,_=i.autopush,w=void 0!==_&&_,b=i.muted,I=void 0!==b&&b,E=i.enableCamera,T=void 0===E||E,k=i.autoFocus,A=void 0===k||k,C=i.orientation,S=void 0===C?"vertical":C,x=i.beauty,D=void 0===x?0:x,R=i.whiteness,O=void 0===R?0:R,N=i.aspect,M=void 0===N?"9:16":N,L=i.minBitrate,W=void 0===L?200:L,F=i.maxBitrate,B=void 0===F?1e3:F,j=i.audioQuality,U=void 0===j?"high":j,G=i.waitingImage,V=i.waitingImageHash,Z=i.zoom,H=void 0!==Z&&Z,Y=i.devicePosition,z=void 0===Y?"front":Y,q=i.remoteMirror,K=void 0!==q&&q,X=i.localMirror,J=void 0===X?"auto":X,$=i.audioReverbType,Q=void 0===$?0:$,ee=i.enableMic,te=void 0===ee||ee,ne=i.enableAgc,ie=void 0!==ne&&ne,ae=i.enableAns,re=void 0!==ae&&ae,oe=i.audioVolumeType,se=void 0===oe?"voicecall":oe,ce=i.videoWidth,le=void 0===ce?360:ce,ue=i.videoHeight,de=void 0===ue?640:ue,pe=i.autoInsert,fe=void 0===pe||pe,he=i.success,ve=i.fail,ge=i.complete;a()(this,n),e=t.call(this,{style:r,name:o}),De[e.id]=P()(e);var ye=null;e.deferred=[];var me={x:c,y:u,width:p,height:h,url:g,mode:m,autopush:w,muted:I,enableCamera:T,autoFocus:A,orientation:S,beauty:D,whiteness:O,aspect:M,minBitrate:W,maxBitrate:B,audioQuality:U,waitingImage:G,waitingImageHash:V,zoom:H,devicePosition:z,remoteMirror:K,localMirror:J,audioReverbType:Q,enableMic:te,enableAgc:ie,enableAns:re,audioVolumeType:se,videoWidth:le,videoHeight:de};Object.keys(me).forEach((function(t){Object.defineProperty(P()(e),t,{enumerable:!0,get:function(){return me[t]},set:function(n){if(me[t]!==n){if(me[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(ye),ye=setTimeout((function(){return e.update()}),0)}}})}));var _e={success:he,fail:ve,complete:ge};return fe&&e.insert().then((function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)})),(0,v.FE)({name:"createLivePusher",args:_e})})).catch((function(e){var t=(e.errMsg||"").replace(/^\w+:fail\s*/,"");(0,v.YG)("createLivePusher",_e,t)})),e}o()(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){(0,v.IN)("insertLivePusher",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){(0,v.IN)("updateLivePusher",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isInserted?new Promise((function(i,a){(0,v.IN)("operateLivePusher",{livePusherId:t.id,type:e,url:n.url,volume:n.volume,quality:n.quality,fail:a,success:i})})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePusherId:this.id,position:e,pushUrl:this.url,mode:Oe(this.mode),autopush:this.autopush,muted:this.muted,enableCamera:this.enableCamera,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:Ne(this.aspect),minBitrate:this.minBitrate,maxBitrate:this.maxBitrate,backgroundImage:this.waitingImage,backgroundMD5:this.waitingImageHash,zoom:this.zoom,devicePosition:this.devicePosition,remoteMirror:this.remoteMirror,localMirror:this.localMirror,enableMic:this.enableMic,enableAGC:this.enableAgc,enableANS:this.enableAns,audioVolumeType:this.audioVolumeType,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,needEvent:!0,needNetStatus:!0};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"start",value:function(){return this.operate("start")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"resume",value:function(){return this.operate("resume")}},{key:"playBGM",value:function(e){return this.operate("playBGM",{url:e})}},{key:"stopBGM",value:function(){return this.operate("stopBGM")}},{key:"pauseBGM",value:function(){return this.operate("pauseBGM")}},{key:"resumeBGM",value:function(){return this.operate("resumeBGM")}},{key:"setBGMVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.operate("setBGMVolume",{volume:e})}},{key:"setMICVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.operate("setMICVolume",{volume:e})}},{key:"startPreview",value:function(){return this.operate("startPreview")}},{key:"stopPreview",value:function(){return this.operate("stopPreview")}},{key:"snapshot",value:function(e){return this.operate("snapshot",{quality:e})}},{key:"switchCamera",value:function(){return this.operate("switchCamera")}},{key:"toggleTorch",value:function(){return this.operate("toggleTorch")}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete De[e.id],Re.off("state-".concat(e.id)),Re.off("net-".concat(e.id)),Re.off("start-".concat(e.id)),Re.off("progress-".concat(e.id)),Re.off("complete-".concat(e.id)),Re.off("error-".concat(e.id)),(0,v.IN)("removeLivePusher",{livePusherId:e.id,success:t,fail:n})}))}},{key:"onStateChange",value:function(e){Re.on("state-".concat(this.id),e)}},{key:"offStateChange",value:function(e){Re.off("state-".concat(this.id),e)}},{key:"onNetStatus",value:function(e){Re.on("net-".concat(this.id),e)}},{key:"offNetStatus",value:function(e){Re.off("net-".concat(this.id),e)}},{key:"onBGMStart",value:function(e){Re.on("start-".concat(this.id),e)}},{key:"offBGMStart",value:function(e){Re.off("start-".concat(this.id),e)}},{key:"onBGMProgress",value:function(e){Re.on("progress-".concat(this.id),e)}},{key:"offBGMProgress",value:function(e){Re.off("progress-".concat(this.id),e)}},{key:"onBGMComplete",value:function(e){Re.on("complete-".concat(this.id),e)}},{key:"offBGMComplete",value:function(e){Re.off("complete-".concat(this.id),e)}},{key:"onError",value:function(e){Re.on("error-".concat(this.id),e)}},{key:"offError",value:function(e){Re.off("error-".concat(this.id),e)}}])}(g.W);var Me=function(e,t){return(0,R.n)(e,(function(e){return t(e||{})}))};Me("onLivePusherEvent",(function(e){var t=e.livePusherId,n=e.errCode,i=e.errMsg;Re.emit("state-".concat(t),{code:n,message:i})})),Me("onLivePusherNetStatus",(function(e){var t=e.livePusherId,n=e.info;n&&Re.emit("net-".concat(t),{videoBitrate:n.VIDEO_BITRATE,audioBitrate:n.AUDIO_BITRATE,videoFPS:n.VIDEO_FPS,videoGOP:n.VIDEO_GOP,netSpeed:n.NET_SPEED,netQualityLevel:n.NET_QUALITY_LEVEL,netJitter:n.NET_JITTER,videoWidth:n.VIDEO_WIDTH,videoHeight:n.VIDEO_HEIGHT})})),Me("onLivePusherBGMStart",(function(e){var t=e.livePusherId;Re.emit("start-".concat(t))})),Me("onLivePusherBGMProgress",(function(e){var t=e.livePusherId,n=e.progress,i=e.duration;Re.emit("progress-".concat(t),{progress:n,duration:i})})),Me("onLivePusherBGMComplete",(function(e){var t=e.livePusherId,n=e.errCode;Re.emit("complete-".concat(t),{errCode:n})})),Me("onLivePusherError",(function(e){var t=e.livePusherId,n=e.errCode,i=e.errMsg,a=e.data;Re.emit("error-".concat(t),{errCode:n,errMsg:i,data:a})}));var Le=n(5473),We={},Fe=function(e){p()(n,e);var t=h()(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=void 0===r?{}:r,s=i.name,c=i.x,l=void 0===c?0:c,u=i.y,d=void 0===u?0:u,p=i.width,f=void 0===p?300:p,h=i.height,v=void 0===h?200:h,g=i.url,y=void 0===g?"":g,m=i.urls,_=void 0===m?[]:m,w=i.scale,b=void 0===w?1:w,I=i.autoInsert,E=void 0===I||I,T=i.hide,k=void 0!==T&&T,A=i.zIndex,C=void 0===A?0:A;if(a()(this,n),(e=t.call(this,{style:o,name:s})).x=l,e.y=d,e.width=f,e.height=v,e.scale=+b,e.hide=k,e.autoInsert=E,e.url=y,e.zIndex=C,e.emitter=new Ce.Q("ImagePreviewer",!0),We[e.id]=P()(e),"string"==typeof _)try{e.urls=JSON.parse(_)}catch(t){e.urls=[]}else e.urls=_;return e._insertPromise=new Promise((function(t,n){e._insertPromiseResolve=t,e._insertPromiseReject=n})),e}return o()(n,[{key:"insert",value:function(){var e=this;return this.toNativeData(),(0,v.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:function(t){e._insertPromiseResolve(t)},fail:function(t){e._insertPromiseReject(t)}})),this._insertPromise}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){e._insertPromise.then((function(){e.toNativeData(),(0,v.IN)("updateImagePreviewer",Object.assign(e.toNativeData(),{success:function(e){t(e)},fail:function(e){n(e)}}))})).catch(n)}))}},{key:"destroy",value:function(){var e=this;return this.id,new Promise((function(t,n){setTimeout((function(){(0,v.IN)("removeImagePreviewer",{viewId:e.id,success:t,fail:n}),e.offImageLoadFail(),delete We[e.id]}),0)}))}},{key:"toNativeData",value:function(){this.layoutBox;var e={position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId};return this.parentId,e}},{key:"onImageLoadFail",value:function(e){this.emitter.on("onImageLoadFail",e)}},{key:"offImageLoadFail",value:function(e){this.emitter.off("onImageLoadFail",e)}}]),n}(g.W);(0,R.n)("onImagePreviewerLoadFail",(function(e){We[e.viewId].emitter.emit("onImageLoadFail",e)}))},5473:(e,t,n)=>{"use strict";n.d(t,{k:()=>I});n(572);var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(7615),c=n.n(s),l=n(4742),u=n.n(l),d=n(7541),p=n.n(d),f=n(5704),h=n(8392),v=n(7264),g=n(8947),y=new Map,m=new WeakMap,_=new WeakMap,w=new WeakMap;function b(e){var t=this;return new Promise((function(n,i){var a=_.get(t);(0,h.IN)("insertHTMLWebView",{htmlId:t.id,position:a,src:m.get(t),zIndex:w.get(t),backgroundColor:a.backgroundColor,__skipDomainCheck__:e,success:n,fail:i})}))}var I=function(e){u()(n,e);var t=p()(n);function n(e){var i,r=e.src,o=e.zIndex,s=e.style,l=void 0===s?{}:s,u=e.__skipDomainCheck__;return a()(this,n),i=t.call(this,{style:l}),y.set(i.id,c()(i)),m.set(c()(i),r),_.set(c()(i),l),w.set(c()(i),o),b.call(c()(i),u),i.isInserted=!0,i}return o()(n,[{key:"src",get:function(){return m.get(this)},set:function(e){m.set(this,e),(0,h.IN)("updateHTMLWebView",{htmlId:this.id,src:e})}},{key:"style",get:function(){return _.get(this)},set:function(e){this.style||_.set(this,{});var t=Object.assign(this.style,e);this.isInserted&&(0,h.IN)("updateHTMLWebView",{htmlId:this.id,position:t,backgroundColor:t.backgroundColor})}},{key:"zIndex",get:function(){return w.get(this)},set:function(e){w.set(this,e),(0,h.IN)("updateHTMLWebView",{htmlId:this.id,zIndex:e})}},{key:"destroy",value:function(){y.delete(this.id),(0,h.IN)("removeHTMLWebView",{htmlId:this.id})}}]),n}(f.W);function E(e){var t=e.htmlId,n=y.get(t);n&&n.onload&&setTimeout(n.onload)}function T(e){var t=e.name,n=e.arg,i=e.htmlId;"postMessage"===t&&y.forEach((function(e,t){var a=e.onmessage;i&&i!==t||a&&setTimeout((function(){return a(n)}))}))}g.Z.onReady((function(){4===g.Z.appType&&((0,v.n)("onWebviewFinishLoad",E),(0,v.n)("onWebInvokeAppService",T),(0,v.n)("WEB_INVOKE_APPSERVICE",T))}))},8068:(e,t,n)=>{"use strict";n.d(t,{Vs:()=>i,_u:()=>a,cM:()=>r,$G:()=>o,um:()=>s,$v:()=>l,Fr:()=>c});n(8676);var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))},a=function(){},r=function(){},o=function(e,t){for(var n="",i=0,a=0;a<e.length;a++){if((i+=/[\u4e00-\u9fa5]/.test(e[a])?2:1)>t){n+="...";break}n+=e[a]}return n},s=function(e){return e.split("-").map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},c=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){e(Object.assign(t,{success:n,fail:i}))}))}},l=function(e){var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map((function(e,t){return e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e})).join(""):"#00000000":e}},4642:(e,t,n)=>{"use strict";n.d(t,{b$:()=>d,Tb:()=>i.Tb,vv:()=>u,dN:()=>i.dN});var i=n(9366),a=n(7264),r=n(9307),o=n(5774),s=n(3201),c=(0,r.s)("Hide"),l=(0,r.s)("BaseFrameHide"),u=(c.onMethod,c.offMethod,c.internalOnMethod),d=c.internalOffMethod;l.internalOnMethod,l.internalOffMethod;(0,a.n)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.v)(e.mode),(0,o.b$)()?l.emit(e):(l.emit(e),c.emit(e))}));var p=n(8392),f=(0,r.s)("GameLiveStateChange"),h=f.internalOnMethod,v=(f.internalOffMethod,f.onMethod,f.offMethod,function(e){return["end","start"][e]});(0,a.n)("onGameLiveStateChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.emitInternal(e),f.emitGlobal({state:v(e.event)})})),h((function(e){4===e.event&&(0,p.IN)("startGameLive")}))},9366:(e,t,n)=>{"use strict";n.d(t,{Ke:()=>g,dN:()=>y,Tb:()=>m,OQ:()=>_});var i=n(8676),a=n.n(i),r=n(5810),o=n(9307),s=n(8947),c=n(6015),l=n(2363),u=n(7264),d=n(4159),p=n(5774),f=n(9267),h=(0,o.s)("Show"),v=(0,o.s)("BaseFrameShow"),g=h.onMethod,y=(h.offMethod,h.internalOnMethod),m=h.internalOffMethod,_=v.internalOnMethod;v.internalOffMethod;function w(e,t){e=e||(0,r.Ir)(),t=t||(0,r.x9)(),Reporter.__query__=e.query,d.Z.query=e.query,h.emitInternal(t),h.emitGlobal(e)}function b(e){wxNativeConsole.info("[emitBaseFrameOnShow]",e),v.emitInternal(e)}function I(e){var t=e.split("?")[1],n={};if(t)try{n=t.split("&").reduce((function(e,t){var n=t.split("="),i=n[0],a=n.slice(1).join("=");return e[i]=a,e}),{})}catch(e){n={}}return n}(0,u.n)("onAppEnterForeground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path;l.wZ&&(0,f.Kn)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=I(t));var n=(0,r.Br)(e),i=n.publicLaunchInfo,o=n.appLaunchInfo,s=o.shareInfo;b(o),setTimeout((function(){(0,p.b$)()||w(i,o),"object"===a()(s)&&null!==s&&(0,c.kv)(s.shareKey)}),0)})),s.Z.onReady((function(){var e=(0,r.Ir)(),t=(0,r.x9)();Reporter.__query__=e.query,d.Z.query=e.query,l.gm||(b(t),setTimeout((function(){(0,p.b$)()||w(e,t)}),0))}))},3201:(e,t,n)=>{"use strict";var i;function a(e){i=e}function r(){return i}n.d(t,{v:()=>a,B:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6965),a=n(4657),r=n(2903),o=n(3477),s=n(9267),c=new a.Q("touch",!0),l=new a.Q("touch",!0),u={};["start","move","end","cancel"].forEach((function(e){if("start"===e){i.Z.EventHandler["ontouch".concat(e)]=function(t){r.U.emit("beforeTouchStart",t),r.U.emit("setLastTapTime",Date.now()),(0,o.kV)("tap"),c.emit(e,t),l.emit(e,t)}}else if("end"===e){i.Z.EventHandler["ontouch".concat(e)]=function(t){r.U.emit("beforeTouchEnd"),c.emit(e,t),l.emit(e,t),r.U.emit("afterTouchEnd")}}else i.Z.EventHandler["ontouch".concat(e)]=function(t){c.emit(e,t),l.emit(e,t)};u["onTouch".concat(e.charAt(0).toUpperCase()+e.slice(1))]=function(t,n){(0,s.Kn)(n)&&(i.Z.EventHandler["ontouch".concat(e,"Dst")]=n),c.on(e,t)},u["offTouch".concat(e.charAt(0).toUpperCase()+e.slice(1))]=function(t){c.off(e,t)}}));const d=u},313:(e,t,n)=>{"use strict"},5774:(e,t,n)=>{"use strict";n.d(t,{b$:()=>r});n(9727),n(8676),n(7100);var i={},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return i[e]};n(313);function r(){return!!a()}},7239:(e,t,n)=>{"use strict";n.d(t,{F0:()=>a,y4:()=>s});var i=n(8392),a=(n(9267),n(5473),{EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18}),r={sampleEventList:[]},o=new Map;function s(e,t){"[reportCanvasData][invoke], eventType=".concat(e);var n=function(e){return"[getEventInfoByEventType][invoke] eventType=".concat(e),r.sampleEventList.find((function(t){return e===t.event}))}(e);if("[reportCanvasData][invoke], eventInfo=".concat(n),n){var a=Date.now(),s=o.get(n);if("[reportCanvasData][invoke] now=".concat(a,", lastReportTime=").concat(s,", delta=").concat((a-s)/1e3,", interval=").concat(n.sample_interval_seconds),(a-s)/1e3<n.sample_interval_seconds)return;(0,i.IN)("reportCanvasData",{eventInfo:JSON.stringify(n),viewId:t>0?t:0,success:function(){o.set(n,a)},fail:function(e){var t=e.errMsg;"[reportCanvasData][fail] errMsg=".concat(t)}})}}},2903:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,L:()=>o});var i=n(6326),a=n(1213),r=new i.Z,o={map:{},set:function(e){var t=(0,a.M8)();return this.map[t]=e,t},get:function(e){var t=this;return e?this.map[e]:Object.keys(this.map).map((function(e){return t.map[e]}))}}},2626:(e,t,n)=>{"use strict";n(8575);new(n(6326).Z)},968:(e,t,n)=>{"use strict";n.d(t,{vp:()=>f,Y6:()=>h,KU:()=>v,aI:()=>g,N0:()=>y,Fr:()=>m,vB:()=>_,v7:()=>w,Uj:()=>b,Av:()=>I,er:()=>E});var i=n(7163),a=n.n(i),r=n(5843),o=n.n(r),s=n(8676),c=n.n(s),l=n(6326),u=n(8947),d=(n(3477),n(2363)),p=n(9267);var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxListeners:2e3};a()(this,e),this.emitter=new l.Z(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}return o()(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=__errorTracer__.surroundThirdByTryCatch(t,"at ".concat(e," callback function"));this.callbackMap.set(t,n),this.originalCallbackMap.set(n,t),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){var n=this;if(t&&"function"==typeof t){var i=this.callbackMap.get(t);this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i)}else this.emitter.listeners(e).forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}},{key:"listeners",value:function(e){return this.emitter.listeners(e)}}]),e}();function h(e){return"string"==typeof e?e.length:"object"===c()(e)&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function v(e){var t="unknown";if(u.Z.appContactInfo&&u.Z.appContactInfo.operationInfo&&u.Z.appContactInfo.operationInfo.jsonInfo&&u.Z.appContactInfo.operationInfo.jsonInfo.apiAvailable){var n=u.Z.appContactInfo.operationInfo.jsonInfo.apiAvailable;"number"==typeof n[e]&&(t=1===n[e])}return"checkAPIAvailable:key=".concat(e,", ret=").concat(t),t}function g(){return 4===u.Z.appType}function y(){return 0===u.Z.appType}function m(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){e(Object.assign(t,{success:n,fail:i}))}))}}function _(){return d.gm?!u.Z.urlCheck:!0===u.Z.debug}function w(e,t){return t.reduce((function(t,n){return(0,p.o8)(e[n])||(t[n]=e[n]),t}),{})}function b(e){if(!d.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),n=t[1]||"",i=n.length>0?"&":"";e="".concat(t[0],"?").concat(n).concat(i,"devtools_ignore=true")}return e}function I(){return u.Z.appLaunchInfo&&"singlePage"===u.Z.appLaunchInfo.mode}function E(){var e=u.Z.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}},2511:function(e,t,n){var i;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof n.g&&n.g;r.global!==r&&r.window!==r&&r.self;var o,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function v(e){throw RangeError(p[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function y(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(d,".")).split("."),t).join(".")}function m(e){for(var t,n,i=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function _(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=c)e=f(e/35);return f(i+36*e/(e+38))}function I(e){var t,n,i,a,r,o,l,u,d,p,h,g=[],y=e.length,m=0,w=128,I=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&v("not-basic"),g.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<y;){for(r=m,o=1,l=c;a>=y&&v("invalid-input"),((u=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c)>=c||u>f((s-m)/o))&&v("overflow"),m+=u*o,!(u<(d=l<=I?1:l>=I+26?26:l-I));l+=c)o>f(s/(p=c-d))&&v("overflow"),o*=p;I=b(m-r,t=g.length+1,0==r),f(m/t)>s-w&&v("overflow"),w+=f(m/t),m%=t,g.splice(m++,0,w)}return _(g)}function E(e){var t,n,i,a,r,o,l,u,d,p,g,y,_,I,E,T=[];for(y=(e=m(e)).length,t=128,n=0,r=72,o=0;o<y;++o)(g=e[o])<128&&T.push(h(g));for(i=a=T.length,a&&T.push("-");i<y;){for(l=s,o=0;o<y;++o)(g=e[o])>=t&&g<l&&(l=g);for(l-t>f((s-n)/(_=i+1))&&v("overflow"),n+=(l-t)*_,t=l,o=0;o<y;++o)if((g=e[o])<t&&++n>s&&v("overflow"),g==t){for(u=n,d=c;!(u<(p=d<=r?1:d>=r+26?26:d-r));d+=c)E=u-p,I=c-p,T.push(h(w(p+E%I,0))),u=f(E/I);T.push(h(w(u,0))),r=b(n,_,i==a),n=0,++i}++n,++t}return T.join("")}o={version:"1.3.2",ucs2:{decode:m,encode:_},decode:I,encode:E,toASCII:function(e){return y(e,(function(e){return u.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return l.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},7225:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,a){n=n||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var o=/\+/g;e=e.split(n);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,d,p,f,h=e[l].replace(o,"%20"),v=h.indexOf(i);v>=0?(u=h.substr(0,v),d=h.substr(v+1)):(u=h,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),t(r,p)?Array.isArray(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r}},4066:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,a){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var r=encodeURIComponent(t(a))+i;return Array.isArray(e[a])?e[a].map((function(e){return r+encodeURIComponent(t(e))})).join(n):r+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+i+encodeURIComponent(t(e)):""}},6254:(e,t,n)=>{"use strict";t.decode=t.parse=n(7225),t.encode=t.stringify=n(4066)},8575:(e,t,n)=>{"use strict";var i=n(2511),a=n(2502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(6254);function _(e,t,n){if(e&&a.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=-1!==r&&r<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var _=e=l.join(s);if(_=_.trim(),!n&&1===e.split("#").length){var w=c.exec(_);if(w)return this.path=_,this.href=_,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=o.exec(_);if(b){var I=(b=b[0]).toLowerCase();this.protocol=I,_=_.substr(b.length)}if(n||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&g[b]||(_=_.substr(2),this.slashes=!0)}if(!g[b]&&(E||b&&!y[b])){for(var T,k,A=-1,C=0;C<p.length;C++){-1!==(S=_.indexOf(p[C]))&&(-1===A||S<A)&&(A=S)}-1!==(k=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(T=_.slice(0,k),_=_.slice(k+1),this.auth=decodeURIComponent(T)),A=-1;for(C=0;C<d.length;C++){var S;-1!==(S=_.indexOf(d[C]))&&(-1===A||S<A)&&(A=S)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),D=(C=0,P.length);C<D;C++){var R=P[C];if(R&&!R.match(f)){for(var O="",N=0,M=R.length;N<M;N++)R.charCodeAt(N)>127?O+="x":O+=R[N];if(!O.match(f)){var L=P.slice(0,C),W=P.slice(C+1),F=R.match(h);F&&(L.push(F[1]),W.unshift(F[2])),W.length&&(_="/"+W.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+B,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[I])for(C=0,D=u.length;C<D;C++){var U=u[C];if(-1!==_.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),_=_.split(U).join(G)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var Z=_.indexOf("?");if(-1!==Z?(this.search=_.substr(Z),this.query=_.substr(Z+1),t&&(this.query=m.parse(this.query)),_=_.slice(0,Z)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var H=this.search||"";this.path=B+H}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},r.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(a.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=w||_||n.host&&e.pathname,I=b,E=n.pathname&&n.pathname.split("/")||[],T=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===E[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=E.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=E.slice(-1)[0],A=(n.host||e.host||E.length>1)&&("."===k||".."===k)||""===k,C=0,S=E.length;S>=0;S--)"."===(k=E[S])?E.splice(S,1):".."===k?(E.splice(S,1),C++):C&&(E.splice(S,1),C--);if(!b&&!I)for(;C--;C)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var x,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(n.hostname=n.host=P?"":E.length?E.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift()));return(b=b||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},12:(e,t,n)=>{var i=n(9112)("xml-parser");e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:n()}}();function t(){if(r(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!s("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return r(/\?>\s*/),e}}function n(){i("tag %j",e);var t=r(/^<([\w-:.]+)\s*/);if(t){for(var c,l={name:t[1],attributes:{},children:[]};!(o()||s(">")||s("?>")||s("/>"));){var u=a();if(!u)return l;l.attributes[u.name]=u.value}if(r(/^\s*\/>\s*/))return l;for(r(/\??>\s*/),l.content=function(){i("content %j",e);var t=r(/^([^<]*)/);return t?t[1]:""}();c=n();)l.children.push(c);return r(/^<\/[\w-:.]+>\s*/),l}}function a(){i("attribute %j",e);var t,n=r(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(n)return{name:n[1],value:(t=n[2],t.replace(/^['"]|['"]$/g,""))}}function r(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function o(){return 0==e.length}function s(t){return 0==e.indexOf(t)}}},9112:(e,t,n)=>{function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(7247)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var a=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(r=a))})),e.splice(r,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())},7247:(e,t,n)=>{var i;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,r=a-(i||a);e.diff=r,e.prev=i,e.curr=a,i=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var a=t.formatters[i];if("function"==typeof a){var r=o[c];n=a.call(e,r),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,a=0;a<i;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7307),t.names=[],t.skips=[],t.formatters={}},7307:e=>{var t=1e3,n=60*t,i=60*n,a=24*i,r=365.25*a;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*r;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return s.long?o(c=e,a,"day")||o(c,i,"hour")||o(c,n,"minute")||o(c,t,"second")||c+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7015:e=>{"use strict";e.exports=regeneratorRuntime},7615:e=>{"use strict";e.exports=BabelRuntimeHelpers.assertThisInitialized},3356:e=>{"use strict";e.exports=BabelRuntimeHelpers.asyncToGenerator},7163:e=>{"use strict";e.exports=BabelRuntimeHelpers.classCallCheck},1279:e=>{"use strict";e.exports=BabelRuntimeHelpers.construct},5843:e=>{"use strict";e.exports=BabelRuntimeHelpers.createClass},3379:e=>{"use strict";e.exports=BabelRuntimeHelpers.createForOfIteratorHelper},7541:e=>{"use strict";e.exports=BabelRuntimeHelpers.createSuper},9727:e=>{"use strict";e.exports=BabelRuntimeHelpers.defineProperty},3646:e=>{"use strict";e.exports=BabelRuntimeHelpers.get},862:e=>{"use strict";e.exports=BabelRuntimeHelpers.getPrototypeOf},4742:e=>{"use strict";e.exports=BabelRuntimeHelpers.inherits},1503:e=>{"use strict";e.exports=BabelRuntimeHelpers.objectSpread2},2208:e=>{"use strict";e.exports=BabelRuntimeHelpers.slicedToArray},6885:e=>{"use strict";e.exports=BabelRuntimeHelpers.toArray},572:e=>{"use strict";e.exports=BabelRuntimeHelpers.toConsumableArray},8676:e=>{"use strict";e.exports=BabelRuntimeHelpers.typeof},3087:e=>{"use strict";e.exports=BabelRuntimeHelpers.wrapNativeSuper}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(6878),t=n(2208),i=n.n(t),a=n(3356),r=n.n(a),o=n(7163),s=n.n(o),c=n(5843),l=n.n(c),u=n(7615),d=n.n(u),p=n(4742),f=n.n(p),h=n(7541),v=n.n(h),g=n(8676),y=n.n(g),m=n(3379),_=n.n(m),w=n(7015),b=n.n(w),I=n(12),E=n.n(I),T=n(9515),k=n(2900),A=n(6301),C=n(9567),S=n(6604),x=n(4052),P=n(2363),D=n(8068),R=n(8947),O=n(3769),N=n(7733),M=n(9883),L=n(7871),W=n(5889),F=n(9831),B={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},j=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),U={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},G=n(1033),V=n(2395),Z=n(9627),H=function(){return D._u.apply(void 0,arguments)},Y=E()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n').root,z=0,q=0,K=0,X=0,J=0,$=0,Q=0,ee=0,te=!1,ne=!1,ie=!1,ae="",re="",oe="",se="",ce="".concat(G.Lq,"/adinfos.txt"),le=P.wZ?200:400,ue=2e3,de=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,S.Wj)(this),i=n.adProxy.isTriggerClick(e),a=i?0:1;return t&&pe.call(this,e,a),i},pe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(0,S.Wj)(this);if(i.container&&i.container.layoutBox){var a=i.container.layoutBox,r=a.width,o=a.height,s=0;[0,2,3].includes(n)&&(i.clickCount+=1,s=i.clickCount);var c={slotid:G.DX[i.adType],costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,click_time:Date.now(),click_cnt:s,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(r,10)||0,ad_height:parseInt(o,10)||0,press_interval:e.pressInterval,block_click:n};return i.adProxy.reportTouchClick(c)}},fe=function(){var e=(0,S.Wj)(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},he=function(e,t){var n,i=(0,S.Wj)(this),a=i.container.style,r=a.width,o=a.height,s={click_button:e,cost_type:null!==(n=i.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,slotid:G.DX[i.adType],is_game:te?1:0,pageentertime:+new Date(i.adProxy.getProgramStartTime()),ad_width:parseInt(r,10)||0,ad_height:parseInt(o,10)||0,clientexptime:i.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:z,screen_height:q};return i.adProxy.reportAntifraud(s)},ve=function(e){var t=(0,S.Wj)(this),n=e.then((function(e){return/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0})).catch((function(){return t.adProxy.reportFollow({result:"fail"})}));H(n,"splashAd","关注")},ge=function(e){var t,n=(0,S.Wj)(this),i=+new Date,a={slotid:G.DX[n.adType],is_game:te?1:0,costtype:null!==(t=n.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:i-n.startExposureTime-n.hideDuration,start_time:n.startExposureTime,close_time:i};return n.adProxy.reportCloseAction(a)},ye=function(e){var t,n=(0,S.Wj)(this),i={slotid:G.DX[n.adType],is_game:te?1:0,costtype:null!==(t=n.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return n.adProxy.reportAdEntranceExposure(i)},me=function(e){var t=e.firstGradeId,n=void 0===t?1:t,i=e.firstGradeDesc,a=void 0===i?"广告角标":i,r=e.secondGradeId,o=void 0===r?0:r,s=e.secondGradeDesc,c=void 0===s?"":s,l=e.feedbackReason,u=void 0===l?0:l,d=(0,S.Wj)(this);n&&!o&&(d.clickFirstGradeTime=+new Date),d.adProxy.reportAdFeedbackData({adWidth:z,adHeight:q,adPosX:0,adPosY:0,expTime:d.startExposureTime,slotId:G.DX[d.adType],firstGradeId:n,firstGradeDesc:a,firstGradeTime:n?d.clickFirstGradeTime:0,secondGradeId:o,secondGradeDesc:c,secondGradeTime:o?+new Date:0,feedbackReason:u})},_e=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(0,S.Wj)(this);if(!i.isShowed)return Promise.resolve();if(!i.data||!i.container.layoutBox)return(0,D.Vs)(100).then((function(){return e.call(t,n)}));var a=i.container.layoutBox,r=a.left,o=a.top,s=a.width,c=a.height;if(!i.isShowedExposureReported){i.isShowedExposureReported=!0,i.startExposureTime=+new Date,i.adProxy.setTimePoint("p6");var l=R.Z.onReady((function(){i.adProxy.reportExposure({left:r,top:o,width:s,height:c,exposureType:"showed",source:i.source});var e="launch"===i.source?G.ET.firstShowSuccess:G.ET.secondShowSuccess;i.adProxy.reportAdMonitorData(e),i.adProxy.setSplashAdShowStatus()}));H(l,"splashAd","原始")}if(!i.isViewableExposureReported){if(!n)return(0,D.Vs)(1e3).then((function(){return e.call(t,!0)}));i.adProxy.setTimePoint("p7"),i.isViewableExposureReported=!0,i.adProxy.isViewable=!0;var u=i.adProxy.reportExposure({left:r,top:o,width:s,height:c,exposureType:"viewable",source:i.source});H(u,"splashAd","可视")}return Promise.resolve()},we=function(e){var t=(0,S.Wj)(this);if(t.container&&t.container.layoutBox){var n=t.container.layoutBox,i=n.left,a=n.top,r=n.width,o=n.height,s=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-i,clickRelativeTop:e.absoluteY-a,pressInterval:e.pressInterval,left:i,top:a,width:r,height:o,source:t.source});return H(s,"splashAd","点击"),s}},be=function(e,t){var n=this,i=(0,S.Wj)(this),a=i.data,r=a.appInfo,o=r.apkName,s=r.channelId,c=r.urlScheme,l=a.product_type,u=a.dest_type;if(12===l&&P.wZ&&4===i.androidAppState&&c&&c.trim().length>0)we.call(this,e),he.call(this,t,e),i.adProxy.launchApplication(c).catch((function(){})),i.lastJsapiName="launchApplication",i.isLandingPage=!0;else if(12===l&&P.wZ&&i.isYYBInstalled){we.call(this,e),he.call(this,t,e);var d=i.adProxy.data,p=d.aid,f=d.traceid,h=d.apurl,v=["ANDROIDWX.YYB.WX.ADVERTISE",f,p,o.replace(/\./g,"_"),"0",15,h.indexOf("ad.wx.com")>-1?1:0].join("."),g="tmast://download?oplist=1,2&pname=".concat(o,"&channelid=").concat(s,"&via=").concat(v);i.adProxy.launchApplication(g).catch((function(){Ie.call(n)})),i.lastJsapiName="launchApplication",i.isLandingPage=!0}else P.cj&&46===l&&6===u?Promise.race([we.call(this,e),(0,D.Vs)(500)]).then((function(){he.call(n,t,e),Ie.call(n)})).catch((function(){he.call(n,t,e),Ie.call(n)})):(we.call(this,e),he.call(this,t,e),Ie.call(this))},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,S.Wj)(this),n=t.adProxy.land(e);return 23===t.data.product_type&&e&&e.isButton&&!t.adProxy.data.biz_info.is_subscribed?(n.then((function(e){var n=/ok/.test(e.errMsg);n&&t.adProxy.data.biz_info&&(t.adProxy.data.biz_info.is_subscribed=1),e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var i,a=+new Date;(t.lastJsapiStatus=0,t.lastJsapiCostTime=a-t.lastLandingTime,"private_addContact"===t.lastJsapiName)&&t.adProxy.reportLandingTime({slotId:G.DX[t.adType],costType:null!==(i=t.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,openTime:t.lastLandingTime,closeTime:a,stayTime:t.lastJsapiCostTime,jsapiName:t.lastJsapiName,clickTime:t.lastLandingTime,clkCnt:t.clickCount,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,actTypeInt:n?2:3,actTypeStr:n?"关注":"取消"})})).catch((function(){t.lastJsapiStatus=1})),ve.call(this,n)):n.then((function(e){e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((function(e){t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(G.ET.landingPageFail,{source:t.source,msg:e})})),n},Ee=function(e){var t,n=(0,S.Wj)(this),i=_()(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n[a]&&clearTimeout(n[a])}}catch(e){i.e(e)}finally{i.f()}},Te=function(){var e,t=(0,S.Wj)(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.isCheckAdRequest=!0,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",Ee.call(this,["countTimer"]),R.Z.onReady((function(){var e,n,i;t.adProxy.reportTimePoints({slotid:G.DX[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(n=t.showInfo)||void 0===n?void 0:n.instanceId,scene:null===(i=t.showInfo)||void 0===i?void 0:i.scene,extInfo:{adInfos:t.adInfos}})}))},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t&&ge.call(this,t),(0,F.R0)(e)},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,S.Wj)(this);return n.adProxy.fetch(!1,e,t)},Ce=function(){var e=(0,S.Wj)(this);if((P.wZ||P.cj)&&!ie)try{e.adFetchResult=Ae.call(this).catch((function(){})),e.adProxy.reportAdMonitorData(G.ET.OTHER_ADS_EMIT_FETCH)}catch(e){}},Se=function(){var e,t=(0,S.Wj)(this).data||{},n={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)n=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var i=t.crtInfo?t.crtInfo[0]:{};n=null!=i&&i.card_info?i.card_info:{}}return n},xe=function e(){var t,n,i=this,a=(0,S.Wj)(this),r=+new Date-a.startExposureTime-a.hideDuration,o=5e3;(null==a||null===(t=a.data)||void 0===t||null===(n=t.condition)||void 0===n?void 0:n.widget_gray_splashad_show_duration)>=o&&(o=a.data.condition.widget_gray_splashad_show_duration);var s=o-r;if(s>=0){var c=Math.ceil(s/1e3).toString();a.countDown&&(a.countDown.value=c),a.tplComponent&&a.tplComponent.emitAdCustomEvent(N.A.CHANGECOUNTDOWN,{value:c}),a.countTimer&&clearTimeout(a.countTimer),a.countTimer=setTimeout((function(){e.call(i)}),1e3)}else"launch"===a.source&&a.isShowedExposureReported&&(a.isDynamic&&a.tplComponent.hide(),ke.call(this,{source:a.source,animated:!0},12))},Pe=function(){var e=(0,S.Wj)(this);if("launch"===e.source)e.topBar&&X&&(e.topBar.style.top=X,e.adFeedbackMenu.style.top=X+34,e.adFeedbackList.style.top=X+34),e.closeContainer&&(e.closeContainer.style.marginTop=J-68),e.appInfo&&(e.appInfo.style.height=$,e.appInfo.style.width=z,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=te?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=z,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=z,e.tipsLineOne.style.width=z,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=q-$,e.adCloseTips.style.width=z);else if("menu"===e.source){var t;if(!e.data)return;var n=e.data,i=Se.call(this),a=(0,A.xI)();e.adIcon.src=i.thumb,e.adName.value=i.title,null!==(t=n.button_action)&&void 0!==t&&t.button_text&&(e.button.value=n.button_action.button_text),a.screenTop&&a.screenTop>0?K=a.screenTop:K&&0!==K||(K=88*q/812),e.navigator.style.height=K,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=z,e.card.style.height=$-K,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=J-12,e.mediaBottom.style.width=z,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var r=e.data||{},o=Se.call(this);if(o&&e.adHeadInfo&&(e.adHeadIcon.src=o.thumb||"",e.adversName.value=o.title||"",e.adHeadInfo.style.width=z/375*311,e.adversName.style.width=z/375*311),r.hint_txt&&e.adTitle&&r.crt_size!==G.vK.CRT_SIZE_BIG_PIC?(e.adTitle.value=r.hint_txt,e.adTitle.style.width=z/375*311):o.description&&e.adTitle?(e.adTitle.value=o.description,e.adTitle.style.width=z/375*311):e.adTitle&&r.product_type&&G.sl[r.product_type]&&(e.adTitle.value="今日".concat(G.sl[r.product_type],"推荐"),e.adTitle.style.width=z/375*311),r.button_action&&e.adButtonContainer){e.adButton.value=r.button_action.button_text,e.adButtonContainer.style.width=z,e.closeContainer&&(e.closeContainer.style.marginTop=J-132);var s={text:r.button_action.button_text,fontSize:17},c=(0,Z.X1)(s)||80;e.adButton.style.width=c+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},De=function(e){var t=(0,S.Wj)(this);if(t.dynamicElems||(t.dynamicElems={}),t.dynamicEmitter||Le.call(this),!t.dynamicElems.root){var n=t.data.adDynamicList,i=Oe.call(this,{tpl:n,source:e}),a=i.getRootElement();t.dynamicElems.root=a,t.container.add(t.dynamicElems.root),i.show(),t.tplComponent=i,t.tplComponent.emitComponentEvent(M._d.SPLASHADFIRSTRENDER)}},Re=function(){var e="",t=(0,S.Wj)(this).adProxy.data,n=Se.call(this);return t.hint_txt&&t.crt_size!==G.vK.CRT_SIZE_BIG_PIC?e=t.hint_txt:n.description?e=n.description:t.product_type&&G.sl[t.product_type]&&(e="今日".concat(G.sl[t.product_type],"推荐")),e},Oe=function(e){var t=e.tpl,n=e.source,i=(0,S.Wj)(this),a=i.adProxy.data,r=Re.call(this),o=Se.call(this);return(0,W.render)(O.Mp,{manager:null,reporter:null,emitter:i.dynamicEmitter,adProxy:i.adProxy,template:t,systemInfo:{screenWidth:z,screenHeight:q},adData:a,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:X||40,source:n,screenTop:K||88*q/812,isDarkMode:i.isDarkMode,adTitle:r||"",cardInfo:o,materialFile:ae,materialBgFile:oe,materialBlurFile:se,private:i,appIcon:i.showInfo.appIcon,appName:i.showInfo.appName}},!1)},Ne=function(e){var t=(0,S.Wj)(this);de.call(this,e,!1)&&(fe.call(this)||"launch"===t.source&&ke.call(this,{source:t.source,animated:!0},11))},Me=function(e){var t=this,n=(0,S.Wj)(this);switch(e.action){case N.A.LANDAD:var i=e.value,a=i.event,r=i.index;if(!de.call(this,a,13===r))return;13===r&&be.call(this,a,r),ke.call(this,{source:n.source,animated:!1},r),16===r&&(n.isLandingPage=!0,(0,D.Vs)(le).then((function(){return be.call(t,a,r)})));break;case N.A.CHECKEXPOSURE:n.dynamicRendered=!0,n.isShowedExposureReported||_e.call(this),n.countTimer||xe.call(this);break;case N.A.FEEDBACKREPORT:me.call(this,e.value);break;case N.A.FEEDBACKBTNTAP:n.data&&n.adProxy.openFeedbackUrl(1014);break;case N.A.REPORTMMDATA:e.value.id&&e.value.data&&n.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case N.A.SPLASHSKIPAD:var o=e.value.event;Ne.call(this,o);break;case N.A.REPORTADMONITORDATA:var s=null==e?void 0:e.value,c=s.id,l=s.key,u=s.extInfo,d=c?{idKeyGroup:c,idKey:l}:l;n.adProxy.reportAdMonitorData(d,u)}},Le=function(){var e=this,t=(0,S.Wj)(this);t.dynamicEmitter=new L.v,t.dynamicEmitter.on("adCustomEvent",(function(t){Me.call(e,t)}))},We=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,S.Wj)(this);e.forEach((function(e){var n=E()(U[e.name]).root,a=S.Ue.call(t,n);i[e.parent].add(a)})),i.componentsRenderred=!0,Pe.call(this),n&&Fe.call(this)},Fe=function(){var e=this,t=(0,S.Wj)(this);t.adFeedback&&!t.eventsMap.adFeedback&&t.adFeedback.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!t.adFeedbackMenu.style.hidden||!t.adFeedbackList.style.hidden,t.adFeedbackMenu.style.hidden=!0,t.adFeedbackList.style.hidden||me.call(e,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),t.adFeedbackBtn&&!t.eventsMap.adFeedbackBtn&&t.adFeedbackBtn.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!0,me.call(e,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===t.source&&ke.call(e,{source:t.source,animated:!0},17),t.data&&t.adProxy.openFeedbackUrl(1014))})),t.adDislikeBtn&&!t.eventsMap.adDislikeBtn&&t.adDislikeBtn.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!1,me.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),t.adQualityBtn&&!t.eventsMap.adQualityBtn&&t.adQualityBtn.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,me.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===t.source&&ke.call(e,{source:t.source,animated:!0},17))})),t.adDuplicateBtn&&!t.eventsMap.adDuplicateBtn&&t.adDuplicateBtn.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,me.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===t.source&&ke.call(e,{source:t.source,animated:!0},17))})),t.adDismatchBtn&&!t.eventsMap.adDismatchBtn&&t.adDismatchBtn.on("click",(function(n){de.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,me.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===t.source&&ke.call(e,{source:t.source,animated:!0},17))})),t.closeContainer&&!t.eventsMap.closeContainer&&t.closeContainer.on("click",(function(n){de.call(e,n,!1)&&(fe.call(e)||"launch"===t.source&&ke.call(e,{source:t.source,animated:!0},11))})),t.adMedia&&!t.eventsMap.adMedia&&t.adMedia.on("click",(function(t){Be.call(e,t,"adMedia")})),t.adButtonContainer&&!t.eventsMap.adButtonContainer&&t.adButtonContainer.on("click",(function(t){Be.call(e,t,"button")})),t.buttonContainer&&!t.eventsMap.buttonContainer&&t.buttonContainer.on("click",(function(n){if(de.call(e,n,!1))return t.data?(ke.call(e,{source:t.source,animated:!1},16),t.isLandingPage=!0,(0,D.Vs)(le).then((function(){return be.call(e,n,16)}))):void 0}));for(var n=0,i=["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"];n<i.length;n++){var a=i[n];t[a]&&!t.eventsMap[a]&&(t.eventsMap[a]=!0)}},Be=function(e){var t,n,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,S.Wj)(this),o=(null==r||null===(t=r.data)||void 0===t||null===(n=t.condition)||void 0===n?void 0:n.widget_gray_splash_click_area_switch)||0;if((!o||"button"===a)&&de.call(this,e,!1))return r.data&&"launch"===r.source?!te||P.wZ?(be.call(this,e,13),(0,D.Vs)(200).then((function(){return ke.call(i,{source:r.source,animated:!1},13)}))):(ke.call(this,{source:r.source,animated:!1},13),be.call(this,e,13)):void 0},je=function(){var e=(0,S.Wj)(this);if(e.data){var t=Se.call(this);t&&"launch"===e.source&&(0,F.yw)({showMenu:!0,title:t.title,icon:t.thumb,success:function(){e.adProxy.reportAdMonitorData(G.ET.showSplashAdMenuSuccess)},fail:function(t){e.adProxy.reportAdMonitorData(G.ET.showSplashAdMenuFail,{msg:t})}})}},Ue=function(){var e=(0,S.Wj)(this);try{var t,n=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[n])}catch(e){}},Ge=function(){var e=(0,S.Wj)(this);if(!e.data||""===e.data||"object"!==y()(e.data)){var t=F.fs.readFileSync(re,"utf-8");try{var n=JSON.parse(t);e.data=n,e.adProxy.data=n}catch(t){R.Z.onReady((function(){e.adProxy.reportAdMonitorData(G.ET.readFileDataFail,{source:e.source,msg:t})}))}}},Ve=function(){var e=(0,S.Wj)(this);if("launch"===e.source){We.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},Ze=function(){var e=(0,S.Wj)(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(P.wZ||X>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),We.call(this,t,!0),(0,F.fy)({state:0}),T._w.layout().then((function(){(0,F.fy)({state:1}),T._w.auto=!0})).catch((function(t){R.Z.onReady((function(){e.adProxy.reportAdMonitorData(G.ET.secondInsertFail,{source:e.source,msg:t})}))}))}},He=function(){var e=(0,S.Wj)(this);$=Math.max(160,160*q/812),J=q-$,e.adMedia.style.width=z,e.adMedia.style.height=J;var t=9*q/16;e.adMaterial.style.width=t,e.adMaterial.style.height=q,e.adMaterial.style.left=t>z?(z-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=ae:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=z,e.adMaterial.style.height=J,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=z,e.adMaterialContainer.style.height=J,e.adMaterial.src=oe,e.adMaterialBg.style.width=.45*q*16/9,e.adMaterialBg.style.height=.45*q,e.adMaterialBg.style.left=-(.45*q*16/9-z)/2,e.adMaterialLandscape.style.width=z/375*311,e.adMaterialLandscape.style.height=z/375*175,e.adMaterialBg.src=ae,e.adMaterialLandscape.src=ae,e.adCardInfo.style.width=z/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=q/1920},Ye=function(e){var t,n=this,i=(0,S.Wj)(this);if(i.showInfo=e,i.source=e.source,i.isDarkMode=e.isDarkMode||!1,e.isGame&&(te=e.isGame),z=e.screenWidth,q=e.screenHeight,null!=i&&null!==(t=i.data)&&void 0!==t&&t.adDynamicList){var a=E()('\n  <view id="container">\n  </view>\n').root;x.i.call(this,a,B),i.isDynamic=!0,De.call(this,e.source)}else x.i.call(this,Y,j),He.call(this);if(i.container.style.width=z,i.container.style.height=q,i.container.style.backgroundColor=i.isDarkMode?"#191919":"#ffffff",T._w.add(i.container),!i.isDynamic)try{F.fs.access({path:se,success:function(){i.adMaterialBg.src=se}})}catch(e){}var r=[];"menu"!==i.source||i.isDynamic||(Ge.call(this),r=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===i.crtOrientation&&(r=r.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),i.navigator.style.hidden=!1,We.call(this,r,!0)),(0,F.Ae)({state:0}),T._w.layout().then((function(){if(i.firstInserted=!0,i.isShowed=!0,(0,F.Ae)({state:1}),"launch"!==i.source||i.isDynamic)T._w.auto=!0,i.container.requestLayout();else try{Ze.call(n)}catch(e){R.Z.onReady((function(){i.adProxy.reportAdMonitorData(G.ET.secondRenderFail,{source:i.source,msg:e})}))}})).catch((function(e){R.Z.onReady((function(){i.adProxy.reportAdMonitorData(G.ET.firstInsertFail,{source:i.source,msg:e})}))}))},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=(0,S.Wj)(this),r=ee+G.c3[i],o=G.ET[i];return R.Z.onReady((function(){var n;a.adProxy.reportAdMonitorData(o,t),a.adProxy.reportTimePoints({slotid:G.DX[a.adType],costtype:null!==(n=a.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:r,scene:e.scene,extInfo:t})})),(0,F.mQ)({adCallTime:Date.now(),errCode:r,show:!1,eventReceivedTime:n.startInit,cgiFetchStart:n.startFetchTime||0,cgiFetchCallBack:n.fetchCallbackTime||0})},qe=function(t){f()(o,t);var n,a=v()(o);function o(){var t;s()(this,o),t=a.call(this);var n=(0,S.Wj)(d()(t));return n.canShowed=!1,n.today=(0,Z.Cy)(),n.countTimer=null,n.componentsRenderred=!1,n.isShowed=!1,n.firstInserted=!1,n.adFeedbackInserted=!1,n.isDynamic=!1,n.isShowedExposureReported=!1,n.startExposureTime=0,n.isViewableExposureReported=!1,n.isCheckAdRequest=!0,n.clickCount=0,n.lastLandingTime=0,n.lastJsapiName="",n.lastJsapiStatus=0,n.lastJsapiCostTime=0,n.isLandingPage=!1,n.landingPageCostTime=0,n.hideTime=0,n.hideDuration=0,n.isClosing=!1,n.isShowCloseTip=!1,n.clickFirstGradeTime=0,n.eventsMap={},n.source="",n.crtOrientation="portrait",n.adType="splashAd",n.adProxy=new k.F({adUnitId:"",adType:n.adType}),n.dynamicElems={},n.dynamicEmitter=null,n.tplComponent=null,(0,e.vl)((function(e){"close"===e.buttonType&&"launch"===e.source?(ge.call(d()(t),10),Ee.call(d()(t),["countTimer"])):"close"===e.buttonType&&"menu"===e.source?ge.call(d()(t),14):"back"!==e.buttonType||"menu"!==e.source||n.isLandingPage?"menu"===e.buttonType&&ye.call(d()(t),1):ge.call(d()(t),15)})),(0,e.vj)((function(e){if(e.menuViewFrame&&("launch"===e.source?(X=e.menuViewFrame.y||0,n.dynamicEmitter&&n.isDynamic&&n.tplComponent&&X&&n.tplComponent.emitComponentEvent(M._d.SPLASHADMENUVIEW,{countdownTop:X})):"menu"===e.source&&(K=e.menuViewFrame.height||0,n.dynamicEmitter&&n.isDynamic&&n.tplComponent&&K&&n.tplComponent.emitComponentEvent(M._d.SPLASHADMENUVIEW,{navHeight:K,menuHeight:172-K})),P.cj&&n.firstInserted&&!n.adFeedbackInserted))try{Ve.call(d()(t))}catch(e){R.Z.onReady((function(){n.adProxy.reportAdMonitorData(G.ET.iosThirdInsertFail,{source:n.source,msg:e})}))}})),(0,e.Pp)((function(){n.adProxy.setTimePoint("p5"),"launch"!==n.source||n.isDynamic||(Ge.call(d()(t)),Pe.call(d()(t))),je.call(d()(t)),Ue.call(d()(t)),n.hideTime>0&&(n.hideDuration=+new Date-n.hideTime),_e.call(d()(t)),"launch"===n.source&&n.isShowedExposureReported&&xe.call(d()(t)),n.isLandingPage&&(n.isLandingPage=!1)})),(0,e.EJ)((function(){n.hideTime=+new Date,Ee.call(d()(t),["countTimer"])})),(0,e.BZ)((function(){ne||(ne=!0),P.cj&&n.startExposureTime>0&&+new Date-n.startExposureTime>1e3&&_e.call(d()(t),!0),n.container&&(n.isDynamic&&(n.tplComponent&&(0,W.unmount)(n.tplComponent),n.dynamicElems={},n.dynamicEmitter=null,n.tplComponent=null),T._w.remove(n.container)),Te.call(d()(t))})),t}return l()(o,[{key:"otherAdsEmitFetch",value:function(){Ce.call(this)}},{key:"show",value:function(e){var t=this;ie=!0;var n=(0,S.Wj)(this);n.showInfo=e,n.adProxy.scene=e.scene,n.adProxy.setTimePoint("p14");var i=n.adProxy.getTimePoint("p14");if(R.Z.onReady((function(){setTimeout((function(){var t="launch"===e.source?G.ET.launchAcceptShouldShow:G.ET.menuAcceptShouldShow;n.adProxy.reportAdMonitorData(t)}),ue)})),"launch"!==e.source)return this.showDetail(e);var a={};try{var r=F.fs.readFileSync(ce,"utf-8");a.adInfos=r||{},n.adInfos=JSON.parse(r)}catch(e){n.adInfos={},a.errMsg=n.adProxy.processStackMsg(e),a.fileName=ce}if(0===Object.keys(n.adInfos).length)ee=1e4,Q=G.c3.NO_ADINFOS,this.showAdByRealtimeFetch(e,i);else{var o;R.Z.onReady((function(){setTimeout((function(){n.isCheckAdRequest&&(n.adFetchResult=Ae.call(t).catch((function(){})))}),ue)}));var s=n.adInfos.ads||[];(null===(o=n.adInfos)||void 0===o?void 0:o.isCheckAndFetch)||0?(ee=2e4,this.showAdByRealtimeFetch(e,i,s)):this.showAdByCheckAdsOnline(e,i),n.adDatas={};var c,l=_()(s);try{for(l.s();!(c=l.n()).done;){var u=c.value;try{var d="".concat(G.Lq,"/").concat(u.aid,".txt"),p=F.fs.readFileSync(d,"utf-8"),f=JSON.parse(p);n.adDatas[u.aid]=f}catch(e){}}}catch(e){l.e(e)}finally{l.f()}}try{var h,v=(null===(h=n.adInfos)||void 0===h?void 0:h.deviceInfo)||{};n.adProxy.setDeviceInfo(v)}catch(e){}}},{key:"showAdByRealtimeFetch",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(0,S.Wj)(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:C.c,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:P.cj,isAndroid:P.wZ,adNetworkType:e.networkType},o={weappEnterScene:e.scene,requestType:2,preloadAds:i};return a.adProxy.setTimePoint("p15"),R.Z.onReady((function(){setTimeout((function(){a.adProxy.reportAdMonitorData(G.ET.START_CHECK_AD_STATUS)}),ue)})),Ae.call(this,r,o).then((function(t){R.Z.onReady((function(){setTimeout((function(){a.adProxy.reportAdMonitorData(G.ET.CHECK_AD_STATUS_SUCCESS)}),ue)})),a.adProxy.setTimePoint("p16");var i=!1;"fetch"===a.adProxy.lastAdRespone&&(a.isCheckAdRequest=!1,a.data=t,a.adProxy.data=t,i=!0,ee=1e4===ee?1e4:3e4),n.showDetail(e,{aid:Number(t.aid)},i)})).catch((function(i){return a.adProxy.setTimePoint("p16"),ze.call(n,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR")}))}},{key:"showAdByCheckAdsOnline",value:function(e,t){var n=this,i=(0,S.Wj)(this),a=i.adInfos.requestInQueue&&"true"===i.adInfos.requestInQueue,r=JSON.stringify({weapp_enter_scene:e.scene||0}),o={slot_id:G.DX[i.adType],publisher_appid:e.appId,network_type:G.MC[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:C.c,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:i.adInfos.ads||[],ext_check_ads_weapp:r};i.adProxy.setTimePoint("p15"),R.Z.onReady((function(){setTimeout((function(){i.adProxy.reportAdMonitorData(G.ET.START_CHECK_AD_STATUS)}),1500)})),(0,V.G_)(o,a).then((function(t){R.Z.onReady((function(){setTimeout((function(){i.adProxy.reportAdMonitorData(G.ET.CHECK_AD_STATUS_SUCCESS)}),1500)})),i.adProxy.setTimePoint("p16");var a=JSON.parse(t.rawData);n.showDetail(e,a)})).catch((function(a){return i.adProxy.setTimePoint("p16"),ze.call(n,e,{msg:a},{startInit:t},"CHECK_AD_STATUS_ERROR")}))}},{key:"showDetail",value:(n=r()(b().mark((function e(t){var n,a,r,o,s,c,l,u,d,p,f,h,v,g,y,m,_,w,I,E,k,A,C,x,P=this,D=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.length>1&&void 0!==D[1]?D[1]:{aid:0},a=D.length>2&&void 0!==D[2]&&D[2],T._w.style.width=t.screenWidth,T._w.style.height=t.screenHeight,T._w.auto=!1,r=(0,S.Wj)(this),o={startInit:r.adProxy.getTimePoint("p14"),startFetchTime:r.adProxy.getTimePoint("p15"),fetchCallbackTime:r.adProxy.getTimePoint("p16")},s=[],c=n.aid,"launch"!==t.source||!a){e.next=21;break}p=(null==r||null===(l=r.data)||void 0===l||null===(u=l.rerankingExtInfo)||void 0===u?void 0:u.material_hash)||"",ae="".concat(G.Lq,"/").concat(c,"_").concat(p,".png"),oe="".concat(G.Lq,"/").concat(c,"_").concat(p,"_pure_color.png"),se="".concat(G.Lq,"/").concat(c,"_").concat(p,"_blur.png"),s.push(ae),r.crtOrientation="portrait",f=(null==r||null===(d=r.data)||void 0===d?void 0:d.crtInfo[0])||{},Object.keys(f).length>0&&(h=f.width,v=f.height,r.crtOrientation=h>v?"landscape":"portrait"),"landscape"===r.crtOrientation&&s.push(oe),e.next=39;break;case 21:if("launch"!==t.source||a){e.next=38;break}if(c&&"0"!==c){e.next=24;break}return e.abrupt("return",ze.call(this,t,{adInfos:r.adInfos,checkAdStatus:n},o,"NO_AID"));case 24:if(c&&null!=r&&null!==(g=r.adDatas)&&void 0!==g&&g[c]&&(r.data=r.adDatas[c],r.adProxy.data=r.adDatas[c]),r.crtOrientation=c?null==r||null===(y=r.adInfos)||void 0===y||null===(m=y.crtSizeMap)||void 0===m?void 0:m[c]:"",r.crtOrientation){e.next=28;break}return e.abrupt("return",ze.call(this,t,{adInfos:r.adInfos,checkAdStatus:n},o,"CRT_ORIENTATION_NOT_SURE"));case 28:w=c?null==r||null===(_=r.adInfos)||void 0===_?void 0:_.materialHashMap[c]:"",re="".concat(G.Lq,"/").concat(c,".txt"),ae="".concat(G.Lq,"/").concat(c,"_").concat(w,".png"),oe="".concat(G.Lq,"/").concat(c,"_").concat(w,"_pure_color.png"),se="".concat(G.Lq,"/").concat(c,"_").concat(w,"_blur.png"),s.push(re),s.push(ae),"landscape"===r.crtOrientation&&s.push(oe),e.next=39;break;case 38:"menu"===t.source&&(k={},null!==(I=r.data)&&void 0!==I&&I.crtInfo&&r.data.crtInfo.length>0?(A=i()(r.data.crtInfo,1),k=A[0]):null!==(E=r.data)&&void 0!==E&&E.crtInfo&&(k=r.data.crtInfo),Object.keys(k).length>0&&!r.crtOrientation&&(r.crtOrientation=r.data.crtInfo.width>r.data.crtInfo.height?"landscape":"portrait"),ye.call(this,2));case 39:e.prev=39,"launch"===t.source&&s.forEach((function(e){F.fs.accessSync(e)})),e.next=59;break;case 43:if(e.prev=43,e.t0=e.catch(39),Q=G.c3.MATERIAL_NOT_READY,C=r.adProxy.processStackMsg(e.t0),x=!1,!r.data){e.next=57;break}return e.prev=49,e.next=52,r.adProxy.handleBulkSaveMaterials(r.data);case 52:x=!0,e.next=57;break;case 55:e.prev=55,e.t1=e.catch(49);case 57:if(x){e.next=59;break}return e.abrupt("return",ze.call(this,t,{adInfos:r.adInfos,checkAdStatus:n,msg:C},o,"MATERIAL_NOT_READY"));case 59:r.adProxy.setTimePoint("p17"),"launch"===t.source&&(0,F.mQ)({showMenu:!0,show:!0,errCode:Q+ee,adCallTime:r.adProxy.getTimePoint("p17"),eventReceivedTime:o.startInit,cgiFetchStart:o.startFetchTime,cgiFetchCallBack:o.fetchCallbackTime,success:function(){r.adProxy.setTimePoint("p18"),R.Z.onReady((function(){r.adProxy.reportAdMonitorData(G.ET.launchShowSplashAdSuccess)}))},fail:function(e){r.adProxy.setTimePoint("p18"),R.Z.onReady((function(){r.adProxy.reportAdMonitorData(G.ET.showSplashAdFail,{adInfos:r.adInfos,checkAdStatus:n,msg:e})})),Te.call(P),r.container&&T._w.remove(r.container)}});try{r.adProxy.setTimePoint("p4"),Ye.call(this,t)}catch(e){ke.call(this,{source:t.source,animated:!1},19),Te.call(this),R.Z.onReady((function(){r.adProxy.reportAdMonitorData(G.ET.firstRenderFail,{adInfos:r.adInfos,source:t.source,msg:e})}))}case 62:case"end":return e.stop()}}),e,this,[[39,43],[49,55]])}))),function(e){return n.apply(this,arguments)})}]),o}(S.wA);try{var Ke=new qe;(0,e.Ug)((function(e){Ke.show(e)}))}catch(e){}})()})();;})(this);