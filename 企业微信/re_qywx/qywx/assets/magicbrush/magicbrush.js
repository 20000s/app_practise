!function(t){var e={};function E(r){if(e[r])return e[r].exports;var _=e[r]={i:r,l:!1,exports:{}};return t[r].call(_.exports,_,_.exports,E),_.l=!0,_.exports}E.m=t,E.c=e,E.d=function(t,e,r){E.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},E.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},E.t=function(t,e){if(1&e&&(t=E(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(E.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var _ in t)E.d(r,_,function(e){return t[e]}.bind(null,_));return r},E.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return E.d(e,"a",e),e},E.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},E.p="",E(E.s=0)}([function(t,e,E){E(1),E(2),E(3),t.exports=E(4)},function(t,e){!function(){var t=NativeGlobal.batchRender,e=NativeGlobal.registerAfterDoFrame,E=NativeGlobal.Watcher,r=(NativeGlobal.performanceNow,NativeGlobal.log,NativeGlobal.WeakValueMap),_={handler:{},toDeleteList:[]};function n(t){this.destroycmdid=t,this.map_object_to_id=new WeakMap,this.reverse_map_id_to_object=new r,this.getIdWithObject=function(t){let e=this.map_object_to_id.get(t);return e?e[0]:0},this.getObjectWithId=function(t){return this.reverse_map_id_to_object.get(t)},this.get=this.getIdWithObject,this.put=function(t,e){this.reverse_map_id_to_object.put(t,e)},this.remove=function(t){if("number"==typeof t){let e=this.reverse_map_id_to_object.get(t);if(void 0===e)return;let E=this.map_object_to_id.get(e)[1];this.map_object_to_id.delete(e),delete _.handler[E]}else if("object"==typeof t){if(!this.map_object_to_id.has(t))return;let e=this.map_object_to_id.get(t);this.reverse_map_id_to_object.remove(e[0]),this.map_object_to_id.delete(t);let E=e[1];delete _.handler[E]}},this.createWebGLObject=function(t,e){let r=new E;return this.map_object_to_id.set(r,[t,r.__id]),this.reverse_map_id_to_object.put(t,r),_.handler[r.__id]=function(t,e,E,r){return function(){a(e),R.pushInt32Array([E,t],2),r.reverse_map_id_to_object.remove(t)}}(t,e,this.destroycmdid,this),r.__id=void 0,r.ignore=void 0,r.clearExtra=void 0,r.setExtra=void 0,r.getExtra=void 0,r}}NativeGlobal.EventHandler.addEventListener("watcherdestruct",(function(t,e){_.handler[t]&&_.toDeleteList.push(t)}));var A,T=(A=new WeakMap,function(t){var e=A.get(t);return e||(e={origin_ctx:null,ctxid:0,renderbuffer_storage:new n(83),framebuffer_storage:new n(82),buffer_storage:new n(79),texture_storage:new n(78),program_storage:new n(81),shader_storage:new n(41),vao_storage:new n(149)},A.set(t,e)),e}),R={currentctxid:-1,buffer:void 0,MAX_LEN:512e3,lengthPerFourBytes:0,meta:new Uint32Array(2),float32Array:void 0,uint32Array:void 0,offsetPerFourBytes:0,ctxLengthOffsetPerFourBytes:0,init:function(){this.buffer=new ArrayBuffer(this.MAX_LEN),this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.float32Array=new Float32Array(this.buffer),this.uint32Array=new Uint32Array(this.buffer),this.offsetPerFourBytes=2},checkCommand:function(t){if(!(this.offsetPerFourBytes+t<=this.lengthPerFourBytes)){var e=new ArrayBuffer(this.MAX_LEN+4*(t+this.lengthPerFourBytes)),E=new Uint32Array(e);E.set(this.uint32Array),this.buffer=e,this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.uint32Array=E,this.float32Array=new Float32Array(e)}},pushInt32:function(t){this.checkCommand(1),this.uint32Array[this.offsetPerFourBytes++]=t},pushInt64:function(t){this.checkCommand(2);var e=new DataView(this.buffer,4*this.offsetPerFourBytes,8),E=Math.floor(t/4294967296),r=t-4294967296*E;e.setUint32(0,r,!0),e.setUint32(4,E,!0),this.offsetPerFourBytes+=2},pushInt32Array:function(t,e){this.checkCommand(e),this.uint32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushInt16Array:function(t,e){e%2!=0&&e++,this.checkCommand(e/2),new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=e/2},pushFloat32:function(t){this.checkCommand(1),this.float32Array[this.offsetPerFourBytes++]=t},pushFloat64:function(t){this.checkCommand(2),new Float64Array(this.buffer,4*this.offsetPerFourBytes,1)[0]=t,this.offsetPerFourBytes+=2},pushFloat32Array:function(t,e){this.checkCommand(e),this.float32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushFloat64Array:function(t,e){this.checkCommand(2*e),new Float64Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=2*e},pushArrayBuffer:function(t){var e=t.byteLength;if(this.pushInt32(e),0!==e){var E,r=e%4;E=0!==r?(e+4-r)/4:e/4,this.checkCommand(E);var _=new Uint8Array(this.buffer,4*this.offsetPerFourBytes,e);ArrayBuffer.isView(t)?_.set(new Uint8Array(t.buffer,t.byteOffset,e)):_.set(new Uint8Array(t)),this.offsetPerFourBytes+=E}},pushString:function(t){var e=t.length+1,E=2*e;this.pushInt32(E);var r,_=E%4;r=0!==_?(E+4-_)/4:E/4,this.checkCommand(r);for(var n=new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e),A=0;A<e;A++)n[A]=t.charCodeAt(A);this.offsetPerFourBytes+=r},batchRender:function(e){if(this.meta[0]=this.offsetPerFourBytes,0!=R.ctxLengthOffsetPerFourBytes){var E=R.uint32Array[R.ctxLengthOffsetPerFourBytes];R.uint32Array[R.ctxLengthOffsetPerFourBytes]=R.offsetPerFourBytes-E,R.ctxLengthOffsetPerFourBytes=0}return this.offsetPerFourBytes=2,this.currentctxid=-1,t(this.buffer,e)}};function a(t){if(R.currentctxid!==t){if(-1!=R.currentctxid&&0!=R.ctxLengthOffsetPerFourBytes){var e=R.uint32Array[R.ctxLengthOffsetPerFourBytes];R.uint32Array[R.ctxLengthOffsetPerFourBytes]=R.offsetPerFourBytes-e}R.pushInt32(999),R.pushInt32(t),R.ctxLengthOffsetPerFourBytes=R.offsetPerFourBytes,R.pushInt32(R.offsetPerFourBytes+1),R.currentctxid=t}}R.init(),e((function(){R.offsetPerFourBytes>2&&R.batchRender();let t=_.toDeleteList;_.toDeleteList=[];for(var e=0;e<t.length;e++){var E=t[e];_.handler[E]&&_.handler[E](),delete _.handler[E]}})),NativeGlobal.getCommandBufferUid=function(t){return T(t).ctxid},NativeGlobal.destroyCommandBuffer=function(t){},NativeGlobal.buildCommandBuffer=function(t){var e;e={vertexAttribPointer:function(t,e,E,r,_,n){a(T(this).ctxid),R.pushInt32Array([1,t,e,E,r?1:0,_,n],7)},activeTexture:function(t){a(T(this).ctxid),R.pushInt32Array([2,t],2)},uniform1i:function(t,e){a(T(this).ctxid),"boolean"==typeof e&&(e=e?1:0),R.pushInt32Array([3,t.id,e],3)},drawElements:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([4,t,e,E,r],5)},bindBuffer:function(t,e){let E=T(this);a(E.ctxid),R.pushInt32Array([5,t,E.buffer_storage.get(e)],3)},bindTexture:function(t,e){var E=T(this);a(E.ctxid);var r=E.texture_storage.get(e);36197==t&&(r=e),R.pushInt32Array([6,t,r],3)},uniformMatrix4fv:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([7,t.id,e?1:0,E.length],4),R.pushFloat32Array(E,E.length)},viewport:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([8,t,e,E,r],5)},clear:function(t){a(T(this).ctxid),R.pushInt32Array([9,t],2)},createProgram:function(){var t=T(this);a(t.ctxid),R.pushInt32(10);var e=R.batchRender();return t.program_storage.createWebGLObject(e,t.ctxid)},createShader:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([11,t],2);let E=R.batchRender();return e.shader_storage.createWebGLObject(E,e.ctxid)},shaderSource:function(t,e){let E=T(this);a(E.ctxid),R.pushInt32Array([12,E.shader_storage.get(t)],2),R.pushString(e)},getShaderInfoLog:function(t){let e=T(this);return a(e.ctxid),R.pushInt32Array([13,e.shader_storage.get(t)],2),R.batchRender()},getShaderParameter:function(t,e){let E=T(this);return a(E.ctxid),R.pushInt32Array([14,E.shader_storage.get(t),e],3),R.batchRender()},compileShader:function(t){let e=T(this);a(e.ctxid),R.pushInt32Array([15,e.shader_storage.get(t)],2)},attachShader:function(t,e){var E=T(this);a(E.ctxid),R.pushInt32Array([16,E.program_storage.get(t),E.shader_storage.get(e)],3)},linkProgram:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([17,e.program_storage.get(t)],2)},getProgramParameter:function(t,e){var E=T(this);return a(E.ctxid),R.pushInt32Array([18,E.program_storage.get(t),e],3),R.batchRender()},useProgram:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([19,e.program_storage.get(t)],2)},getAttribLocation:function(t,e){var E=T(this);return a(E.ctxid),R.pushInt32Array([20,E.program_storage.get(t)],2),R.pushString(e),R.batchRender()},enableVertexAttribArray:function(t){a(T(this).ctxid),R.pushInt32Array([21,t],2)},getUniformLocation:function(t,e){var E=T(this);a(E.ctxid),R.pushInt32Array([22,E.program_storage.get(t)],2),R.pushString(e);var r={};return r.id=R.batchRender(),r},createBuffer:function(){var t=T(this);a(t.ctxid),R.pushInt32(23);let e=R.batchRender();return t.buffer_storage.createWebGLObject(e,t.ctxid)},bufferData:function(t,e,E){a(T(this).ctxid),"number"!=typeof e||isNaN(e)?(R.pushInt32Array([25,t,E],3),R.pushArrayBuffer(e)):(R.pushInt32Array([24,t,E],3),R.pushInt64(e))},createTexture:function(){var t=T(this);a(t.ctxid),R.pushInt32(26);var e=R.batchRender();return t.texture_storage.createWebGLObject(e,t.ctxid)},pixelStorei:function(t,e){a(T(this).ctxid),"boolean"==typeof e&&(e=e?1:0),R.pushInt32Array([27,t,e],3)},texImage2D:function(t,e,E,r,_,n,A,i,s){a(T(this).ctxid);var u=arguments.length;6===u?(R.pushInt32Array([28,t,e,E,r,_],6),R.pushInt64(n.__uid())):9===u&&(null==s?R.pushInt32Array([29,t,e,E,r,_,n,A,i],9):R.pushInt32Array([30,t,e,E,r,_,n,A,i],9)),R.batchRender(s)},texParameteri:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([31,t,e,E],4)},enable:function(t){a(T(this).ctxid),R.pushInt32Array([32,t],2)},clearColor:function(t,e,E,r){a(T(this).ctxid),R.pushInt32(33),R.pushFloat32Array([t,e,E,r],4)},disable:function(t){a(T(this).ctxid),R.pushInt32Array([34,t],2)},getExtension:function(t){let e=T(this),E=e.ctxid;a(E),R.pushInt32(35),R.pushString(t);var r=R.batchRender();if(!r)return r;if("ANGLE_instanced_arrays"===t){if(e.angle_instanced_arrays)return e.angle_instanced_arrays;let t={drawArraysInstancedANGLE:function(t,e,r,_){a(E),R.pushInt32Array([143,t,e,r,_],5)},drawElementsInstancedANGLE:function(t,e,r,_,n){a(E),R.pushInt32Array([144,t,e,r,_,n],6)},vertexAttribDivisorANGLE:function(t,e){a(E),R.pushInt32Array([145,t,e],3)}};return t.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=r.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE,e.angle_instanced_arrays=t,t}if("OES_vertex_array_object"===t){if(e.vao)return e.vao;let t=this;var _={createVertexArrayOES:function(){a(T(t).ctxid),R.pushInt32(148);var r=R.batchRender();return e.vao_storage.createWebGLObject(r,E)},deleteVertexArrayOES:function(E){a(T(t).ctxid),R.pushInt32Array([149,e.vao_storage.get(E)],2),e.vao_storage.remove(E)},isVertexArrayOES:function(E){let r=e.vao_storage.get(E);return!(r<=0)&&(a(T(t).ctxid),R.pushInt32Array([150,r],2),R.batchRender())},bindVertexArrayOES:function(E){a(T(t).ctxid);let r=e.vao_storage.get(E);R.pushInt32Array([151,r],2)}};return _.VERTEX_ARRAY_BINDING_OES=r.VERTEX_ARRAY_BINDING_OES,e.vao=_,_}return r},getParameter:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([36,t],2);const E=R.batchRender();switch(t){case this.ARRAY_BUFFER_BINDING:case this.ELEMENT_ARRAY_BUFFER_BINDING:return e.buffer_storage.getObjectWithId(E);case this.CURRENT_PROGRAM:return e.program_storage.getObjectWithId(E);case this.FRAMEBUFFER_BINDING:return e.framebuffer_storage.getObjectWithId(E);case this.RENDERBUFFER_BINDING:return e.renderbuffer_storage.getObjectWithId(E);case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:return e.texture_storage.getObjectWithId(E);default:return E}},getSupportedExtensions:function(){return a(T(this).ctxid),R.pushInt32(37),R.batchRender()},blendFunc:function(t,e){a(T(this).ctxid),R.pushInt32Array([38,t,e],3)},getShaderPrecisionFormat:function(t,e){a(T(this).ctxid),R.pushInt32Array([39,t,e],3);const E=R.batchRender().split(",");var r={};return r.rangeMin=E[0],r.rangeMax=E[1],r.precision=E[2],r},bindAttribLocation:function(t,e,E){var r=T(this);a(r.ctxid),R.pushInt32Array([40,r.program_storage.get(t),e],3),R.pushString(E)},deleteShader:function(t){let e=T(this);a(e.ctxid),R.pushInt32Array([41,e.shader_storage.get(t)],2),e.shader_storage.remove(t)},drawArrays:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([42,t,e,E],4)},isEnabled:function(t){return a(T(this).ctxid),R.pushInt32Array([43,t],2),R.batchRender()},depthMask:function(t){a(T(this).ctxid),R.pushInt32Array([44,t?1:0],2)},stencilFunc:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([45,t,e,E],4)},stencilOp:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([46,t,e,E],4)},stencilMask:function(t){a(T(this).ctxid),R.pushInt32Array([47,t],2)},scissor:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([48,t,e,E,r],5)},bufferSubData:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([49,t,e],3),R.pushArrayBuffer(E)},blendFuncSeparate:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([50,t,e,E,r],5)},uniform1f:function(t,e){a(T(this).ctxid),R.checkCommand(3),R.uint32Array.set([51,t.id],R.offsetPerFourBytes),R.float32Array[R.offsetPerFourBytes+2]=e,R.offsetPerFourBytes+=3},clearDepth:function(t){a(T(this).ctxid),R.pushInt32(52),R.pushFloat32(t)},clearStencil:function(t){a(T(this).ctxid),R.pushInt32Array([53,t],2)},depthFunc:function(t){a(T(this).ctxid),R.pushInt32Array([54,t],2)},frontFace:function(t){a(T(this).ctxid),R.pushInt32Array([55,t],2)},cullFace:function(t){a(T(this).ctxid),R.pushInt32Array([56,t],2)},blendEquationSeparate:function(t,e){a(T(this).ctxid),R.pushInt32Array([57,t,e],3)},createFramebuffer:function(){var t=T(this);a(t.ctxid),R.pushInt32(58);let e=R.batchRender();return t.framebuffer_storage.createWebGLObject(e,t.ctxid)},bindFramebuffer:function(t,e){let E=T(this);a(E.ctxid),R.pushInt32Array([59,t,E.framebuffer_storage.get(e)],3)},framebufferTexture2D:function(t,e,E,r,_){var n=T(this);a(n.ctxid);var A=n.texture_storage.get(r)||0;R.pushInt32Array([60,t,e,E,_,A],6)},createRenderbuffer:function(){var t=T(this);a(t.ctxid),R.pushInt32(61);let e=R.batchRender();return t.renderbuffer_storage.createWebGLObject(e,t.ctxid)},bindRenderbuffer:function(t,e){let E=T(this);a(E.ctxid),R.pushInt32Array([62,t,E.renderbuffer_storage.get(e)],3)},renderbufferStorage:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([63,t,e,E,r],5)},framebufferRenderbuffer:function(t,e,E,r){let _=T(this);a(_.ctxid),R.pushInt32Array([64,t,e,E,_.renderbuffer_storage.get(r)],5)},colorMask:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([65,t?1:0,e?1:0,E?1:0,r?1:0],5)},getProgramInfoLog:function(t){var e=T(this);return a(e.ctxid),R.pushInt32Array([66,e.program_storage.get(t)],2),R.batchRender()},getActiveAttrib:function(t,e){var E=T(this);a(E.ctxid),R.pushInt32Array([67,E.program_storage.get(t),e],3);const r=R.batchRender().split(",");var _={};return _.type=Number(r[0]),_.size=Number(r[1]),_.name=r[2],_},getActiveUniform:function(t,e){var E=T(this);a(E.ctxid),R.pushInt32Array([68,E.program_storage.get(t),e],3);const r=R.batchRender();if(r){const t=r.split(",");var _={};return _.type=Number(t[0]),_.size=Number(t[1]),_.name=t[2],_}return null},uniform3f:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([69,t.id],2),R.pushFloat32Array([e,E,r],3)},uniform1iv:function(t,e){a(T(this).ctxid),R.pushInt32Array([70,t.id,e.length],3),R.pushInt32Array(e,e.length)},uniform3fv:function(t,e){a(T(this).ctxid),R.checkCommand(3+e.length),R.uint32Array.set([71,t.id,e.length],R.offsetPerFourBytes),R.offsetPerFourBytes+=3,R.float32Array.set(e,R.offsetPerFourBytes),R.offsetPerFourBytes+=e.length},uniform2f:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([72,t.id],2),R.pushFloat32Array([e,E],2)},uniformMatrix3fv:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([73,t.id,e?1:0,E.length],4),R.pushFloat32Array(E,E.length)},disableVertexAttribArray:function(t){a(T(this).ctxid),R.pushInt32Array([74,t],2)},generateMipmap:function(t){a(T(this).ctxid),R.pushInt32Array([75,t],2)},uniform4fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([76,t.id,e.length],3),R.pushFloat32Array(e,e.length)},getError:function(){return a(T(this).ctxid),R.pushInt32(77),R.batchRender()},deleteTexture:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([78,e.texture_storage.get(t)],2),e.texture_storage.remove(t)},deleteBuffer:function(t){let e=T(this);a(e.ctxid),R.pushInt32Array([79,e.buffer_storage.get(t)],2),e.buffer_storage.remove(t)},getShaderSource:function(t){let e=T(this);return a(e.ctxid),R.pushInt32Array([80,e.shader_storage.get(t)],2),R.batchRender()},deleteProgram:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([81,e.program_storage.get(t)],2),e.program_storage.remove(t)},deleteFramebuffer:function(t){let e=T(this);a(e.ctxid),R.pushInt32Array([82,e.framebuffer_storage.get(t)],2),e.framebuffer_storage.remove(t)},deleteRenderbuffer:function(t){let e=T(this);a(e.ctxid),R.pushInt32Array([83,e.renderbuffer_storage.get(t)],2),e.renderbuffer_storage.remove(t)},texSubImage2D:function(t,e,E,r,_,n,A,i,s){a(T(this).ctxid);var u=arguments.length;7===u?(R.pushInt32Array([84,t,e,E,r,_,n],7),R.pushInt64(A.__uid())):9===u&&(null==s?R.pushInt32Array([85,t,e,E,r,_,n,A,i],9):R.pushInt32Array([86,t,e,E,r,_,n,A,i],9)),R.batchRender(s)},uniform4f:function(t,e,E,r,_){a(T(this).ctxid),R.pushInt32Array([87,t.id],2),R.pushFloat32Array([e,E,r,_],4)},isBuffer:function(t){let e=T(this),E=e.buffer_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([88,E],2),R.batchRender())},isContextLost:function(){return!1},isFramebuffer:function(t){let e=T(this),E=e.framebuffer_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([90,E],2),R.batchRender())},isProgram:function(t){var e=T(this);let E=e.program_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([91,E],2),R.batchRender())},isRenderbuffer:function(t){var e=T(this);let E=e.renderbuffer_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([92,E],2),R.batchRender())},isShader:function(t){var e=T(this);let E=e.shader_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([93,E],2),R.batchRender())},isTexture:function(t){var e=T(this);let E=e.texture_storage.get(t);return!(E<=0)&&(a(e.ctxid),R.pushInt32Array([94,E],2),R.batchRender())},uniform2i:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([95,t.id,e,E],4)},uniform3i:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([96,t.id,e,E,r],5)},uniform4i:function(t,e,E,r,_){a(T(this).ctxid),R.pushInt32Array([97,t.id,e,E,r,_],6)},uniform1fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([98,t.id,e.length],3),R.pushFloat32Array(e,e.length)},uniform2fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([99,t.id,e.length],3),R.pushFloat32Array(e,e.length)},uniform2iv:function(t,e){a(T(this).ctxid),R.pushInt32Array([100,t.id,e.length],3),R.pushInt32Array(e,e.length)},uniform3iv:function(t,e){a(T(this).ctxid),R.pushInt32Array([101,t.id,e.length],3),R.pushInt32Array(e,e.length)},uniform4iv:function(t,e){a(T(this).ctxid),R.pushInt32Array([102,t.id,e.length],3),R.pushInt32Array(e,e.length)},uniformMatrix2fv:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([103,t.id,e?1:0,E.length],4),R.pushFloat32Array(E,E.length)},vertexAttrib1f:function(t,e){a(T(this).ctxid),R.pushInt32Array([104,t],2),R.pushFloat32(e)},vertexAttrib2f:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([105,t],2),R.pushFloat32Array([e,E],2)},vertexAttrib3f:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([106,t],2),R.pushFloat32Array([e,E,r],3)},vertexAttrib4f:function(t,e,E,r,_){a(T(this).ctxid),R.pushInt32Array([107,t],2),R.pushFloat32Array([e,E,r,_],4)},vertexAttrib1fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([108,t,e.length],3),R.pushFloat32Array(e,e.length)},vertexAttrib2fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([109,t,e.length],3),R.pushFloat32Array(e,e.length)},vertexAttrib3fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([110,t,e.length],3),R.pushFloat32Array(e,e.length)},vertexAttrib4fv:function(t,e){a(T(this).ctxid),R.pushInt32Array([111,t,e.length],3),R.pushFloat32Array(e,e.length)},blendColor:function(t,e,E,r){a(T(this).ctxid),R.pushInt32(112),R.pushFloat32Array([t,e,E,r],4)},checkFramebufferStatus:function(t){return a(T(this).ctxid),R.pushInt32Array([113,t],2),R.batchRender()},compressedTexImage2D:function(t,e,E,r,_,n,A){a(T(this).ctxid),R.pushInt32Array([114,t,e,E,r,_,n],7),R.pushArrayBuffer(A)},compressedTexSubImage2D:function(t,e,E,r,_,n,A,i){a(T(this).ctxid),R.pushInt32Array([115,t,e,E,r,_,n,A],8),R.pushArrayBuffer(i)},copyTexImage2D:function(t,e,E,r,_,n,A,i){a(T(this).ctxid),R.pushInt32Array([116,t,e,E,r,_,n,A,i],9)},copyTexSubImage2D:function(t,e,E,r,_,n,A,i){a(T(this).ctxid),R.pushInt32Array([117,t,e,E,r,_,n,A,i],9)},depthRange:function(t,e){a(T(this).ctxid),R.pushInt32(118),R.pushFloat32Array([t,e],2)},detachShader:function(t,e){var E=T(this);a(T(this).ctxid),R.pushInt32Array([119,E.program_storage.get(t),E.shader_storage.get(e)],3)},flush:function(){a(T(this).ctxid),R.pushInt32(120),R.batchRender()},finish:function(){a(T(this).ctxid),R.pushInt32(121),R.batchRender()},hint:function(t,e){a(T(this).ctxid),R.pushInt32Array([122,t,e],3)},lineWidth:function(t){a(T(this).ctxid),R.pushInt32(123),R.pushFloat32(t)},polygonOffset:function(t,e){a(T(this).ctxid),R.pushInt32(124),R.pushFloat32Array([t,e],2)},sampleCoverage:function(t,e){a(T(this).ctxid),R.pushInt32(125),R.pushFloat32(t),R.pushInt32(e?1:0)},stencilFuncSeparate:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([126,t,e,E,r],5)},stencilMaskSeparate:function(t,e){a(T(this).ctxid),R.pushInt32Array([127,t,e],3)},stencilOpSeparate:function(t,e,E,r){a(T(this).ctxid),R.pushInt32Array([128,t,e,E,r],5)},texParameterf:function(t,e,E){a(T(this).ctxid),R.pushInt32Array([129,t,e],3),R.pushFloat32(E)},validateProgram:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([130,e.program_storage.get(t)],2)},getBufferParameter:function(t,e){return a(T(this).ctxid),R.pushInt32Array([131,t,e],3),R.batchRender()},getRenderbufferParameter:function(t,e){return a(T(this).ctxid),R.pushInt32Array([132,t,e],3),R.batchRender()},getTexParameter:function(t,e){return a(T(this).ctxid),R.pushInt32Array([133,t,e],3),R.batchRender()},getVertexAttribOffset:function(t,e){return a(T(this).ctxid),R.pushInt32Array([134,t,e],3),R.batchRender()},wxSetContextAttributes:function(t){a(T(this).ctxid),R.pushInt32Array([135,t.antialias,t.antialiasSamples],3)},wxBindCanvasTexture:function(t,e){a(T(this).ctxid),R.pushInt32Array([136,t],2),R.pushInt64(e.__id)},getContextAttributes:function(){return a(T(this).ctxid),R.pushInt32(137),R.batchRender()},readPixels:function(t,e,E,r,_,n,A){var i=T(this);return a(i.ctxid),R.batchRender(),i.origin_ctx.readPixels(t,e,E,r,_,n,A)},getAttachedShaders:function(t){var e=T(this);a(e.ctxid),R.pushInt32Array([139,e.program_storage.get(t)],2);var E=R.batchRender().split(",");for(i=0,len=E.length;i<len;i++)E[i]=e.shader_storage.getObjectWithId(E[i]);return E},getFramebufferAttachmentParameter:function(t,e,E){var r=T(this);a(r.ctxid),R.pushInt32Array([140,t,e,E],4);const _=R.batchRender();if(E===this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME){let E=this.getFramebufferAttachmentParameter(t,e,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE);if(E===this.RENDERBUFFER)return r.renderbuffer_storage.getObjectWithId(_);if(E===this.TEXTURE)return r.texture_storage.getObjectWithId(_)}return _},getVertexAttrib:function(t,e){var E=T(this);a(E.ctxid),R.pushInt32Array([141,t,e],3);const r=R.batchRender();return e===this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING?E.buffer_storage.getObjectWithId(r):r},blendEquation:function(t){a(T(this).ctxid),R.pushInt32Array([142,t],2)},JS_THREAD_FLUSH:1,JS_THREAD_WAIT:2,FENCE_SYNC_WAIT:16,FENCE_SYNC_CLIENT_WAIT:32,submit:function(t){return t=t||0,a(T(this).ctxid),R.pushInt32Array([152,t],2),R.batchRender()},DEPTH_BUFFER_BIT:t.DEPTH_BUFFER_BIT,STENCIL_BUFFER_BIT:t.STENCIL_BUFFER_BIT,COLOR_BUFFER_BIT:t.COLOR_BUFFER_BIT,FALSE:t.FALSE,TRUE:t.TRUE,POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:4,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,ZERO:t.ZERO,ONE:t.ONE,SRC_COLOR:t.SRC_COLOR,ONE_MINUS_SRC_COLOR:t.ONE_MINUS_SRC_COLOR,SRC_ALPHA:t.SRC_ALPHA,ONE_MINUS_SRC_ALPHA:t.ONE_MINUS_SRC_ALPHA,DST_ALPHA:t.DST_ALPHA,ONE_MINUS_DST_ALPHA:t.ONE_MINUS_DST_ALPHA,DST_COLOR:t.DST_COLOR,ONE_MINUS_DST_COLOR:t.ONE_MINUS_DST_COLOR,SRC_ALPHA_SATURATE:t.SRC_ALPHA_SATURATE,FUNC_ADD:t.FUNC_ADD,BLEND_EQUATION:t.BLEND_EQUATION,BLEND_EQUATION_RGB:t.BLEND_EQUATION_RGB,BLEND_EQUATION_ALPHA:t.BLEND_EQUATION_ALPHA,FUNC_SUBTRACT:t.FUNC_SUBTRACT,FUNC_REVERSE_SUBTRACT:t.FUNC_REVERSE_SUBTRACT,BLEND_DST_RGB:t.BLEND_DST_RGB,BLEND_SRC_RGB:t.BLEND_SRC_RGB,BLEND_DST_ALPHA:t.BLEND_DST_ALPHA,BLEND_SRC_ALPHA:t.BLEND_SRC_ALPHA,CONSTANT_COLOR:t.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:t.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:t.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:t.ONE_MINUS_CONSTANT_ALPHA,BLEND_COLOR:t.BLEND_COLOR,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:t.ARRAY_BUFFER_BINDING,ELEMENT_ARRAY_BUFFER_BINDING:t.ELEMENT_ARRAY_BUFFER_BINDING,STREAM_DRAW:t.STREAM_DRAW,STATIC_DRAW:t.STATIC_DRAW,DYNAMIC_DRAW:t.DYNAMIC_DRAW,BUFFER_SIZE:t.BUFFER_SIZE,BUFFER_USAGE:t.BUFFER_USAGE,CURRENT_VERTEX_ATTRIB:t.CURRENT_VERTEX_ATTRIB,FRONT:t.FRONT,BACK:t.BACK,FRONT_AND_BACK:t.FRONT_AND_BACK,TEXTURE_2D:3553,TEXTURE_EXTERNAL_OES:36197,CULL_FACE:t.CULL_FACE,BLEND:t.BLEND,DITHER:t.DITHER,STENCIL_TEST:t.STENCIL_TEST,DEPTH_TEST:t.DEPTH_TEST,SCISSOR_TEST:t.SCISSOR_TEST,POLYGON_OFFSET_FILL:t.POLYGON_OFFSET_FILL,SAMPLE_ALPHA_TO_COVERAGE:t.SAMPLE_ALPHA_TO_COVERAGE,SAMPLE_COVERAGE:t.SAMPLE_COVERAGE,NO_ERROR:t.NO_ERROR,INVALID_ENUM:t.INVALID_ENUM,INVALID_VALUE:t.INVALID_VALUE,INVALID_OPERATION:t.INVALID_OPERATION,OUT_OF_MEMORY:t.OUT_OF_MEMORY,CW:t.CW,CCW:t.CCW,LINE_WIDTH:t.LINE_WIDTH,ALIASED_POINT_SIZE_RANGE:t.ALIASED_POINT_SIZE_RANGE,ALIASED_LINE_WIDTH_RANGE:t.ALIASED_LINE_WIDTH_RANGE,CULL_FACE_MODE:t.CULL_FACE_MODE,FRONT_FACE:t.FRONT_FACE,DEPTH_RANGE:t.DEPTH_RANGE,DEPTH_WRITEMASK:t.DEPTH_WRITEMASK,DEPTH_CLEAR_VALUE:t.DEPTH_CLEAR_VALUE,DEPTH_FUNC:t.DEPTH_FUNC,STENCIL_CLEAR_VALUE:t.STENCIL_CLEAR_VALUE,STENCIL_FUNC:t.STENCIL_FUNC,STENCIL_FAIL:t.STENCIL_FAIL,STENCIL_PASS_DEPTH_FAIL:t.STENCIL_PASS_DEPTH_FAIL,STENCIL_PASS_DEPTH_PASS:t.STENCIL_PASS_DEPTH_PASS,STENCIL_REF:t.STENCIL_REF,STENCIL_VALUE_MASK:t.STENCIL_VALUE_MASK,STENCIL_WRITEMASK:t.STENCIL_WRITEMASK,STENCIL_BACK_FUNC:t.STENCIL_BACK_FUNC,STENCIL_BACK_FAIL:t.STENCIL_BACK_FAIL,STENCIL_BACK_PASS_DEPTH_FAIL:t.STENCIL_BACK_PASS_DEPTH_FAIL,STENCIL_BACK_PASS_DEPTH_PASS:t.STENCIL_BACK_PASS_DEPTH_PASS,STENCIL_BACK_REF:t.STENCIL_BACK_REF,STENCIL_BACK_VALUE_MASK:t.STENCIL_BACK_VALUE_MASK,STENCIL_BACK_WRITEMASK:t.STENCIL_BACK_WRITEMASK,VIEWPORT:t.VIEWPORT,SCISSOR_BOX:t.SCISSOR_BOX,COLOR_CLEAR_VALUE:t.COLOR_CLEAR_VALUE,COLOR_WRITEMASK:t.COLOR_WRITEMASK,UNPACK_ALIGNMENT:t.UNPACK_ALIGNMENT,PACK_ALIGNMENT:t.PACK_ALIGNMENT,MAX_TEXTURE_SIZE:t.MAX_TEXTURE_SIZE,MAX_VIEWPORT_DIMS:t.MAX_VIEWPORT_DIMS,SUBPIXEL_BITS:t.SUBPIXEL_BITS,RED_BITS:t.RED_BITS,GREEN_BITS:t.GREEN_BITS,BLUE_BITS:t.BLUE_BITS,ALPHA_BITS:t.ALPHA_BITS,DEPTH_BITS:t.DEPTH_BITS,STENCIL_BITS:t.STENCIL_BITS,POLYGON_OFFSET_UNITS:t.POLYGON_OFFSET_UNITS,POLYGON_OFFSET_FACTOR:t.POLYGON_OFFSET_FACTOR,TEXTURE_BINDING_2D:t.TEXTURE_BINDING_2D,SAMPLE_BUFFERS:t.SAMPLE_BUFFERS,SAMPLES:t.SAMPLES,SAMPLE_COVERAGE_VALUE:t.SAMPLE_COVERAGE_VALUE,SAMPLE_COVERAGE_INVERT:t.SAMPLE_COVERAGE_INVERT,NUM_COMPRESSED_TEXTURE_FORMATS:t.NUM_COMPRESSED_TEXTURE_FORMATS,COMPRESSED_TEXTURE_FORMATS:t.COMPRESSED_TEXTURE_FORMATS,DONT_CARE:t.DONT_CARE,FASTEST:t.FASTEST,NICEST:t.NICEST,GENERATE_MIPMAP_HINT:t.GENERATE_MIPMAP_HINT,BYTE:t.BYTE,UNSIGNED_BYTE:t.UNSIGNED_BYTE,SHORT:t.SHORT,UNSIGNED_SHORT:5123,INT:t.INT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:5126,FIXED:t.FIXED,DEPTH_COMPONENT:t.DEPTH_COMPONENT,ALPHA:t.ALPHA,RGB:t.RGB,RGBA:t.RGBA,LUMINANCE:t.LUMINANCE,LUMINANCE_ALPHA:t.LUMINANCE_ALPHA,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,FRAGMENT_SHADER:t.FRAGMENT_SHADER,VERTEX_SHADER:t.VERTEX_SHADER,MAX_VERTEX_ATTRIBS:t.MAX_VERTEX_ATTRIBS,MAX_VERTEX_UNIFORM_VECTORS:t.MAX_VERTEX_UNIFORM_VECTORS,MAX_VARYING_VECTORS:t.MAX_VARYING_VECTORS,MAX_COMBINED_TEXTURE_IMAGE_UNITS:t.MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_VERTEX_TEXTURE_IMAGE_UNITS:t.MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS:t.MAX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS:t.MAX_FRAGMENT_UNIFORM_VECTORS,SHADER_TYPE:t.SHADER_TYPE,DELETE_STATUS:t.DELETE_STATUS,LINK_STATUS:t.LINK_STATUS,VALIDATE_STATUS:t.VALIDATE_STATUS,ATTACHED_SHADERS:t.ATTACHED_SHADERS,ACTIVE_UNIFORMS:t.ACTIVE_UNIFORMS,ACTIVE_UNIFORM_MAX_LENGTH:t.ACTIVE_UNIFORM_MAX_LENGTH,ACTIVE_ATTRIBUTES:t.ACTIVE_ATTRIBUTES,ACTIVE_ATTRIBUTE_MAX_LENGTH:t.ACTIVE_ATTRIBUTE_MAX_LENGTH,SHADING_LANGUAGE_VERSION:t.SHADING_LANGUAGE_VERSION,CURRENT_PROGRAM:t.CURRENT_PROGRAM,NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LEQUAL:t.LEQUAL,GREATER:t.GREATER,NOTEQUAL:t.NOTEQUAL,GEQUAL:t.GEQUAL,ALWAYS:t.ALWAYS,KEEP:t.KEEP,REPLACE:t.REPLACE,INCR:t.INCR,DECR:t.DECR,INVERT:t.INVERT,INCR_WRAP:t.INCR_WRAP,DECR_WRAP:t.DECR_WRAP,VENDOR:t.VENDOR,RENDERER:t.RENDERER,VERSION:t.VERSION,EXTENSIONS:t.EXTENSIONS,NEAREST:t.NEAREST,LINEAR:t.LINEAR,NEAREST_MIPMAP_NEAREST:t.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:t.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR,TEXTURE_MAG_FILTER:t.TEXTURE_MAG_FILTER,TEXTURE_MIN_FILTER:t.TEXTURE_MIN_FILTER,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,TEXTURE:t.TEXTURE,TEXTURE_CUBE_MAP:t.TEXTURE_CUBE_MAP,TEXTURE_BINDING_CUBE_MAP:t.TEXTURE_BINDING_CUBE_MAP,TEXTURE_CUBE_MAP_POSITIVE_X:t.TEXTURE_CUBE_MAP_POSITIVE_X,TEXTURE_CUBE_MAP_NEGATIVE_X:t.TEXTURE_CUBE_MAP_NEGATIVE_X,TEXTURE_CUBE_MAP_POSITIVE_Y:t.TEXTURE_CUBE_MAP_POSITIVE_Y,TEXTURE_CUBE_MAP_NEGATIVE_Y:t.TEXTURE_CUBE_MAP_NEGATIVE_Y,TEXTURE_CUBE_MAP_POSITIVE_Z:t.TEXTURE_CUBE_MAP_POSITIVE_Z,TEXTURE_CUBE_MAP_NEGATIVE_Z:t.TEXTURE_CUBE_MAP_NEGATIVE_Z,MAX_CUBE_MAP_TEXTURE_SIZE:t.MAX_CUBE_MAP_TEXTURE_SIZE,TEXTURE0:33984,TEXTURE1:t.TEXTURE1,TEXTURE2:t.TEXTURE2,TEXTURE3:t.TEXTURE3,TEXTURE4:t.TEXTURE4,TEXTURE5:t.TEXTURE5,TEXTURE6:t.TEXTURE6,TEXTURE7:t.TEXTURE7,TEXTURE8:t.TEXTURE8,TEXTURE9:t.TEXTURE9,TEXTURE10:t.TEXTURE10,TEXTURE11:t.TEXTURE11,TEXTURE12:t.TEXTURE12,TEXTURE13:t.TEXTURE13,TEXTURE14:t.TEXTURE14,TEXTURE15:t.TEXTURE15,TEXTURE16:t.TEXTURE16,TEXTURE17:t.TEXTURE17,TEXTURE18:t.TEXTURE18,TEXTURE19:t.TEXTURE19,TEXTURE20:t.TEXTURE20,TEXTURE21:t.TEXTURE21,TEXTURE22:t.TEXTURE22,TEXTURE23:t.TEXTURE23,TEXTURE24:t.TEXTURE24,TEXTURE25:t.TEXTURE25,TEXTURE26:t.TEXTURE26,TEXTURE27:t.TEXTURE27,TEXTURE28:t.TEXTURE28,TEXTURE29:t.TEXTURE29,TEXTURE30:t.TEXTURE30,TEXTURE31:t.TEXTURE31,ACTIVE_TEXTURE:t.ACTIVE_TEXTURE,REPEAT:t.REPEAT,CLAMP_TO_EDGE:t.CLAMP_TO_EDGE,MIRRORED_REPEAT:t.MIRRORED_REPEAT,FLOAT_VEC2:t.FLOAT_VEC2,FLOAT_VEC3:t.FLOAT_VEC3,FLOAT_VEC4:t.FLOAT_VEC4,INT_VEC2:t.INT_VEC2,INT_VEC3:t.INT_VEC3,INT_VEC4:t.INT_VEC4,BOOL:t.BOOL,BOOL_VEC2:t.BOOL_VEC2,BOOL_VEC3:t.BOOL_VEC3,BOOL_VEC4:t.BOOL_VEC4,FLOAT_MAT2:t.FLOAT_MAT2,FLOAT_MAT3:t.FLOAT_MAT3,FLOAT_MAT4:t.FLOAT_MAT4,SAMPLER_2D:t.SAMPLER_2D,SAMPLER_CUBE:t.SAMPLER_CUBE,VERTEX_ATTRIB_ARRAY_ENABLED:t.VERTEX_ATTRIB_ARRAY_ENABLED,VERTEX_ATTRIB_ARRAY_SIZE:t.VERTEX_ATTRIB_ARRAY_SIZE,VERTEX_ATTRIB_ARRAY_STRIDE:t.VERTEX_ATTRIB_ARRAY_STRIDE,VERTEX_ATTRIB_ARRAY_TYPE:t.VERTEX_ATTRIB_ARRAY_TYPE,VERTEX_ATTRIB_ARRAY_NORMALIZED:t.VERTEX_ATTRIB_ARRAY_NORMALIZED,VERTEX_ATTRIB_ARRAY_POINTER:t.VERTEX_ATTRIB_ARRAY_POINTER,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING,IMPLEMENTATION_COLOR_READ_TYPE:t.IMPLEMENTATION_COLOR_READ_TYPE,IMPLEMENTATION_COLOR_READ_FORMAT:t.IMPLEMENTATION_COLOR_READ_FORMAT,COMPILE_STATUS:t.COMPILE_STATUS,INFO_LOG_LENGTH:t.INFO_LOG_LENGTH,SHADER_SOURCE_LENGTH:t.SHADER_SOURCE_LENGTH,SHADER_COMPILER:t.SHADER_COMPILER,SHADER_BINARY_FORMATS:t.SHADER_BINARY_FORMATS,NUM_SHADER_BINARY_FORMATS:t.NUM_SHADER_BINARY_FORMATS,LOW_FLOAT:t.LOW_FLOAT,MEDIUM_FLOAT:t.MEDIUM_FLOAT,HIGH_FLOAT:t.HIGH_FLOAT,LOW_INT:t.LOW_INT,MEDIUM_INT:t.MEDIUM_INT,HIGH_INT:t.HIGH_INT,FRAMEBUFFER:t.FRAMEBUFFER,RENDERBUFFER:t.RENDERBUFFER,RGBA4:t.RGBA4,RGB5_A1:t.RGB5_A1,RGB565:t.RGB565,DEPTH_COMPONENT16:t.DEPTH_COMPONENT16,STENCIL_INDEX:t.STENCIL_INDEX,STENCIL_INDEX8:t.STENCIL_INDEX8,DEPTH_STENCIL:t.DEPTH_STENCIL,RENDERBUFFER_WIDTH:t.RENDERBUFFER_WIDTH,RENDERBUFFER_HEIGHT:t.RENDERBUFFER_HEIGHT,RENDERBUFFER_INTERNAL_FORMAT:t.RENDERBUFFER_INTERNAL_FORMAT,RENDERBUFFER_RED_SIZE:t.RENDERBUFFER_RED_SIZE,RENDERBUFFER_GREEN_SIZE:t.RENDERBUFFER_GREEN_SIZE,RENDERBUFFER_BLUE_SIZE:t.RENDERBUFFER_BLUE_SIZE,RENDERBUFFER_ALPHA_SIZE:t.RENDERBUFFER_ALPHA_SIZE,RENDERBUFFER_DEPTH_SIZE:t.RENDERBUFFER_DEPTH_SIZE,RENDERBUFFER_STENCIL_SIZE:t.RENDERBUFFER_STENCIL_SIZE,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,COLOR_ATTACHMENT0:t.COLOR_ATTACHMENT0,DEPTH_ATTACHMENT:t.DEPTH_ATTACHMENT,STENCIL_ATTACHMENT:t.STENCIL_ATTACHMENT,DEPTH_STENCIL_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT,NONE:t.NONE,FRAMEBUFFER_COMPLETE:t.FRAMEBUFFER_COMPLETE,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,FRAMEBUFFER_UNSUPPORTED:t.FRAMEBUFFER_UNSUPPORTED,FRAMEBUFFER_BINDING:t.FRAMEBUFFER_BINDING,RENDERBUFFER_BINDING:t.RENDERBUFFER_BINDING,MAX_RENDERBUFFER_SIZE:t.MAX_RENDERBUFFER_SIZE,INVALID_FRAMEBUFFER_OPERATION:t.INVALID_FRAMEBUFFER_OPERATION,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,CONTEXT_LOST_WEBGL:t.CONTEXT_LOST_WEBGL,UNPACK_COLORSPACE_CONVERSION_WEBGL:t.UNPACK_COLORSPACE_CONVERSION_WEBGL,BROWSER_DEFAULT_WEBGL:t.BROWSER_DEFAULT_WEBGL},Object.defineProperty(e,"drawingBufferWidth",{get:function(){return a(T(this).ctxid),R.pushInt32(146),R.batchRender()},configurable:!0,enumerable:!0}),Object.defineProperty(e,"drawingBufferHeight",{get:function(){return a(T(this).ctxid),R.pushInt32(147),R.batchRender()},configurable:!0,enumerable:!0});var E=Object.create(e);return T(E).origin_ctx=t,T(E).ctxid=t.__uid(),E.__closeCommandBuffer=function(){R.batchRender();let t=Object.getOwnPropertyNames(e);for(let r=0;r<t.length;r++){const _=t[r];if("function"==typeof E[_]){let t=E[_];e[_]=function(){let e=t.apply(this,arguments);return R.offsetPerFourBytes>2&&R.batchRender(),e}}}},E}}()},function(t,e){var E;!function(t){t.some=function(t,e){return null!=t?t:e},t.some3=function(t,e,E){return null!=t?t:null!=e?e:E},t.Gfx=class{constructor(e){this.gfx=e,t.setGfxConsts(this),this.features=[],this.features_getted=!1}waitFenceSync(t){return t=t||0,this.gfx.waitFenceSync(t)}queryFeature(t){return this.features_getted||(this.features=this.gfx.queryFeatures(),this.features_getted=!0),this.features[t]}makePass(t){var e=this.gfx.makePass(JSON.stringify(t));return e.desc=t,e}makeBuffer(t){var e,E;null!=t.content&&(ArrayBuffer.isView(t.content)?(E=this.gfx.createNativeBuffer(t.content),e=t.content,t.content=E.id):(e=t.content,t.content=t.id));var r=this.gfx.makeBuffer(JSON.stringify(t));return e&&(t.content=e),r}updateBuffer(t,e,E,r,_){if(ArrayBuffer.isView(E)){var n=this.gfx.createNativeBuffer(E);r||(r=0),_||(_=E.byteLength-r),this.gfx.updateBuffer(t.id,e,n.id,r,_)}else r||(r=0),_||(_=E.data.byteLength-r),this.gfx.updateBuffer(t.id,e,E.id,r,_)}makeShader(t){return t.binary?(ArrayBuffer.isView(t.binary)&&(t.binary=this.gfx.createNativeBuffer(t.binary)),t.binary=t.binary.id,this.gfx.makeShader(JSON.stringify(t))):this.gfx.makeShader(JSON.stringify(t))}makeImage(t){var e=[];if(null!=t.content&&null!=t.content.subimage)for(var E=0;E<this.CUBEFACE_NUM;E++)if(e[E]=[],null!=t.content.subimage[E])for(var r=0;r<this.MAX_MIPMAPS;r++)if(null!=t.content.subimage[E][r]){var _=t.content.subimage[E][r];if(ArrayBuffer.isView(_)){var n=this.gfx.createNativeBuffer(_);e[E][r]={buffer:n,oldSubImage:_},t.content.subimage[E][r]={buffer_id:n.id}}else _.__uid?(e[E][r]={buffer:null,oldSubImage:t.content.subimage[E][r]},t.content.subimage[E][r]={image_id:t.content.subimage[E][r].__uid()}):(e[E][r]={oldSubImage:_},t.content.subimage[E][r]={buffer_id:_.id})}var A=this.gfx.makeImage(JSON.stringify(t));for(E=0;E<this.CUBEFACE_NUM;E++)if(null!=e[E])for(r=0;r<this.MAX_MIPMAPS;r++)null!=e[E][r]&&(t.content.subimage[E][r]=e[E][r].oldSubImage);return A}updateImage(t,e){var E=[];if(null!=e.content&&null!=e.content.subimage)for(var r=0;r<this.CUBEFACE_NUM;r++)if(E[r]=[],null!=e.content.subimage[r])for(var _=0;_<this.MAX_MIPMAPS;_++)if(null!=e.content.subimage[r][_]){var n=e.content.subimage[r][_];if(ArrayBuffer.isView(n)){var A=this.gfx.createNativeBuffer(n);E[r][_]={buffer:A,oldSubImage:n},e.content.subimage[r][_]={buffer_id:A.id}}else e.content.subimage[r][_].__uid?(E[r][_]={buffer:null,oldSubImage:e.content.subimage[r][_]},e.content.subimage[r][_]={image_id:e.content.subimage[r][_].__uid()}):(E[r][_]={oldSubImage:n},e.content.subimage[r][_]={buffer_id:n.id})}for(this.gfx.updateImage(t.id,JSON.stringify(e)),r=0;r<this.CUBEFACE_NUM;r++)if(null!=E[r])for(_=0;_<this.MAX_MIPMAPS;_++)null!=E[r][_]&&(e.content.subimage[r][_]=E[r][_].oldSubImage)}makePipeline(t){var e=this.gfx.makePipeline(JSON.stringify(t));return t.shader&&(e.shader=t.shader),e}makePassAction(t){return JSON.stringify(t)}beginPass(t,e){this.gfx.beginPass(t.id,e)}beginDefaultPass(t,e,E){this.gfx.beginDefaultPass(t,e,E)}applyPipeline(t){this.gfx.applyPipeline(t.id)}makeBindings(t){return{bindings:t,json:JSON.stringify(t)}}applyBindings(t){this.gfx.applyBindings(t.json)}queryGlyphBitmapInfo(t,e){return this.gfx.queryGlyphBitmapInfo(t,e)}queryShaderBinary(t){return this.gfx.queryShaderBinary(t.id)}queryShaderBinaryAsync(t,e){return this.gfx.queryShaderBinaryAsync(t.id,e)}applyUniforms(t,e,E){if(ArrayBuffer.isView(E)){var r=this.gfx.createNativeBuffer(E);this.gfx.applyUniforms(t,e,r.id)}else this.gfx.applyUniforms(t,e,E.id)}applyUniformBlock(t,e,E){this.gfx.applyUniformBlock(t,e,E.id)}applyViewport(t,e,E,r,_){this.gfx.applyViewport(t,e,E,r,_)}applyScissorRect(t,e,E,r,_){this.gfx.applyScissorRect(t,e,E,r,_)}draw(t,e,E){this.gfx.draw(t,e,E)}endPass(){this.gfx.endPass()}commit(){this.gfx.commit()}createNativeBuffer(t){return this.gfx.createNativeBuffer(t)}queryPassState(t){return this.gfx.queryPassState(t.id)}queryBufferState(t){return this.gfx.queryBufferState(t.id)}queryImageState(t){return this.gfx.queryImageState(t.id)}queryShaderState(t){return this.gfx.queryShaderState(t.id)}queryPipelineState(t){return this.gfx.queryPipelineState(t.id)}queryBackend(){return this.gfx.queryBackend()}},t.setGfxConsts=function(t){t.BACKEND_GLES2=0,t.BACKEND_GLES3=1,t.BACKEND_METAL=2,t.FEATURE_INSTANCING=0,t.FEATURE_TEXTURE_COMPRESSION_DXT=1,t.FEATURE_TEXTURE_COMPRESSION_PVRTC=2,t.FEATURE_TEXTURE_COMPRESSION_ATC=3,t.FEATURE_TEXTURE_COMPRESSION_ETC2=4,t.FEATURE_TEXTURE_FLOAT=5,t.FEATURE_TEXTURE_HALF_FLOAT=6,t.FEATURE_ORIGIN_BOTTOM_LEFT=7,t.FEATURE_ORIGIN_TOP_LEFT=8,t.FEATURE_MSAA_RENDER_TARGETS=9,t.FEATURE_PACKED_VERTEX_FORMAT_10_2=10,t.FEATURE_MULTIPLE_RENDER_TARGET=11,t.FEATURE_IMAGETYPE_3D=12,t.FEATURE_IMAGETYPE_ARRAY=13,t.FEATURE_TEXTURE_COMPRESSION_ETC1=14,t.FEATURE_TEXTURE_COMPRESSION_ASTC_8x8=15,t.FEATURE_TEXTURE_COMPRESSION_ASTC_FULL=16,t.FEATURE_SHADER_BINARY=17,t.NUM_FEATURES=18,t.RESOURCESTATE_INITIAL=0,t.RESOURCESTATE_ALLOC=1,t.RESOURCESTATE_VALID=2,t.RESOURCESTATE_FAILED=3,t.RESOURCESTATE_INVALID=4,t.USAGE_IMMUTABLE=1,t.USAGE_DYNAMIC=2,t.USAGE_STREAM=3,t.BUFFERTYPE_VERTEXBUFFER=1,t.BUFFERTYPE_INDEXBUFFER=2,t.INDEXTYPE_NONE=1,t.INDEXTYPE_UINT16=2,t.INDEXTYPE_UINT32=3,t.IMAGETYPE_2D=1,t.IMAGETYPE_CUBE=2,t.IMAGETYPE_3D=3,t.IMAGETYPE_ARRAY=4,t.CUBEFACE_POS_X=0,t.CUBEFACE_NEG_X=1,t.CUBEFACE_POS_Y=2,t.CUBEFACE_NEG_Y=3,t.CUBEFACE_POS_Z=4,t.CUBEFACE_NEG_Z=5,t.CUBEFACE_NUM=6,t.SHADERSTAGE_VS=0,t.SHADERSTAGE_FS=1,t.PIXELFORMAT_NONE=1,t.PIXELFORMAT_RGBA8=2,t.PIXELFORMAT_RGB8=3,t.PIXELFORMAT_RGBA4=4,t.PIXELFORMAT_R5G6B5=5,t.PIXELFORMAT_R5G5B5A1=6,t.PIXELFORMAT_R10G10B10A2=7,t.PIXELFORMAT_RGBA32F=8,t.PIXELFORMAT_RGBA16F=9,t.PIXELFORMAT_R32F=10,t.PIXELFORMAT_R16F=11,t.PIXELFORMAT_L8=12,t.PIXELFORMAT_DXT1=13,t.PIXELFORMAT_DXT3=14,t.PIXELFORMAT_DXT5=15,t.PIXELFORMAT_DEPTH=16,t.PIXELFORMAT_DEPTHSTENCIL=17,t.PIXELFORMAT_PVRTC2_RGB=18,t.PIXELFORMAT_PVRTC4_RGB=19,t.PIXELFORMAT_PVRTC2_RGBA=20,t.PIXELFORMAT_PVRTC4_RGBA=21,t.PIXELFORMAT_ETC2_RGB8=22,t.PIXELFORMAT_ETC2_SRGB8=23,t.PIXELFORMAT_ETC1_RGB8=24,t.PIXELFORMAT_PVR_CCZ=25,t.PIXELFORMAT_PVR_GZ=26,t.PRIMITIVETYPE_POINTS=1,t.PRIMITIVETYPE_LINES=2,t.PRIMITIVETYPE_LINE_STRIP=3,t.PRIMITIVETYPE_TRIANGLES=4,t.PRIMITIVETYPE_TRIANGLE_STRIP=5,t.FILTER_NEAREST=1,t.FILTER_LINEAR=2,t.FILTER_NEAREST_MIPMAP_NEAREST=3,t.FILTER_NEAREST_MIPMAP_LINEAR=4,t.FILTER_LINEAR_MIPMAP_NEAREST=5,t.FILTER_LINEAR_MIPMAP_LINEAR=6,t.WRAP_REPEAT=1,t.WRAP_CLAMP_TO_EDGE=2,t.WRAP_MIRRORED_REPEAT=3,t.VERTEXFORMAT_INVALID=0,t.VERTEXFORMAT_FLOAT=1,t.VERTEXFORMAT_FLOAT2=2,t.VERTEXFORMAT_FLOAT3=3,t.VERTEXFORMAT_FLOAT4=4,t.VERTEXFORMAT_BYTE4=5,t.VERTEXFORMAT_BYTE4N=6,t.VERTEXFORMAT_UBYTE4=7,t.VERTEXFORMAT_UBYTE4N=8,t.VERTEXFORMAT_SHORT2=9,t.VERTEXFORMAT_SHORT2N=10,t.VERTEXFORMAT_SHORT4=11,t.VERTEXFORMAT_SHORT4N=12,t.VERTEXFORMAT_UINT10_N2=13,t.VERTEXSTEP_PER_VERTEX=1,t.VERTEXSTEP_PER_INSTANCE=2,t.UNIFORMTYPE_INVALID=0,t.UNIFORMTYPE_FLOAT=1,t.UNIFORMTYPE_FLOAT2=2,t.UNIFORMTYPE_FLOAT3=3,t.UNIFORMTYPE_FLOAT4=4,t.UNIFORMTYPE_MAT4=5,t.CULLMODE_NONE=1,t.CULLMODE_FRONT=2,t.CULLMODE_BACK=3,t.FACEWINDING_CCW=1,t.FACEWINDING_CW=2,t.COMPAREFUNC_NEVER=1,t.COMPAREFUNC_LESS=2,t.COMPAREFUNC_EQUAL=3,t.COMPAREFUNC_LESS_EQUAL=4,t.COMPAREFUNC_GREATER=5,t.COMPAREFUNC_NOT_EQUAL=6,t.COMPAREFUNC_GREATER_EQUAL=7,t.COMPAREFUNC_ALWAYS=8,t.STENCILOP_KEEP=1,t.STENCILOP_ZERO=2,t.STENCILOP_REPLACE=3,t.STENCILOP_INCR_CLAMP=4,t.STENCILOP_DECR_CLAMP=5,t.STENCILOP_INVERT=6,t.STENCILOP_INCR_WRAP=7,t.STENCILOP_DECR_WRAP=8,t.BLENDFACTOR_ZERO=1,t.BLENDFACTOR_ONE=2,t.BLENDFACTOR_SRC_COLOR=3,t.BLENDFACTOR_ONE_MINUS_SRC_COLOR=4,t.BLENDFACTOR_SRC_ALPHA=5,t.BLENDFACTOR_ONE_MINUS_SRC_ALPHA=6,t.BLENDFACTOR_DST_COLOR=7,t.BLENDFACTOR_ONE_MINUS_DST_COLOR=8,t.BLENDFACTOR_DST_ALPHA=9,t.BLENDFACTOR_ONE_MINUS_DST_ALPHA=10,t.BLENDFACTOR_SRC_ALPHA_SATURATED=11,t.BLENDFACTOR_BLEND_COLOR=12,t.BLENDFACTOR_ONE_MINUS_BLEND_COLOR=13,t.BLENDFACTOR_BLEND_ALPHA=14,t.BLENDFACTOR_ONE_MINUS_BLEND_ALPHA=15,t.BLENDOP_ADD=1,t.BLENDOP_SUBTRACT=2,t.BLENDOP_REVERSE_SUBTRACT=3,t.COLORMASK_NONE=16,t.COLORMASK_R=1,t.COLORMASK_G=2,t.COLORMASK_B=4,t.COLORMASK_A=8,t.COLORMASK_RGB=7,t.COLORMASK_RGBA=15,t.ACTION_CLEAR=1,t.ACTION_LOAD=2,t.ACTION_DONTCARE=3,t.INVALID_ID=0,t.NUM_SHADER_STAGES=2,t.NUM_INFLIGHT_FRAMES=2,t.MAX_COLOR_ATTACHMENTS=4,t.MAX_SHADERSTAGE_BUFFERS=4,t.MAX_SHADERSTAGE_IMAGES=12,t.MAX_SHADERSTAGE_UBS=4,t.MAX_UB_MEMBERS=16,t.MAX_VERTEX_ATTRIBUTES=16,t.MAX_MIPMAPS=16,t.MAX_TEXTUREARRAY_LAYERS=128,t.UNSIGNED_BYTE=5121,t.FLOAT=5126,t.UNSIGNED_SHORT_5_6_5=33635,t.UNSIGNED_SHORT_4_4_4_4=32819,t.UNSIGNED_SHORT_5_5_5_1=32820,t.JS_THREAD_FLUSH=1,t.JS_THREAD_WAIT=2,t.FENCE_SYNC_WAIT=16,t.FENCE_SYNC_CLIENT_WAIT=32}}(E||(E={})),NativeGlobal.buildGfx=function(t){return new E.Gfx(t)}},function(t,e){!function(){let t=NativeGlobal.CpuProfiler,e=NativeGlobal.HeapProfiler;NativeGlobal.Profiler=new class{constructor(){this._CPUProfiler=new t,this._HeapProfiler=new e}startCpuProfiling(){return this._CPUProfiler.startProfiling()}stopCpuProfiling(){return this._CPUProfiler.stopProfiling()}takeHeapSnapshot(){return this._HeapProfiler.takeSnapshot()}}}()},function(t,e){const E=NativeGlobal.Canvas,r=NativeGlobal.ScreenCanvas,_=NativeGlobal.EventHandler,n=NativeGlobal.EventHandler={},A=new WeakSet;let i;function T(t){return t.map((function(t){return Object.assign({},t)}))}NativeGlobal.Canvas=function(){const t=new E;return i||(i=t),t},NativeGlobal.ScreenCanvas=function(){const t=new r;return A.add(t),t},["ontouchstart","ontouchmove","ontouchend","ontouchcancel"].forEach(t=>_[t]=e=>{let E=!1;if(A.has(e.target)&&"function"==typeof e.target[t]){const r=e.target[t]({type:t,touches:T(e.touches),changedTouches:T(e.changedTouches),timeStamp:e.timeStamp});"boolean"!=typeof r||r||(E=!0)}E||"function"==typeof n[t]&&n[t](Object.assign(e,{target:i}))}),n.addEventListener=function(t,e){_.addEventListener(t,e)},n.removeEventListener=function(t,e){_.removeEventListener(t,e)}}]);